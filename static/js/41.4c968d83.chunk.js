(this.webpackJsonpivan=this.webpackJsonpivan||[]).push([[41],{453:function(e,t,n){"use strict";n.r(t);var i=n(3),r=n.n(i),o=n(7),d=n(6),a=n(1),s=n(91),c=n(10),l=n(0),p=n.n(l),m=n(12),u=n(29),g=n(44),w=n(90),h=n(2),f=Object(a.d)("div").withConfig({displayName:"PresentesModal___StyledDiv",componentId:"qwga6w-0"})(["",""],(function(e){return e._css})),b=Object(a.d)("div").withConfig({displayName:"PresentesModal___StyledDiv2",componentId:"qwga6w-1"})({display:"flex",justifyContent:"space-between"}),x=Object(a.d)("div").withConfig({displayName:"PresentesModal___StyledDiv3",componentId:"qwga6w-2"})({width:"400px",paddingLeft:"0.5rem",paddingRight:"0.5rem"}),_=Object(a.d)("div").withConfig({displayName:"PresentesModal___StyledDiv4",componentId:"qwga6w-3"})({paddingLeft:"0.75rem",marginBottom:"0.25rem"}),v=Object(a.d)("div").withConfig({displayName:"PresentesModal___StyledDiv5",componentId:"qwga6w-4"})({fontWeight:"700",textAlign:"left",fontSize:"1rem",marginBottom:"0.25rem"}),j=Object(a.d)("input").withConfig({displayName:"PresentesModal___StyledInput",componentId:"qwga6w-5"})({width:"90%",borderRadius:"1rem",paddingLeft:"0.25rem",paddingRight:"0.25rem","--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))"}),y=Object(a.d)("div").withConfig({displayName:"PresentesModal___StyledDiv6",componentId:"qwga6w-6"})(["",""],(function(e){return e._css2})),O=Object(a.d)("button").withConfig({displayName:"PresentesModal___StyledButton",componentId:"qwga6w-7"})(["",""],(function(e){return e._css3})),S=Object(a.d)("img").withConfig({displayName:"PresentesModal___StyledImg",componentId:"qwga6w-8"})(["",""],(function(e){return e._css4})),C=Object(a.d)("span").withConfig({displayName:"PresentesModal___StyledSpan",componentId:"qwga6w-9"})(["",""],(function(e){return e._css5})),I=Object(a.d)("div").withConfig({displayName:"PresentesModal___StyledDiv7",componentId:"qwga6w-10"})({width:"400px",paddingLeft:"0.5rem",paddingRight:"0.5rem"}),P=Object(a.d)("div").withConfig({displayName:"PresentesModal___StyledDiv8",componentId:"qwga6w-11"})({paddingLeft:"0.75rem",marginBottom:"0.25rem"}),M=Object(a.d)("div").withConfig({displayName:"PresentesModal___StyledDiv9",componentId:"qwga6w-12"})({fontWeight:"700",textAlign:"left",fontSize:"1rem",marginBottom:"0.25rem"}),N=Object(a.d)("input").withConfig({displayName:"PresentesModal___StyledInput2",componentId:"qwga6w-13"})({width:"90%",borderRadius:"1rem",paddingLeft:"0.25rem",paddingRight:"0.25rem","--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))"}),q=Object(a.d)("div").withConfig({displayName:"PresentesModal___StyledDiv10",componentId:"qwga6w-14"})(["",""],(function(e){return e._css6})),D=Object(a.d)("button").withConfig({displayName:"PresentesModal___StyledButton2",componentId:"qwga6w-15"})(["",""],(function(e){return e._css7})),L=Object(a.d)("img").withConfig({displayName:"PresentesModal___StyledImg2",componentId:"qwga6w-16"})(["",""],(function(e){return e._css8})),R=Object(a.d)("span").withConfig({displayName:"PresentesModal___StyledSpan2",componentId:"qwga6w-17"})(["",""],(function(e){return e._css9}));t.default=function(e){var t,n,i,a,l=e.perfilId,k=e.setShowPresentesModal,B=m.b.getQueryData(["operadores"]),A=m.b.getQueryData(["perfiles"]),Q=p.a.useState(""),T=Object(d.a)(Q,2),W=T[0],F=T[1],J=p.a.useState(""),z=Object(d.a)(J,2),E=z[0],X=z[1],G=p.a.useState(!1),H=Object(d.a)(G,2),K=H[0],U=H[1],V=function(){var e=Object(o.a)(r.a.mark((function e(t,n,i){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return U(!0),e.prev=1,e.next=4,Object(c.u)("/profiles/save-present",{headers:{"Content-Type":"application/json"},body:JSON.stringify({operator:t,profile:n,option:i}),method:"POST"});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0);case 9:return e.next=11,m.b.invalidateQueries(["perfiles"]);case 11:return e.next=13,m.b.invalidateQueries(["operadores"]);case 13:U(!1);case 14:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n,i){return e.apply(this,arguments)}}(),Y=null===A||void 0===A?void 0:A.find((function(e){return e.id===l}));return Object(h.jsx)(s.a,{setShowModal:k,children:Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)(f,{_css:[{"--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",display:"flex",width:"800px",flexShrink:"1",height:"500px","@media (min-width: 768px)":{padding:"0.5rem",gap:"0.375rem"},"@media (min-width: 1024px)":{padding:"1rem",gap:"0.75rem"}},"@media (min-width: 2560px) { padding: 1rem !important; grid-gap: 0.75rem !important; }"],children:[K?Object(h.jsx)(g.a,{}):null,Object(h.jsxs)(b,{children:[Object(h.jsxs)(x,{children:[Object(h.jsxs)(_,{children:[Object(h.jsx)(v,{children:"Seleccionar Operadores"}),Object(h.jsx)(j,{type:"text",placeholder:"Buscar",value:W,onChange:function(e){return F(e.target.value)}})]}),Object(h.jsx)(y,{_css2:[{display:"flex",flexWrap:"wrap",height:"90%",overflowX:"hidden"},u.b],children:null===B||void 0===B||null===(t=B.filter((function(e){return!1===e.hidden&&e.nombre.toLowerCase().includes(W.toLowerCase())&&"admin"!==e.role})))||void 0===t||null===(n=t.filter((function(e){return!Y.operadoresPresentesIds.includes(e.id)})))||void 0===n?void 0:n.map((function(e){return Object(h.jsxs)(O,{onClick:function(){return V(e.id,l,"go")},_css3:[{display:"flex",flexDirection:"column",":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))"},padding:"0.125rem",borderRadius:"0.25rem",gap:"0.25rem",height:"6rem",":focus":{outline:"2px solid transparent",outlineOffset:"2px"},textAlign:"center",alignItems:"center"},"@media (min-width: 2560px) { padding: 1rem !important; }"],children:[Object(h.jsx)(S,{src:e.foto,alt:"Foto de cliente",onError:function(e){var t=e.currentTarget;t.onerror=null,t.src=w.a},_css4:[{borderRadius:"9999px",width:"4rem",height:"4rem"},"@media (min-width: 2560px) { width: 7rem !important; height: 7rem !important; }"]}),Object(h.jsx)(C,{_css5:[{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",width:"80px",textAlign:"center"},"@media (min-width: 2560px) { width: 120px !important; }"],children:e.nombre})]},e.id)}))})]}),Object(h.jsxs)(I,{children:[Object(h.jsxs)(P,{children:[Object(h.jsx)(M,{children:"Operadores"})," ",Object(h.jsx)(N,{type:"text",placeholder:"Buscar",value:E,onChange:function(e){return X(e.target.value)}})]}),Object(h.jsx)(q,{_css6:[{display:"flex",flexWrap:"wrap",height:"90%",overflowX:"hidden"},u.b],children:null===B||void 0===B||null===(i=B.filter((function(e){var t,n;return null===e||void 0===e||null===(t=e.nombre)||void 0===t||null===(n=t.toLowerCase())||void 0===n?void 0:n.includes(null===E||void 0===E?void 0:E.toLowerCase())}),[E]))||void 0===i||null===(a=i.filter((function(e){return Y.operadoresPresentesIds.includes(e.id)})))||void 0===a?void 0:a.map((function(e){return Object(h.jsxs)(D,{onClick:function(){return V(null===e||void 0===e?void 0:e.id,l,"return")},_css7:[{display:"flex",flexDirection:"column",":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))"},padding:"0.125rem",height:"6rem",borderRadius:"0.25rem",gap:"0.25rem",":focus":{outline:"2px solid transparent",outlineOffset:"2px"},textAlign:"center",alignItems:"center"},"@media (min-width: 2560px) { padding: 1rem !important; }"],children:[Object(h.jsx)(L,{src:e.foto,alt:"Foto de cliente",onError:function(e){var t=e.currentTarget;t.onerror=null,t.src=w.a},_css8:[{borderRadius:"9999px",width:"4rem",height:"4rem"},"@media (min-width: 2560px) { width: 7rem !important; height: 7rem !important; }"]}),Object(h.jsx)(R,{_css9:[{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",width:"80px",textAlign:"center"},"@media (min-width: 2560px) { width: 120px !important; }"],children:e.nombre})]},e.id)}))})]})]})]})})})}}}]);