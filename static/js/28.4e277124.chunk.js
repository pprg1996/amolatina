(this.webpackJsonpivan=this.webpackJsonpivan||[]).push([[28],{659:function(e,t,i){"use strict";i.r(t);var n=i(6),o=i(2),r=i.n(o),a=i(8),d=i(3),l=i(92),c=i(0),p=i.n(c),s=i(7),u=i(145),m=i(11),b=i(41),h=i(42),g=i(86),j=i(10),v=i.n(j),f=i(108),x=i(167),w=i(93),_=i(1);function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return"".concat(e.getUTCFullYear(),"-").concat(e.getUTCMonth()+1<10?"0".concat(e.getUTCMonth()+1):e.getUTCMonth()+1,"-").concat(e.getUTCDate()<10?"0".concat(e.getUTCDate()):e.getUTCDate())}var O=Object(d.d)(u.a).withConfig({displayName:"ModalReport__CoronaSvg",componentId:"sc-1p0e5u-0"})(["",""],g.a),C=d.d.span.withConfig({displayName:"ModalReport__Id",componentId:"sc-1p0e5u-1"})(["@media (min-width:2560px){font-size:0.75rem !important;}@media (min-height:1000px) and (min-width:651px) and (max-width:767px){font-size:0.975rem !important;}@media (min-height:1000px) and (min-width:451px) and (max-width:650px){font-size:0.75rem !important;}@media (min-width:651px) and (max-width:767px) and (max-height:999px){font-size:0.8rem !important;}@media (min-width:401px) and (max-width:650px) and (max-height:999px){font-size:0.7rem !important;}@media (max-width:400px) and (max-height:999px){font-size:0.4rem !important;}",""],{fontSize:"0.35rem","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",width:"8em",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",textAlign:"center","@media (min-width: 1024px)":{fontSize:"0.4rem"},"@media (min-width: 1280px)":{fontSize:"0.5rem"},"@media (min-width: 1536px)":{fontSize:"0.6rem"}}),R=Object(d.d)(C).withConfig({displayName:"ModalReport___StyledId",componentId:"sc-1p0e5u-2"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(5, 150, 105, var(--tw-bg-opacity))",borderRadius:"1rem",width:"6em"});function S(e,t){return e.setUTCDate(e.getUTCDate()+t),e}var I=function(){var e=Object(a.a)(r.a.mark((function e(t,i,n,o,a,d,l){var c,p,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=+v.a.get("id"),p=v.a.get("role"),u="supervisor"===p?"&supervisorId=".concat(c):"",1!==a||"admin"!==p){e.next=5;break}return e.abrupt("return",[]);case 5:if(2!==a||"operator"!==p&&"support"!==p){e.next=7;break}return e.abrupt("return",[]);case 7:if(3!==a||"operator"!==p&&"support"!==p||null!==i&&"general"!==l){e.next=9;break}return e.abrupt("return",[]);case 9:return null===o&&(o=y()),e.next=12,Object(s.customFetch)("/operators/list-clients-report?operadorId=".concat(i,"&agencyId=").concat(n,"&date=").concat(o,"&type=").concat(a,"&shift=").concat(d).concat(u));case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e)})));return function(t,i,n,o,r,a,d){return e.apply(this,arguments)}}(),D=function(){var e=Object(a.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.customFetch)("/agency/list");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv",componentId:"sc-1p0e5u-3"})({"--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",width:"95vw",height:"85vh",padding:"1.25rem"}),N=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv2",componentId:"sc-1p0e5u-4"})({display:"flex",justifyContent:"center",marginBottom:"0.5rem"}),W=Object(d.d)(f.a).withConfig({displayName:"ModalReport___StyledToggleGroup",componentId:"sc-1p0e5u-5"})({alignSelf:"center"}),T=Object(d.d)(f.b).withConfig({displayName:"ModalReport___StyledToggleGroupItem",componentId:"sc-1p0e5u-6"})(["",""],(function(e){return e._css})),F=Object(d.d)(f.b).withConfig({displayName:"ModalReport___StyledToggleGroupItem2",componentId:"sc-1p0e5u-7"})(["",""],(function(e){return e._css2})),z=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv3",componentId:"sc-1p0e5u-8"})({height:"100%"}),k=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv4",componentId:"sc-1p0e5u-9"})({display:"flex",alignItems:"center",gap:"0.5rem",marginTop:"0.5rem",marginBottom:"0.5rem"}),E=Object(d.d)("select").withConfig({displayName:"ModalReport___StyledSelect",componentId:"sc-1p0e5u-10"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",padding:"0.25rem",borderRadius:"0.25rem"}),L=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv5",componentId:"sc-1p0e5u-11"})(["",""],(function(e){return e._css3})),U=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv6",componentId:"sc-1p0e5u-12"})({borderWidth:"2px","--tw-border-opacity":"1",borderColor:"rgba(220, 38, 38, var(--tw-border-opacity))",padding:"0.5rem",gap:"0.5rem",borderRadius:"1rem"}),B=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv7",componentId:"sc-1p0e5u-13"})({borderWidth:"2px","--tw-border-opacity":"1",borderColor:"rgba(5, 150, 105, var(--tw-border-opacity))",padding:"0.5rem",gap:"0.5rem",borderRadius:"1rem"}),G=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv8",componentId:"sc-1p0e5u-14"})({display:"flex",alignItems:"center",gap:"0.5rem",marginTop:"0.5rem",marginBottom:"0.5rem"}),H=Object(d.d)(x.a).withConfig({displayName:"ModalReport___StyledLeftSvg",componentId:"sc-1p0e5u-15"})({height:"1.5rem",width:"1.5rem"}),V=Object(d.d)("select").withConfig({displayName:"ModalReport___StyledSelect2",componentId:"sc-1p0e5u-16"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",padding:"0.25rem",borderRadius:"0.25rem"}),A=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv9",componentId:"sc-1p0e5u-17"})({display:"flex",justifyContent:"center",alignItems:"center",gap:"0.5rem"}),Y=Object(d.d)(x.a).withConfig({displayName:"ModalReport___StyledLeftSvg2",componentId:"sc-1p0e5u-18"})({width:"1rem",height:"1rem"}),P=Object(d.d)("input").withConfig({displayName:"ModalReport___StyledInput",componentId:"sc-1p0e5u-19"})({"--tw-text-opacity":"1",color:"rgba(23, 23, 28, var(--tw-text-opacity))",padding:"0.25rem",borderRadius:"0.25rem"}),Q=Object(d.d)(x.a).withConfig({displayName:"ModalReport___StyledLeftSvg3",componentId:"sc-1p0e5u-20"})({width:"1rem",height:"1rem"}),J=Object(d.d)("select").withConfig({displayName:"ModalReport___StyledSelect3",componentId:"sc-1p0e5u-21"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",padding:"0.25rem",borderRadius:"0.25rem"}),X=Object(d.d)("select").withConfig({displayName:"ModalReport___StyledSelect4",componentId:"sc-1p0e5u-22"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",padding:"0.25rem",borderRadius:"0.25rem"}),q=Object(d.d)("select").withConfig({displayName:"ModalReport___StyledSelect5",componentId:"sc-1p0e5u-23"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",padding:"0.25rem",borderRadius:"0.25rem"}),K=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv10",componentId:"sc-1p0e5u-24"})(["",""],(function(e){return e._css4})),Z=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv11",componentId:"sc-1p0e5u-25"})({borderWidth:"2px","--tw-border-opacity":"1",borderColor:"rgba(220, 38, 38, var(--tw-border-opacity))",padding:"0.5rem",gap:"0.5rem",borderRadius:"1rem"}),$=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv12",componentId:"sc-1p0e5u-26"})({borderWidth:"2px","--tw-border-opacity":"1",borderColor:"rgba(5, 150, 105, var(--tw-border-opacity))",padding:"0.5rem",gap:"0.5rem",borderRadius:"1rem"}),ee=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv13",componentId:"sc-1p0e5u-27"})({borderWidth:"2px","--tw-border-opacity":"1",borderColor:"rgba(220, 38, 38, var(--tw-border-opacity))",padding:"0.5rem",gap:"0.5rem",borderRadius:"1rem"}),te=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv14",componentId:"sc-1p0e5u-28"})({borderWidth:"2px","--tw-border-opacity":"1",borderColor:"rgba(5, 150, 105, var(--tw-border-opacity))",padding:"0.5rem",gap:"0.5rem",borderRadius:"1rem"}),ie=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv15",componentId:"sc-1p0e5u-29"})({borderWidth:"2px","--tw-border-opacity":"1",borderColor:"rgba(220, 38, 38, var(--tw-border-opacity))",padding:"0.5rem",gap:"0.5rem",borderRadius:"1rem"}),ne=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv16",componentId:"sc-1p0e5u-30"})({borderWidth:"2px","--tw-border-opacity":"1",borderColor:"rgba(5, 150, 105, var(--tw-border-opacity))",padding:"0.5rem",gap:"0.5rem",borderRadius:"1rem"}),oe=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv17",componentId:"sc-1p0e5u-31"})(["",""],(function(e){return e._css5})),re=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv18",componentId:"sc-1p0e5u-32"})({width:"100%",display:"flex",justifyContent:"flex-end"}),ae=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv19",componentId:"sc-1p0e5u-33"})({display:"flex",justifyContent:"space-between",padding:"0.5rem",alignItems:"center"}),de=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv20",componentId:"sc-1p0e5u-34"})({display:"flex",gap:"0.5rem",paddingRight:"0.75rem"}),le=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv21",componentId:"sc-1p0e5u-35"})(["",""],(function(e){return e._css6})),ce=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv22",componentId:"sc-1p0e5u-36"})({position:"relative",display:"flex"}),pe=Object(d.d)("img").withConfig({displayName:"ModalReport___StyledImg",componentId:"sc-1p0e5u-37"})({width:"4em",height:"4em",borderRadius:"9999px",objectFit:"cover"}),se=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv23",componentId:"sc-1p0e5u-38"})(["",""],(function(e){return e._css7})),ue=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv24",componentId:"sc-1p0e5u-39"})(["",""],(function(e){return e._css8})),me=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv25",componentId:"sc-1p0e5u-40"})(["",""],(function(e){return e._css9})),be=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv26",componentId:"sc-1p0e5u-41"})(["",""],(function(e){return e._css10})),he=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv27",componentId:"sc-1p0e5u-42"})({position:"relative",display:"flex"}),ge=Object(d.d)("img").withConfig({displayName:"ModalReport___StyledImg2",componentId:"sc-1p0e5u-43"})({width:"4em",height:"4em",borderRadius:"9999px",objectFit:"cover"}),je=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv28",componentId:"sc-1p0e5u-44"})({display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem","@media (min-width: 1024px)":{gap:"0.75rem"}}),ve=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv29",componentId:"sc-1p0e5u-45"})({position:"relative",display:"flex"}),fe=Object(d.d)("img").withConfig({displayName:"ModalReport___StyledImg3",componentId:"sc-1p0e5u-46"})({width:"4em",height:"4em",borderRadius:"9999px",objectFit:"cover"}),xe=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv30",componentId:"sc-1p0e5u-47"})({width:"100%",display:"flex",gap:"0.5rem",alignItems:"center",justifyContent:"center",marginTop:"0.25rem"}),we=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv31",componentId:"sc-1p0e5u-48"})({display:"flex",flexDirection:"column",width:"100%",gap:"0.5rem"}),_e=Object(d.d)("textarea").withConfig({displayName:"ModalReport___StyledTextarea",componentId:"sc-1p0e5u-49"})(["",""],(function(e){return e._css11})),ye=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv32",componentId:"sc-1p0e5u-50"})(["",""],(function(e){return e._css12})),Oe=function(e){var t,i,o,r,a,d,l,c,u,m,b=e.client,j=e.setIsLoading,f=e.disabled,x=e.flush,y=e.setFlush,S=e.typeWidth,I=+v.a.get("id"),D=v.a.get("role"),M=p.a.useRef(),N=p.a.useRef(),W=Object(s.useCopyTextOnClick)(M,b.client_amolatina_id),T=Object(s.useCopyTextOnClick)(N,b.profile_amolatina_id),F=p.a.useState(null!==b.cvec_id?b.cvec_text:""),z=Object(n.a)(F,2),k=z[0],E=z[1],L=p.a.useState([]),U=Object(n.a)(L,2),B=U[0],G=U[1],H=p.a.useState(!1),V=Object(n.a)(H,2),A=V[0],Y=V[1],P=(m="[object Date]"===Object.prototype.toString.call(new Date(b.timestamp))?isNaN(new Date(b.timestamp))?new Date(b.timestamp):Object(s.converterDateAct)(new Date(b.timestamp)):new Date(b.timestamp)).getHours(),Q=m.getDate();Q=Q<10?"0".concat(Q):Q;var J=m.getMinutes();J=J<10?"0".concat(J):J;var X=Object(s.mesDelYear)(m.getMonth()),q=m.getFullYear(),K=P<12?"am":"pm";return p.a.useEffect((function(){var e,t;if("md"===S||"sm"===S||""===S)G(Object(s.organizadorRadial)(O,4,8,11,null!==(e=null===b||void 0===b||null===(t=b.extradata)||void 0===t?void 0:t.crowns)&&void 0!==e?e:0,11.25));else if("lg"===S){var i,n;G(Object(s.organizadorRadial)(O,5,13,16,null!==(i=null===b||void 0===b||null===(n=b.extradata)||void 0===n?void 0:n.crowns)&&void 0!==i?i:0,11.25))}else if("xl"===S){var o,r;G(Object(s.organizadorRadial)(O,10,21,27,null!==(o=null===b||void 0===b||null===(r=b.extradata)||void 0===r?void 0:r.crowns)&&void 0!==o?o:0,11.25))}else if("2xl"===S){var a,d;G(Object(s.organizadorRadial)(O,10,22,28,null!==(a=null===b||void 0===b||null===(d=b.extradata)||void 0===d?void 0:d.crowns)&&void 0!==a?a:0,11.25))}else{var l,c;G(Object(s.organizadorRadial)(O,12,32,42,null!==(l=null===b||void 0===b||null===(c=b.extradata)||void 0===c?void 0:c.crowns)&&void 0!==l?l:0,11.25))}}),[null===b||void 0===b||null===(t=b.extradata)||void 0===t?void 0:t.crowns,S]),Object(_.jsxs)(oe,{_css5:[{padding:"0.5rem",borderWidth:"2px","--tw-border-opacity":"1",borderColor:"rgba(107, 114, 128, var(--tw-border-opacity))",borderRadius:"20px",alignItems:"center"},"@media (min-width: 2560px) { padding: 1.25rem !important;  }","@media (min-height: 1000px) and (max-width: 767px) { padding: 1.25rem !important; }","@media (max-height: 999px) and (max-width: 767px) { padding: 1.25rem !important; }"],children:[null!==b.cvec_id?Object(_.jsxs)(re,{children:[Q," de ",X," del ",q," - ",P<13?P:P-12,":",J," ",K]}):null,Object(_.jsxs)(ae,{children:[Object(_.jsxs)(de,{children:[Object(_.jsxs)(le,{ref:M,_css6:[{display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem","@media (min-width: 1024px)":{gap:"0.75rem"}},W],children:[Object(_.jsxs)(ce,{children:[B,Object(_.jsx)(pe,{src:null!==(i=null===b||void 0===b?void 0:b.client_photo)&&void 0!==i?i:w.a,onError:function(e){var t=e.currentTarget;t.onerror=null,t.src=w.a},alt:"..."}),Object(_.jsx)(se,{_css7:[{position:"absolute",bottom:"-4px",right:"-4px"},"@media (min-width: 2560px) { bottom: -10px !important; right: -10px !important; }"],children:Object(_.jsxs)(ue,{_css8:[{display:"flex",alignItems:"center",justifyContent:"center","--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))",gap:"0.25rem",paddingLeft:"0.25rem",paddingRight:"0.25rem",minWidth:"1rem","@media (min-width: 768px)":{width:"2rem",borderRadius:"0.375rem"},"@media (min-width: 1024px)":{width:"2.9rem",borderRadius:"0.5rem"},"@media (min-width: 1280px)":{borderRadius:"0.75rem"},"@media (min-width: 1536px)":{borderRadius:"1rem"}},"@media (min-width: 2560px) { padding-right: 0.5rem  !important; padding-left: 0.5rem  !important; width: 5rem !important;  }","@media (min-height: 1000px) and (max-width: 767px) { padding-right: 0.5rem  !important; padding-left: 0.5rem  !important; border-radius: 1rem !important; width: 5rem !important; }","@media (max-height: 999px) and (max-width: 767px) { padding-right: 0.5rem  !important; padding-left: 0.5rem  !important; border-radius: 1rem !important; width: 5rem !important; }"],children:[Object(_.jsxs)(me,{_css9:[{fontSize:"0.2rem","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",fontWeight:"700","@media (min-width: 1024px)":{fontSize:"0.25rem"},"@media (min-width: 1280px)":{fontSize:"0.5rem"},"@media (min-width: 1536px)":{fontSize:"0.5rem"}},"@media (min-width: 2560px) { font-size: 0.75rem !important; line-height: 1rem !important; }","@media (min-height: 1000px) and (max-width: 767px) { font-size: 0.75rem !important; line-height: 1rem !important; }","@media (max-height: 999px) and (max-width: 767px) { font-size: 0.375rem !important;  }"],children:[" ",isNaN(Math.round(((new Date).getTime()-new Date(null!==(o=null===b||void 0===b||null===(r=b.extradata)||void 0===r?void 0:r.first_point)&&void 0!==o?o:"").getTime())/864e5))?0:null!==(a=Math.round(((new Date).getTime()-new Date(null!==(d=null===b||void 0===b||null===(l=b.extradata)||void 0===l?void 0:l.first_point)&&void 0!==d?d:"").getTime())/864e5))&&void 0!==a?a:0]}),Object(_.jsx)(s.FlagPut,{role:D,country:null===b||void 0===b?void 0:b.extradata.country})]})})]}),Object(_.jsx)(C,{title:b.client_name,children:b.client_name})]}),Object(_.jsxs)(be,{ref:N,_css10:[{display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem","@media (min-width: 1024px)":{gap:"0.75rem"}},T],children:[Object(_.jsx)(he,{children:Object(_.jsx)(ge,{src:null!==(c=null===b||void 0===b?void 0:b.profile_photo)&&void 0!==c?c:w.a,onError:function(e){var t=e.currentTarget;t.onerror=null,t.src=w.a},alt:"..."})}),Object(_.jsx)(C,{title:b.profile_name,children:b.profile_name})]}),Object(_.jsxs)(je,{children:[Object(_.jsx)(ve,{children:Object(_.jsx)(fe,{src:null!==(u=null===b||void 0===b?void 0:b.user_photo)&&void 0!==u?u:w.a,onError:function(e){var t=e.currentTarget;t.onerror=null,t.src=w.a},alt:"..."})}),Object(_.jsx)(R,{title:b.user_name,children:b.user_name})]})]}),Object(_.jsxs)(xe,{children:[Object(_.jsxs)(we,{children:[Object(_.jsx)(_e,{value:k,onChange:function(e){return E(e.target.value)},placeholder:"Escribe el reporte diario....",disabled:!0===f?"disabled":null,_css11:[{resize:"none",borderRadius:"0.375rem",padding:"0.5rem",width:"100%",flexGrow:"1","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",fontWeight:"700","--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))",borderWidth:"2px",borderColor:"#4c4c3f",height:"100px"},g.b,!0===A?{borderWidth:"2px","--tw-border-opacity":"1",borderColor:"rgba(220, 38, 38, var(--tw-border-opacity))"}:null]}),Object(_.jsx)(ye,{_css12:[{textAlign:"right"},!0===A?{"--tw-text-opacity":"1",color:"rgba(239, 68, 68, var(--tw-text-opacity))"}:null],children:150-Object(s.contarCaracteresV1)(k)>0?"Restantes ".concat(150-Object(s.contarCaracteresV1)(k)," caracteres"):null})]}),!1===f?Object(_.jsx)(_.Fragment,{children:null===b.cvec_id?Object(_.jsx)(h.b,{type:"button",onClick:function(e){if(e.preventDefault(),150-Object(s.contarCaracteresV1)(k)>0)return Y(!0),!1;Y(!1),ke({text:k,type:"client",Id:b.client_id,operator:I,profileId:b.profile_id,editExplicitContent:-1,setIsLoading:j,flush:x,setFlush:y})},primario:!0,children:"Enviar"}):Object(_.jsx)(h.b,{type:"button",onClick:function(e){if(e.preventDefault(),150-Object(s.contarCaracteresV1)(k)>0)return Y(!0),!1;Y(!1),ke({text:k,type:"client",Id:b.client_id,operator:I,profileId:b.profile_id,editExplicitContent:b.cvec_id,setIsLoading:j,flush:x,setFlush:y})},green:!0,children:"Actualizar"})}):null]})]})]},"".concat(b.client_id,"-").concat(b.profile_id,"-").concat(b.user_id))},Ce=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv33",componentId:"sc-1p0e5u-51"})({display:"flex",justifyContent:"space-between",padding:"0.5rem",borderWidth:"2px","--tw-border-opacity":"1",borderColor:"rgba(107, 114, 128, var(--tw-border-opacity))",borderRadius:"20px",alignItems:"center",gap:"0.5rem"}),Re=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv34",componentId:"sc-1p0e5u-52"})({display:"flex",gap:"0.5rem",alignItems:"center",justifyContent:"center"}),Se=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv35",componentId:"sc-1p0e5u-53"})(["",""],(function(e){return e._css13})),Ie=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv36",componentId:"sc-1p0e5u-54"})({position:"relative",display:"flex"}),De=Object(d.d)("img").withConfig({displayName:"ModalReport___StyledImg4",componentId:"sc-1p0e5u-55"})({width:"4em",height:"4em",borderRadius:"9999px",objectFit:"cover"}),Me=Object(d.d)("h1").withConfig({displayName:"ModalReport___StyledH",componentId:"sc-1p0e5u-56"})({fontWeight:"700",fontSize:"1rem"}),Ne=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv37",componentId:"sc-1p0e5u-57"})({"--tw-text-opacity":"1",color:"rgba(59, 130, 246, var(--tw-text-opacity))"}),We=Object(d.d)("h1").withConfig({displayName:"ModalReport___StyledH2",componentId:"sc-1p0e5u-58"})({fontWeight:"700",fontSize:"1rem"}),Te=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv38",componentId:"sc-1p0e5u-59"})({"--tw-text-opacity":"1",color:"rgba(239, 68, 68, var(--tw-text-opacity))"}),Fe=Object(d.d)("h1").withConfig({displayName:"ModalReport___StyledH3",componentId:"sc-1p0e5u-60"})({fontWeight:"700",fontSize:"1rem"}),ze=function(e){var t,i=e.client,n=e.setSelectId,o=e.setFilterStatus,r=0;return i.clients.forEach((function(e){r+=e.explicitcontent})),Object(_.jsxs)(Ce,{children:[Object(_.jsx)(Re,{children:Object(_.jsxs)(Se,{onClick:function(){o("all"),n(i.user_id)},_css13:[{display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem","@media (min-width: 1024px)":{gap:"0.75rem"}},"cursor: pointer; transition: transform 0.12s linear; :hover { transform: translateY(-6px); } :active { transform: translateY(3px); }"],children:[Object(_.jsx)(Ie,{children:Object(_.jsx)(De,{src:null!==(t=null===i||void 0===i?void 0:i.user_photo)&&void 0!==t?t:w.a,onError:function(e){var t=e.currentTarget;t.onerror=null,t.src=w.a},alt:"..."})}),Object(_.jsx)(C,{title:i.user_name,children:i.user_name})]})}),Object(_.jsx)("div",{children:Object(_.jsxs)(Me,{children:["Clientes: ",i.clients.length]})}),Object(_.jsx)(Ne,{children:Object(_.jsxs)(We,{children:["Reportes Realizados: ",r]})}),Object(_.jsx)(Te,{children:Object(_.jsxs)(Fe,{children:["Reportes Faltantes: ",i.clients.length-r]})})]},"".concat(i.user_id))},ke=function(){var e=Object(a.a)(r.a.mark((function e(t){var i,n,o,a,d,l,c,p,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.text,n=t.type,o=t.Id,a=t.operator,d=t.profileId,l=t.editExplicitContent,c=t.setIsLoading,p=t.flush,u=t.setFlush,c(!0),e.prev=2,e.next=5,Object(s.customFetch)("/operators/save-content-explicit",{headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"text=".concat(i,"&type=").concat(n,"&Id=").concat(o,"&operator=").concat(a,"&profileId=").concat(d,"&editExplicitContent=").concat(l),method:"POST"});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:c(!1),m.b.invalidateQueries("reportOp-Report"),m.b.invalidateQueries("reportExtra"),m.b.invalidateQueries("reportGeneral"),u(p+1);case 15:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}();t.default=function(e){var t=e.setShowReport,i=+v.a.get("id"),o=+v.a.get("agency_id"),r=v.a.get("role"),a=Object(m.d)(["agency-report"],D),d=a.data,c=a.status,u=Object(m.d)(["operadores-report"],s.fetchOperadores),h=u.data,j=u.status,f=p.a.useState(1===o?"2":""+o),x=Object(n.a)(f,2),w=x[0],O=x[1],C=p.a.useState(null),R=Object(n.a)(C,2),oe=R[0],re=R[1],ae=p.a.useState("all"),de=Object(n.a)(ae,2),le=de[0],ce=de[1],pe=p.a.useState(y()),se=Object(n.a)(pe,2),ue=se[0],me=se[1],be=p.a.useState(!1),he=Object(n.a)(be,2),ge=he[0],je=he[1],ve=p.a.useState(0),fe=Object(n.a)(ve,2),xe=fe[0],we=fe[1],_e=p.a.useState("admin"===r?"all":null),ye=Object(n.a)(_e,2),Ce=ye[0],Re=ye[1],Se=p.a.useState("operator"),Ie=Object(n.a)(Se,2),De=Ie[0],Me=Ie[1];if("admin"!==r&&"success"===j){var Ne,We=null===h||void 0===h||null===(Ne=h.find((function(e){return e.id===i})))||void 0===Ne?void 0:Ne.shift;null===Ce&&Re(We)}var Te=Object(m.d)(["reportOp-Report","admin"!==r?i:null,w,null,1,Ce,De,xe],I),Fe=Te.data,ke=Te.status,Ee=Object(m.d)(["reportGeneral",oe,w,ue,2,Ce,De,xe],I),Le=Ee.data,Ue=Ee.status,Be=Object(m.d)(["reportExtra",oe,w,ue,3,Ce,De,xe],I),Ge=Be.data,He=Be.status,Ve=p.a.useState("admin"===r||"supervisor"===r?"reportes":"diario"),Ae=Object(n.a)(Ve,2),Ye=Ae[0],Pe=Ae[1],Qe=p.a.useState(window.innerWidth>=2560?"4k":window.innerWidth>=1536?"2xl":window.innerWidth>=1280?"xl":window.innerWidth>=1024?"lg":window.innerWidth>=768?"md":window.innerWidth<768&&window.innerHeight>=1e3?"4k":"sm"),Je=Object(n.a)(Qe,2),Xe=Je[0],qe=Je[1];return p.a.useEffect((function(){var e=function(){window.innerWidth>=2560?qe("4k"):window.innerWidth>=1536?qe("2xl"):window.innerWidth>=1280?qe("xl"):window.innerWidth>=1024?qe("lg"):window.innerWidth>=768?qe("md"):window.innerWidth<768&&window.innerHeight>=1e3?qe("4k"):qe("sm")};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),Object(_.jsx)(l.a,{setShowModal:t,children:Object(_.jsx)(M,{children:"loading"===ke||"loading"===c||"loading"===Ue||"loading"===He||"loading"===j||ge?Object(_.jsx)(b.a,{}):Object(_.jsxs)(_.Fragment,{children:["supervisor"===r?Object(_.jsx)(N,{children:Object(_.jsxs)(W,{type:"single",value:Ye,onValueChange:function(e){ce("all"),e&&Pe(e)},children:[Object(_.jsx)(T,{value:"diario",_css:[{paddingRight:"0.75rem",paddingTop:"0.5rem",paddingBottom:"0.5rem",paddingLeft:"1rem","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",fontWeight:"700",borderTopLeftRadius:"1rem",borderBottomLeftRadius:"1rem",borderWidth:"1px",borderColor:"#4c4c3f",borderStyle:"solid"},"diario"===Ye?{"--tw-bg-opacity":"1",backgroundColor:"rgba(76, 76, 63, var(--tw-bg-opacity))"}:{"--tw-bg-opacity":"1",backgroundColor:"rgba(31, 31, 38, var(--tw-bg-opacity))"}],children:"Reportes Pendientes"}),Object(_.jsx)(F,{value:"reportes",_css2:[{paddingRight:"1rem",paddingTop:"0.5rem",paddingBottom:"0.5rem",paddingLeft:"0.75rem","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",fontWeight:"700",borderTopRightRadius:"1rem",borderBottomRightRadius:"1rem",borderWidth:"1px",borderColor:"#4c4c3f",borderStyle:"solid"},"reportes"===Ye?{"--tw-bg-opacity":"1",backgroundColor:"rgba(76, 76, 63, var(--tw-bg-opacity))"}:{"--tw-bg-opacity":"1",backgroundColor:"rgba(31, 31, 38, var(--tw-bg-opacity))"}],children:"Supervisados"})]})}):null,"diario"===Ye?Object(_.jsxs)(z,{children:[Object(_.jsx)(k,{children:Object(_.jsxs)("label",{children:["Estado:"," ",Object(_.jsxs)(E,{value:le,onChange:function(e){ce(e.target.value)},children:[Object(_.jsx)("option",{value:"all",children:"Todos"}),Object(_.jsx)("option",{value:"completed",children:"Completados"}),Object(_.jsx)("option",{value:"not-completed",children:"No Completados"})]})]})}),Object(_.jsx)(L,{_css3:[{display:"flex",flexDirection:"column",overflowX:"hidden",height:"90%",width:"100%",padding:"0.5rem",gap:"0.5rem"},g.b],children:Object(_.jsxs)(_.Fragment,{children:[("all"===le||"not-completed"===le)&&(null===Fe||void 0===Fe?void 0:Fe.filter((function(e){return null===e.cvec_id})).length)>0?Object(_.jsx)(U,{children:null===Fe||void 0===Fe?void 0:Fe.filter((function(e){return null===e.cvec_id})).map((function(e){return Object(_.jsx)(Oe,{client:e,setIsLoading:je,disabled:!1,flush:xe,setFlush:we,typeWidth:Xe})}))}):null,("all"===le||"completed"===le)&&(null===Fe||void 0===Fe?void 0:Fe.filter((function(e){return null!==e.cvec_id})).length)>0?Object(_.jsx)(B,{children:null===Fe||void 0===Fe?void 0:Fe.filter((function(e){return null!==e.cvec_id})).map((function(e){return Object(_.jsx)(Oe,{client:e,setIsLoading:je,disabled:!1,flush:xe,setFlush:we,typeWidth:Xe})}))}):null]})})]}):null,"reportes"===Ye?Object(_.jsxs)(_.Fragment,{children:["admin"===r||"supervisor"===r?Object(_.jsxs)(G,{children:[null!==oe&&"operator"===De?Object(_.jsx)("button",{type:"button",onClick:function(){ce("all"),re(null)},children:Object(_.jsx)(H,{})}):null,1===o&&"admin"===r?Object(_.jsxs)("label",{children:["Agencias:"," ",Object(_.jsx)(V,{value:w,onChange:function(e){O(e.target.value)},children:d.filter((function(e){return!0===e.isSub})).map((function(e){return Object(_.jsx)("option",{value:e.id,children:e.name})}))})]}):null,Object(_.jsxs)(A,{children:[Object(_.jsx)("button",{type:"button",onClick:function(){var e=new Date(ue);me(y(S(e,-1)))},children:Object(_.jsx)(Y,{transform:"scale(1,1)"})}),Object(_.jsx)("label",{children:Object(_.jsx)(P,{type:"date",value:ue,onChange:function(e){return me(e.target.value)}})}),Object(_.jsx)("button",{type:"button",onClick:function(){var e=new Date(ue);me(y(S(e,1)))},children:Object(_.jsx)(Q,{transform:"scale(-1,1)"})})]}),Object(_.jsxs)("label",{children:["Estado:"," ",Object(_.jsxs)(J,{value:le,onChange:function(e){ce(e.target.value)},children:[Object(_.jsx)("option",{value:"all",children:"Todos"}),Object(_.jsx)("option",{value:"completed",children:"Completados"}),Object(_.jsx)("option",{value:"not-completed",children:"No Completados"})]})]}),Object(_.jsxs)("label",{children:["Vista :"," ",Object(_.jsxs)(X,{value:De,onChange:function(e){Me(e.target.value),ce("all"),re(null)},children:[Object(_.jsx)("option",{value:"operator",children:"Por Operadores"}),Object(_.jsx)("option",{value:"general",children:"General"})]})]}),"admin"===r?Object(_.jsxs)("label",{children:["Turno:"," ",Object(_.jsxs)(q,{value:Ce,onChange:function(e){Re(e.target.value)},children:[Object(_.jsx)("option",{value:"all",children:"Todos"}),Object(_.jsx)("option",{value:0,children:"Dia"}),Object(_.jsx)("option",{value:2,children:"Tarde"}),Object(_.jsx)("option",{value:1,children:"Noche"})]})]}):null]}):null,Object(_.jsx)(K,{_css4:[{display:"flex",flexDirection:"column",overflowX:"hidden",height:"90%",width:"100%",padding:"0.5rem",gap:"0.5rem"},g.b],children:"operator"===De?Object(_.jsx)(_.Fragment,{children:null===oe?Object(_.jsxs)(_.Fragment,{children:[("all"===le||"not-completed"===le)&&(null===Le||void 0===Le?void 0:Le.filter((function(e){var t=0;return e.clients.forEach((function(e){t+=e.explicitcontent})),0!==e.clients.length-t})).length)>0?Object(_.jsx)(Z,{children:null===Le||void 0===Le?void 0:Le.filter((function(e){var t=0;return e.clients.forEach((function(e){t+=e.explicitcontent})),0!==e.clients.length-t})).map((function(e){return Object(_.jsx)(ze,{client:e,setSelectId:re,setFilterStatus:ce})}))}):null,("all"===le||"completed"===le)&&(null===Le||void 0===Le?void 0:Le.filter((function(e){var t=0;return e.clients.forEach((function(e){t+=e.explicitcontent})),0===e.clients.length-t})).length)>0?Object(_.jsx)($,{children:null===Le||void 0===Le?void 0:Le.filter((function(e){var t=0;return e.clients.forEach((function(e){t+=e.explicitcontent})),0===e.clients.length-t})).map((function(e){return Object(_.jsx)(ze,{client:e,setSelectId:re,setFilterStatus:ce})}))}):null]}):Object(_.jsxs)(_.Fragment,{children:[("all"===le||"not-completed"===le)&&(null===Ge||void 0===Ge?void 0:Ge.filter((function(e){return null===e.cvec_id})).length)>0?Object(_.jsx)(ee,{children:null===Ge||void 0===Ge?void 0:Ge.filter((function(e){return null===e.cvec_id})).map((function(e){return Object(_.jsx)(Oe,{client:e,setIsLoading:je,disabled:!0,flush:xe,setFlush:we,typeWidth:Xe})}))}):null,("all"===le||"completed"===le)&&(null===Ge||void 0===Ge?void 0:Ge.filter((function(e){return null!==e.cvec_id})).length)>0?Object(_.jsx)(te,{children:null===Ge||void 0===Ge?void 0:Ge.filter((function(e){return null!==e.cvec_id})).map((function(e){return Object(_.jsx)(Oe,{client:e,setIsLoading:je,disabled:!0,flush:xe,setFlush:we,typeWidth:Xe})}))}):null]})}):Object(_.jsxs)(_.Fragment,{children:[("all"===le||"not-completed"===le)&&(null===Ge||void 0===Ge?void 0:Ge.filter((function(e){return null===e.cvec_id})).length)>0?Object(_.jsx)(ie,{children:null===Ge||void 0===Ge?void 0:Ge.filter((function(e){return null===e.cvec_id})).map((function(e){return Object(_.jsx)(Oe,{client:e,setIsLoading:je,disabled:!0,flush:xe,setFlush:we,typeWidth:Xe})}))}):null,("all"===le||"completed"===le)&&(null===Ge||void 0===Ge?void 0:Ge.filter((function(e){return null!==e.cvec_id})).length)>0?Object(_.jsx)(ne,{children:null===Ge||void 0===Ge?void 0:Ge.filter((function(e){return null!==e.cvec_id})).map((function(e){return Object(_.jsx)(Oe,{client:e,setIsLoading:je,disabled:!0,flush:xe,setFlush:we,typeWidth:Xe})}))}):null]})})]}):null]})})})}}}]);