(this.webpackJsonpivan=this.webpackJsonpivan||[]).push([[23],{435:function(t,e,i){"use strict";i.r(e);var d=i(4),o=i(9),n=i(1),a=i.n(n),r=i(6),l=i(88),c=i(7),s=i(0),p=i.n(s),m=i(10),u=i(82),b=i(41),h=i(5),g=i(54),v=i(55),f=i(58),j=i(188),x=i(2),w=function(){var t=Object(r.a)(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return",null);case 2:return t.next=4,Object(c.customFetch)("/clients/translate-text?text=".concat(e));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),y=h.d.input.withConfig({displayName:"ModalChat__Input",componentId:"sc-1fddwaj-0"})({appearance:"none",backgroundColor:"transparent",fontSize:"1rem",fontWeight:"500","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",marginLeft:"1rem",marginRight:"1rem",flex:"1 1 auto",borderBottomWidth:"2px",paddingLeft:"0.25rem",paddingRight:"0.25rem"}),_=Object(h.d)(y).withConfig({displayName:"ModalChat___StyledInput2",componentId:"sc-1fddwaj-1"})({width:"90%",marginTop:"8px"}),C=Object(h.d)(y).withConfig({displayName:"ModalChat___StyledInput",componentId:"sc-1fddwaj-2"})({width:"auto",cursor:"pointer"}),O=h.d.span.withConfig({displayName:"ModalChat__Fecha",componentId:"sc-1fddwaj-3"})(["@media (min-width:2560px){font-size:0.625em !important;}",""],{"--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",fontSize:"0.3rem",letterSpacing:"0.08em",marginLeft:"1.5em",marginRight:"1.5em",fontWeight:"700","@media (min-width: 1024px)":{fontSize:"0.4rem"},"@media (min-width: 1280px)":{fontSize:"0.5rem"}}),I=h.d.button.withConfig({displayName:"ModalChat__Button",componentId:"sc-1fddwaj-4"})(["@media (min-width:2560px){padding:4px 8px !important;margin-bottom:12px !important;}@media (min-height:1000px) and (max-width:767px) and (min-width:651px){padding:4px 8px !important;margin-bottom:12px !important;}@media (min-width:401px) and (max-width:650px) and (min-height:1000px){padding:2px 4px !important;margin-bottom:8px !important;}@media (max-height:999px) and (min-width:651px) and (max-width:767px){padding:2px 4px !important;margin-bottom:8px !important;}@media (min-width:401px) and (max-width:650px) and (max-height:999px){padding:2px 4px !important;margin-bottom:4px !important;}@media (max-width:400px) and (max-height:999px){padding:1px 2px !important;margin-bottom:2px !important;}"," border:1px solid #4c4c3f;transition:background-color 0.15s linear;"],{"--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",padding:"1.5px 3px",borderRadius:"8px",marginBottom:"4px",":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgba(76, 76, 63, var(--tw-bg-opacity))"},"@media (min-width: 1024px)":{padding:"3px 6px",marginBottom:"6px"},"@media (min-width: 1280px)":{padding:"4px 8px",marginBottom:"10px"}}),S=Object(h.d)("div").withConfig({displayName:"ModalChat___StyledDiv",componentId:"sc-1fddwaj-5"})(["",""],(function(t){return t._css})),k=Object(h.d)("div").withConfig({displayName:"ModalChat___StyledDiv2",componentId:"sc-1fddwaj-6"})(["",""],(function(t){return t._css2})),N=Object(h.d)("div").withConfig({displayName:"ModalChat___StyledDiv3",componentId:"sc-1fddwaj-7"})(["",""],(function(t){return t._css3})),M=Object(h.d)("audio").withConfig({displayName:"ModalChat___StyledAudio",componentId:"sc-1fddwaj-8"})({width:"100%"}),D=Object(h.d)("div").withConfig({displayName:"ModalChat___StyledDiv4",componentId:"sc-1fddwaj-9"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(31, 31, 38, var(--tw-bg-opacity))",borderRadius:"1rem",padding:"0.5rem"}),R=Object(h.d)("div").withConfig({displayName:"ModalChat___StyledDiv5",componentId:"sc-1fddwaj-10"})(["",""],(function(t){return t._css4})),B=Object(h.d)("img").withConfig({displayName:"ModalChat___StyledImg",componentId:"sc-1fddwaj-11"})({height:"300px",width:"auto",borderRadius:"2rem",cursor:"pointer"}),F=Object(h.d)("div").withConfig({displayName:"ModalChat___StyledDiv6",componentId:"sc-1fddwaj-12"})(["",""],(function(t){return t._css5})),T=Object(h.d)("video").withConfig({displayName:"ModalChat___StyledVideo",componentId:"sc-1fddwaj-13"})({height:"300px",width:"auto",borderRadius:"2rem"}),W=Object(h.d)("div").withConfig({displayName:"ModalChat___StyledDiv7",componentId:"sc-1fddwaj-14"})({display:"flex",alignItems:"center",justifyContent:"center",width:"100%"}),A=Object(h.d)(g.a).withConfig({displayName:"ModalChat___StyledEmailArrowLeftRedSvg",componentId:"sc-1fddwaj-15"})({width:"2rem",height:"2rem",marginTop:"0.25rem",marginBottom:"0.25rem"}),z=Object(h.d)(v.a).withConfig({displayName:"ModalChat___StyledEmailArrowRightGreenSvg",componentId:"sc-1fddwaj-16"})({width:"2rem",height:"2rem",marginTop:"0.25rem",marginBottom:"0.25rem"}),E=Object(h.d)("div").withConfig({displayName:"ModalChat___StyledDiv8",componentId:"sc-1fddwaj-17"})(["",""],(function(t){return t._css6})),L=Object(h.d)("div").withConfig({displayName:"ModalChat___StyledDiv9",componentId:"sc-1fddwaj-18"})(["",""],(function(t){return t._css7})),H=Object(h.d)("div").withConfig({displayName:"ModalChat___StyledDiv10",componentId:"sc-1fddwaj-19"})({display:"flex",justifyContent:"flex-end"}),P=Object(h.d)("button").withConfig({displayName:"ModalChat___StyledButton",componentId:"sc-1fddwaj-20"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))",borderRadius:"1rem",fontWeight:"700",padding:"0.5rem",margin:"0.25rem"}),V=Object(h.d)("div").withConfig({displayName:"ModalChat___StyledDiv11",componentId:"sc-1fddwaj-21"})(["",""],(function(t){return t._css8})),G=Object(h.d)("button").withConfig({displayName:"ModalChat___StyledButton2",componentId:"sc-1fddwaj-22"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))",borderRadius:"1rem",padding:"0.25rem"}),J=Object(h.d)("div").withConfig({displayName:"ModalChat___StyledDiv12",componentId:"sc-1fddwaj-23"})(["",""],(function(t){return t._css9})),X=Object(h.d)("button").withConfig({displayName:"ModalChat___StyledButton3",componentId:"sc-1fddwaj-24"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))",borderRadius:"1rem",padding:"0.25rem"}),Y=Object(h.d)("div").withConfig({displayName:"ModalChat___StyledDiv13",componentId:"sc-1fddwaj-25"})({display:"flex",flexShrink:"1",gap:"0.5rem"}),q=Object(h.d)("img").withConfig({displayName:"ModalChat___StyledImg2",componentId:"sc-1fddwaj-26"})({width:"75px",height:"75px",cursor:"pointer",borderRadius:"1rem"}),K=Object(h.d)("div").withConfig({displayName:"ModalChat___StyledDiv14",componentId:"sc-1fddwaj-27"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(31, 31, 38, var(--tw-bg-opacity))",borderRadius:"2rem",padding:"0.5rem"}),Q=Object(h.d)("img").withConfig({displayName:"ModalChat___StyledImg3",componentId:"sc-1fddwaj-28"})({height:"300px",width:"auto",borderRadius:"2rem"}),U=Object(h.d)("div").withConfig({displayName:"ModalChat___StyledDiv15",componentId:"sc-1fddwaj-29"})({width:"340px"}),Z=Object(h.d)("div").withConfig({displayName:"ModalChat___StyledDiv16",componentId:"sc-1fddwaj-30"})({display:"flex",alignItems:"center",justifyContent:"center",width:"100%"}),$=Object(h.d)(f.a).withConfig({displayName:"ModalChat___StyledGiftBagSvg",componentId:"sc-1fddwaj-31"})({width:"2rem",height:"2rem",marginTop:"0.25rem",marginBottom:"0.25rem"}),tt=Object(h.d)("div").withConfig({displayName:"ModalChat___StyledDiv17",componentId:"sc-1fddwaj-32"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(31, 31, 38, var(--tw-bg-opacity))",borderRadius:"2rem",display:"flex",alignItems:"center",justifyContent:"center",width:"100%"}),et=Object(h.d)("img").withConfig({displayName:"ModalChat___StyledImg4",componentId:"sc-1fddwaj-33"})({height:"300px",width:"auto",borderRadius:"2rem"}),it=Object(h.d)("div").withConfig({displayName:"ModalChat___StyledDiv18",componentId:"sc-1fddwaj-34"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(31, 31, 38, var(--tw-bg-opacity))",borderRadius:"1rem",padding:"0.5rem"}),dt=Object(h.d)("div").withConfig({displayName:"ModalChat___StyledDiv19",componentId:"sc-1fddwaj-35"})(["",""],(function(t){return t._css10})),ot=Object(h.d)("button").withConfig({displayName:"ModalChat___StyledButton4",componentId:"sc-1fddwaj-36"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))",borderRadius:"1rem",padding:"0.25rem"}),nt=Object(h.d)("div").withConfig({displayName:"ModalChat___StyledDiv20",componentId:"sc-1fddwaj-37"})(["",""],(function(t){return t._css11})),at=Object(h.d)("button").withConfig({displayName:"ModalChat___StyledButton5",componentId:"sc-1fddwaj-38"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))",borderRadius:"1rem",padding:"0.25rem"}),rt=function(t){var e,i,d,n,l,s,m,u,b,h,g,v,f,j,w,y,_,C,I,rt=t.justify,lt=t.data,ct=t.keyNum,st=t.TranslateTextData,pt=p.a.useState(!1),mt=Object(o.a)(pt,2),ut=mt[0],bt=mt[1],ht=p.a.useState(!1),gt=Object(o.a)(ht,2),vt=gt[0],ft=gt[1],jt=p.a.useState(!1),xt=Object(o.a)(jt,2),wt=xt[0],yt=xt[1],_t=(I="[object Date]"===Object.prototype.toString.call(new Date(null===lt||void 0===lt?void 0:lt.timestamp))?isNaN(new Date(null===lt||void 0===lt?void 0:lt.timestamp))?new Date(null===lt||void 0===lt?void 0:lt.timestamp):Object(c.converterDateAct)(new Date((null===lt||void 0===lt?void 0:lt.timestamp)+144e5)):new Date(null===lt||void 0===lt?void 0:lt.timestamp)).getHours(),Ct=I.getDate();Ct=Ct<10?"0".concat(Ct):Ct;var Ot=I.getMinutes();Ot=Ot<10?"0".concat(Ot):Ot;var It=Object(c.mesDelYear)(I.getMonth()),St=I.getFullYear(),kt=_t<12?"am":"pm",Nt=!1===ut?null===lt||void 0===lt?void 0:lt.text:null===lt||void 0===lt?void 0:lt.text_translate;return Object(x.jsx)(S,{_css:[{display:"flex",marginTop:"0.25rem",marginBottom:"0.25rem",padding:"0.25rem",width:"100%"},"right"===rt?{justifyContent:"flex-end"}:{justifyContent:"flex-start"}],children:Object(x.jsx)(k,{_css2:[{width:"50%",textAlign:"left",flexShrink:"1",display:"flex",flexDirection:"column"},"right"===rt?{alignItems:"flex-end"}:{alignItems:"flex-start"}],children:Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(O,{children:[Ct," de ",It," del ",St," - ",_t<13?_t:_t-12,":",Ot," ",kt]}),"Voice message"===(null===lt||void 0===lt||null===(e=lt.text)||void 0===e?void 0:e.trim())?Object(x.jsx)(x.Fragment,{children:null===lt||void 0===lt||null===(i=lt.medialink)||void 0===i?void 0:i.filter((function(t){return"audio"===(null===t||void 0===t?void 0:t.type)})).map((function(t){return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(N,{_css3:[{width:"100%",borderWidth:"4px",borderRadius:"2rem"},!0===(null===lt||void 0===lt?void 0:lt.read)?{"--tw-border-opacity":"1",borderColor:"rgba(16, 185, 129, var(--tw-border-opacity))"}:!1===(null===lt||void 0===lt?void 0:lt.read)?{"--tw-border-opacity":"1",borderColor:"rgba(245, 158, 11, var(--tw-border-opacity))"}:{"--tw-border-opacity":"1",borderColor:"rgba(59, 130, 246, var(--tw-border-opacity))"}],children:Object(x.jsx)(M,{controls:!0,src:null===t||void 0===t?void 0:t.link})})})}))}):"Sent image"===(null===lt||void 0===lt||null===(d=lt.text)||void 0===d?void 0:d.trim())?Object(x.jsx)(D,{children:null===lt||void 0===lt||null===(n=lt.medialink)||void 0===n?void 0:n.filter((function(t){return"image"===t.type})).map((function(t){return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(R,{_css4:[{borderWidth:"4px",borderRadius:"2rem"},!0===(null===lt||void 0===lt?void 0:lt.read)?{"--tw-border-opacity":"1",borderColor:"rgba(16, 185, 129, var(--tw-border-opacity))"}:!1===(null===lt||void 0===lt?void 0:lt.read)?{"--tw-border-opacity":"1",borderColor:"rgba(245, 158, 11, var(--tw-border-opacity))"}:{"--tw-border-opacity":"1",borderColor:"rgba(59, 130, 246, var(--tw-border-opacity))"}],children:Object(x.jsx)(B,{alt:"SendImage",src:null===t||void 0===t?void 0:t.link,onClick:function(t){return Object(c.toggleFullscreen)(t)},className:"canfullscreen"})})})}))}):"Sent you a video"===(null===lt||void 0===lt||null===(l=lt.text)||void 0===l?void 0:l.trim())?Object(x.jsx)(F,{_css5:[{"--tw-bg-opacity":"1",backgroundColor:"rgba(31, 31, 38, var(--tw-bg-opacity))",borderRadius:"2rem",padding:"0.5rem",display:"flex",flexDirection:"column",borderWidth:"4px"},"right"===rt?{alignItems:"flex-end"}:{alignItems:"flex-start"},!0===(null===lt||void 0===lt?void 0:lt.read)?{"--tw-border-opacity":"1",borderColor:"rgba(16, 185, 129, var(--tw-border-opacity))"}:!1===(null===lt||void 0===lt?void 0:lt.read)?{"--tw-border-opacity":"1",borderColor:"rgba(245, 158, 11, var(--tw-border-opacity))"}:{"--tw-border-opacity":"1",borderColor:"rgba(59, 130, 246, var(--tw-border-opacity))"}],children:null===lt||void 0===lt||null===(s=lt.medialink)||void 0===s?void 0:s.filter((function(t){return"video"===t.type})).map((function(t){return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{children:Object(x.jsx)(T,{controls:!0,children:Object(x.jsx)("source",{src:null===t||void 0===t?void 0:t.link,type:"video/mp4"})})})})}))}):"Sent letter"===(null===lt||void 0===lt||null===(m=lt.text)||void 0===m?void 0:m.trim())?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(W,{children:"left"===rt?Object(x.jsx)(A,{}):Object(x.jsx)(z,{})}),Object(x.jsx)(E,{_css6:[{"--tw-bg-opacity":"1",backgroundColor:"rgba(31, 31, 38, var(--tw-bg-opacity))",borderRadius:"1rem",padding:"0.5rem",borderWidth:"4px"},!0===(null===lt||void 0===lt?void 0:lt.read)?{"--tw-border-opacity":"1",borderColor:"rgba(16, 185, 129, var(--tw-border-opacity))"}:!1===(null===lt||void 0===lt?void 0:lt.read)?{"--tw-border-opacity":"1",borderColor:"rgba(245, 158, 11, var(--tw-border-opacity))"}:{"--tw-border-opacity":"1",borderColor:"rgba(59, 130, 246, var(--tw-border-opacity))"}],children:Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(L,{_css7:[!1===vt?{overflow:"hidden",height:"5rem",flexWrap:"wrap"}:null],children:!1===ut?(null===lt||void 0===lt||null===(u=lt.medialink)||void 0===u||null===(b=u.find((function(t){return"letter"===t.type})))||void 0===b||null===(h=b.link)||void 0===h?void 0:h.subject)+" "+(null===lt||void 0===lt||null===(g=lt.medialink)||void 0===g||null===(v=g.find((function(t){return"letter"===t.type})))||void 0===v||null===(f=v.link)||void 0===f?void 0:f.text):null===lt||void 0===lt?void 0:lt.text_translate}),!1===vt?Object(x.jsx)(H,{children:Object(x.jsx)(P,{onClick:function(){return ft(!0)},children:"Mostrar mas..."})}):null,wt?null:Object(x.jsx)(x.Fragment,{children:!1===ut?Object(x.jsx)(V,{_css8:["right"===rt?{textAlign:"right",justifyContent:"flex-start"}:{textAlign:"left",justifyContent:"flex-end"},"@media (min-width: 2560px) { font-size: 0.7rem !important; }",{fontSize:"0.4rem",fontWeight:"700",display:"flex"}],children:Object(x.jsx)(G,{onClick:Object(r.a)(a.a.mark((function t(){var e,i,d,o,n,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(yt(!0),""!==(null===lt||void 0===lt?void 0:lt.text_translate)){t.next=6;break}return t.next=4,st(ct,(null===lt||void 0===lt||null===(e=lt.medialink)||void 0===e||null===(i=e.find((function(t){return"letter"===t.type})))||void 0===i||null===(d=i.link)||void 0===d?void 0:d.subject)+" "+(null===lt||void 0===lt||null===(o=lt.medialink)||void 0===o||null===(n=o.find((function(t){return"letter"===t.type})))||void 0===n||null===(r=n.link)||void 0===r?void 0:r.text),bt);case 4:t.next=7;break;case 6:bt(!0);case 7:yt(!1);case 8:case"end":return t.stop()}}),t)}))),children:"Traducir"})}):Object(x.jsx)(J,{_css9:["right"!==rt?{textAlign:"right"}:{textAlign:"left"},{fontSize:"0.4rem",fontWeight:"700"}],children:Object(x.jsx)(X,{onClick:function(){return bt(!1)},children:"Original"})})}),Object(x.jsx)(Y,{children:null===lt||void 0===lt||null===(j=lt.medialink)||void 0===j?void 0:j.filter((function(t){return"image"===t.type})).map((function(t){return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{children:Object(x.jsx)(q,{alt:"SendImage",src:null===t||void 0===t?void 0:t.link,onClick:function(t){return Object(c.toggleFullscreen)(t)},className:"canfullscreen"})})})}))})]})})]}):"Sent a sticker."===(null===lt||void 0===lt||null===(w=lt.text)||void 0===w?void 0:w.trim())?Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(K,{children:null===lt||void 0===lt||null===(y=lt.medialink)||void 0===y?void 0:y.filter((function(t){return"image"===t.type})).map((function(t){return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{children:Object(x.jsx)(Q,{alt:"SendImage",src:null===t||void 0===t?void 0:t.link})})})}))})}):"Sent you a gift"===(null===lt||void 0===lt||null===(_=lt.text)||void 0===_?void 0:_.trim())?Object(x.jsxs)(U,{children:[Object(x.jsx)(Z,{children:Object(x.jsx)($,{})}),Object(x.jsx)(tt,{children:null===lt||void 0===lt||null===(C=lt.medialink)||void 0===C?void 0:C.filter((function(t){return"image"===t.type})).map((function(t){return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{children:Object(x.jsx)(et,{alt:"SendImage",src:null===t||void 0===t?void 0:t.link})})})}))})]}):Object(x.jsx)(it,{children:Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{children:Nt}),wt?null:Object(x.jsx)(x.Fragment,{children:!1===ut?Object(x.jsx)(dt,{_css10:[{fontSize:"0.4rem",textAlign:"left",fontWeight:"700"},"@media (min-width: 2560px) { font-size: 0.7rem !important; }","right"!==rt?{textAlign:"right"}:{textAlign:"left"}],children:Object(x.jsx)(ot,{onClick:Object(r.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(yt(!0),""!==(null===lt||void 0===lt?void 0:lt.text_translate)){t.next=6;break}return t.next=4,st(ct,null===lt||void 0===lt?void 0:lt.text,bt);case 4:t.next=7;break;case 6:bt(!0);case 7:yt(!1);case 8:case"end":return t.stop()}}),t)}))),children:"Traducir"})}):Object(x.jsx)(nt,{_css11:[{fontSize:"0.4rem",fontWeight:"700"},"@media (min-width: 2560px) { font-size: 0.7rem !important; }","right"!==rt?{textAlign:"right"}:{textAlign:"left"}],children:Object(x.jsx)(at,{onClick:function(){return bt(!1)},children:"Original"})})})]})})]})})},null===lt||void 0===lt?void 0:lt.id)},lt=Object(h.d)("div").withConfig({displayName:"ModalChat___StyledDiv21",componentId:"sc-1fddwaj-39"})(["",""],(function(t){return t._css12})),ct=Object(h.d)("div").withConfig({displayName:"ModalChat___StyledDiv22",componentId:"sc-1fddwaj-40"})({fontWeight:"700",fontSize:"1rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",marginBottom:"0.5rem",width:"100%"}),st=Object(h.d)("img").withConfig({displayName:"ModalChat___StyledImg5",componentId:"sc-1fddwaj-41"})({objectFit:"cover",borderRadius:"9999px",width:"50px",height:"50px"}),pt=Object(h.d)("div").withConfig({displayName:"ModalChat___StyledDiv23",componentId:"sc-1fddwaj-42"})({display:"flex",alignItems:"center"}),mt=Object(h.d)("img").withConfig({displayName:"ModalChat___StyledImg6",componentId:"sc-1fddwaj-43"})(["",""],(function(t){return t._css13})),ut=Object(h.d)("div").withConfig({displayName:"ModalChat___StyledDiv24",componentId:"sc-1fddwaj-44"})(["",""],(function(t){return t._css14})),bt=Object(h.d)("button").withConfig({displayName:"ModalChat___StyledButton6",componentId:"sc-1fddwaj-45"})(["",""],(function(t){return t._css15})),ht=Object(h.d)("label").withConfig({displayName:"ModalChat___StyledLabel",componentId:"sc-1fddwaj-46"})({display:"flex",alignItems:"center",justifyContent:"space-between",paddingLeft:"0.5rem",paddingRight:"0.5rem",gap:"0.5rem",borderBottomWidth:"2px","--tw-border-opacity":"1",borderColor:"rgba(31, 41, 55, var(--tw-border-opacity))",paddingTop:"0.5rem",paddingBottom:"0.5rem",cursor:"pointer"}),gt=Object(h.d)("img").withConfig({displayName:"ModalChat___StyledImg7",componentId:"sc-1fddwaj-47"})(["",""],(function(t){return t._css16})),vt=Object(h.d)("button").withConfig({displayName:"ModalChat___StyledButton7",componentId:"sc-1fddwaj-48"})(["",""],(function(t){return t._css17})),ft=Object(h.d)("label").withConfig({displayName:"ModalChat___StyledLabel2",componentId:"sc-1fddwaj-49"})({display:"flex",alignItems:"center",justifyContent:"space-between",paddingLeft:"0.5rem",paddingRight:"0.5rem",gap:"0.5rem",borderBottomWidth:"2px","--tw-border-opacity":"1",borderColor:"rgba(31, 41, 55, var(--tw-border-opacity))",paddingTop:"0.5rem",paddingBottom:"0.5rem",cursor:"pointer"}),jt=Object(h.d)("img").withConfig({displayName:"ModalChat___StyledImg8",componentId:"sc-1fddwaj-50"})(["",""],(function(t){return t._css18})),xt=Object(h.d)("div").withConfig({displayName:"ModalChat___StyledDiv25",componentId:"sc-1fddwaj-51"})({display:"flex",alignItems:"center"}),wt=Object(h.d)("button").withConfig({displayName:"ModalChat___StyledButton8",componentId:"sc-1fddwaj-52"})(["",""],(function(t){return t._css19})),yt=Object(h.d)(j.a).withConfig({displayName:"ModalChat___StyledRepeatSvg",componentId:"sc-1fddwaj-53"})(["",""],(function(t){return t._css20})),_t=Object(h.d)("div").withConfig({displayName:"ModalChat___StyledDiv26",componentId:"sc-1fddwaj-54"})(["",""],(function(t){return t._css21})),Ct=Object(h.d)("div").withConfig({displayName:"ModalChat___StyledDiv27",componentId:"sc-1fddwaj-55"})({display:"flex",justifyContent:"center",marginTop:"0.25rem",marginBottom:"0.25rem",padding:"0.25rem",width:"100%"}),Ot=Object(h.d)("div").withConfig({displayName:"ModalChat___StyledDiv28",componentId:"sc-1fddwaj-56"})({width:"50%",textAlign:"center"}),It=Object(h.d)("button").withConfig({displayName:"ModalChat___StyledButton9",componentId:"sc-1fddwaj-57"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(76, 76, 63, var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",padding:"0.5rem",borderRadius:"1rem"});e.default=function(t){var e,i,n,s,g,v,f,j,y,O,S,k,N,M,D=t.clientid,R=t.setShowChat,B=t.ProfileChat,F={send:"send"},T=Object(m.d)(["clientes",D],c.fetchInfoClients).data,W=Object(m.d)(["perfiles"],c.fetchPerfiles).data,A=p.a.useRef(),z=p.a.useState(!1),E=Object(o.a)(z,2),L=E[0],H=E[1],P=p.a.useState(!1),V=Object(o.a)(P,2),G=V[0],J=V[1],X=p.a.useState(!0),Y=Object(o.a)(X,2),q=Y[0],K=Y[1],Q=p.a.useState(F),U=Object(o.a)(Q,2),Z=U[0],$=U[1],tt=p.a.useState(0),et=Object(o.a)(tt,2),it=et[0],dt=et[1],ot=p.a.useState(""),nt=Object(o.a)(ot,2),at=nt[0],St=nt[1],kt=p.a.useState(!1),Nt=Object(o.a)(kt,2),Mt=Nt[0],Dt=Nt[1],Rt=p.a.useState(B),Bt=Object(o.a)(Rt,2),Ft=Bt[0],Tt=Bt[1],Wt=p.a.useState(1),At=Object(o.a)(Wt,2),zt=At[0],Et=At[1],Lt=function(){var t=Object(r.a)(a.a.mark((function t(e,i,o,n){var r,l,s,p;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&i&&o){t.next=2;break}return t.abrupt("return",null);case 2:return t.next=4,Object(c.customFetch)("/clients/client-chat?clientId=".concat(e,"&profileId=").concat(i,"&page=").concat(o));case 4:if(s=t.sent,0!==(null===(r=Object.keys(s))||void 0===r?void 0:r.length)){t.next=8;break}return n(!0),t.abrupt("return",$([]));case 8:if(dt(null===(l=Object.keys(s))||void 0===l?void 0:l.length),!(o>1)){t.next=15;break}return p=Object(d.a)(Object(d.a)({},s),Z),n(!0),t.abrupt("return",$(p));case 15:return n(!0),$(s),setTimeout((function(){var t=document.getElementById("ChatClient").scrollHeight;document.getElementById("ChatClient").scrollTop=t}),500),t.abrupt("return");case 19:case"end":return t.stop()}}),t)})));return function(e,i,d,o){return t.apply(this,arguments)}}(),Ht=function(){var t=Object(r.a)(a.a.mark((function t(e,i,d){var o,n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e||i){t.next=2;break}return t.abrupt("return",null);case 2:return t.next=4,w(i);case 4:if(o=t.sent,n=Z,0!==o.status){t.next=8;break}return t.abrupt("return",d(!1));case 8:return n[e].text_translate=o.text,n[e].lang=o.lang,d(!0),$(n),t.abrupt("return");case 13:case"end":return t.stop()}}),t)})));return function(e,i,d){return t.apply(this,arguments)}}(),Pt=p.a.useCallback((function(){H(!1)}),[H]),Vt=function(t){Tt(t),Et(1),St(""),$(F),H(!1),J(!1)};if((null===T||void 0===T||null===(e=T.profiles)||void 0===e?void 0:e.length)>0&&(-1===+Ft||void 0===Ft)){var Gt,Jt,Xt=null===T||void 0===T||null===(Gt=T.profiles)||void 0===Gt||null===(Jt=Gt[0])||void 0===Jt?void 0:Jt.profile_id;void 0!==Xt&&Tt(Xt)}if(!1===Mt){var Yt;N=null===T||void 0===T||null===(Yt=T.profiles)||void 0===Yt?void 0:Yt.find((function(t){return(null===t||void 0===t?void 0:t.profile_id)===Ft}))}else{var qt=null===W||void 0===W?void 0:W.find((function(t){return(null===t||void 0===t?void 0:t.id)===Ft}));N={profile_id:null===qt||void 0===qt?void 0:qt.id,name:null===qt||void 0===qt?void 0:qt.nombre,tomado:-1,photo:null===qt||void 0===qt?void 0:qt.foto,amolatinaid:null===qt||void 0===qt?void 0:qt.amolatinaId,astoken:null===(null===qt||void 0===qt?void 0:qt.token)?0:1}}(0===(null===T||void 0===T||null===(i=T.profiles)||void 0===i?void 0:i.length)&&!1===G&&void 0===(null===(n=N)||void 0===n?void 0:n.amolatinaid)&&($([]),J(!0)),Object.keys(Z).filter((function(t){return"send"===t})).length>0&&!1===G&&void 0!==(null===T||void 0===T?void 0:T.amolatinaId)&&void 0!==(null===(s=N)||void 0===s?void 0:s.amolatinaid)&&-1!==Ft)&&Lt(null===T||void 0===T?void 0:T.amolatinaId,null===(M=N)||void 0===M?void 0:M.amolatinaid,zt,J);return Object(c.useClickOutside)(A,Pt),Object(x.jsx)(l.a,{setShowModal:R,children:Object(x.jsxs)(lt,{_css12:[{"--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",width:"70vw",height:"95vh","@media (min-width: 768px)":{padding:"0.5rem",gap:"0.375rem"},"@media (min-width: 1024px)":{padding:"1rem",gap:"0.75rem"}},"@media (min-width: 2560px) { padding: 1rem !important; grid-gap: 0.75rem !important; width: 1000px !important; }"],children:[Object(x.jsxs)(ct,{children:[Object(x.jsx)(st,{alt:"Foto de ficha",src:Object(c.imageExists)(null===T||void 0===T?void 0:T.foto)}),Object(x.jsx)("span",{children:null===T||void 0===T?void 0:T.nombre}),Object(x.jsxs)(pt,{onClick:function(t){t.stopPropagation(),H(!0!==L)},children:[Object(x.jsx)(mt,{alt:"Foto de ficha",src:Object(c.imageExists)(null===(g=N)||void 0===g?void 0:g.photo),_css13:[{objectFit:"cover",borderRadius:"9999px",width:"50px",height:"50px"},0===+(null===(v=N)||void 0===v?void 0:v.astoken)?{"--tw-border-opacity":"1",borderColor:"rgba(220, 38, 38, var(--tw-border-opacity))",borderWidth:"4px"}:null]}),Object(x.jsx)("label",{children:Object(x.jsx)(C,{value:null!==(f=null===(j=N)||void 0===j?void 0:j.name)&&void 0!==f?f:"Sin Perfil",disabled:!0})})]}),Object(x.jsxs)(ut,{ref:A,_css14:[{fontSize:"1rem",borderRadius:"1rem",display:"flex",alignItems:"center",flexDirection:"column",position:"fixed",top:"60px",right:"140px",padding:"0.5rem",width:"250px",maxHeight:"500px",overflowX:"hidden"},"background-color: rgba(31, 31, 38, var(--tw-bg-opacity)); z-index: 20; border: 1px solid #4c4c3f;",!1===L?"display:none;":"display:block;",u.b],children:[Object(x.jsx)(_,{type:"text",placeholder:"Buscar",value:at,onChange:function(t){return St(t.target.value)}}),!1===Mt?Object(x.jsxs)(x.Fragment,{children:[null===T||void 0===T||null===(y=T.profiles)||void 0===y?void 0:y.filter((function(t){return t.name.toLowerCase().includes(at.toLowerCase())})).map((function(t){var e;return Object(x.jsx)(bt,{onClick:function(e){e.preventDefault(),Vt(null===t||void 0===t?void 0:t.profile_id),H(!1),St("")},_css15:[{width:"100%",":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgba(75, 85, 99, var(--tw-bg-opacity))"},borderRadius:"1rem"},(null===t||void 0===t?void 0:t.profile_id)===(null===(e=N)||void 0===e?void 0:e.profile_id)?{"--tw-bg-opacity":"1",backgroundColor:"rgba(75, 85, 99, var(--tw-bg-opacity))"}:null],children:Object(x.jsxs)(ht,{children:[Object(x.jsx)(gt,{src:null===t||void 0===t?void 0:t.photo,alt:"Foto de perfil",_css16:[{width:"50px",height:"50px",borderRadius:"9999px"},0===+(null===t||void 0===t?void 0:t.astoken)?{"--tw-border-opacity":"1",borderColor:"rgba(220, 38, 38, var(--tw-border-opacity))",borderWidth:"4px"}:null]}),null===t||void 0===t?void 0:t.name]})},null===t||void 0===t?void 0:t.profile_id)})),Object(x.jsx)(I,{onClick:function(t){t.stopPropagation(),Dt(!0)},children:"Elegir un perfil manualmente"})]}):null,!0===Mt?Object(x.jsxs)(x.Fragment,{children:[null===W||void 0===W||null===(O=W.filter((function(t){return t.activo})))||void 0===O?void 0:O.filter((function(t){return t.nombre.toLowerCase().includes(at.toLowerCase())})).map((function(t){var e;return Object(x.jsx)(vt,{onClick:function(e){e.preventDefault(),Vt(null===t||void 0===t?void 0:t.id),H(!1),St("")},_css17:[{width:"100%",":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgba(75, 85, 99, var(--tw-bg-opacity))"},borderRadius:"1rem"},(null===t||void 0===t?void 0:t.id)===(null===(e=N)||void 0===e?void 0:e.profile_id)?{"--tw-bg-opacity":"1",backgroundColor:"rgba(75, 85, 99, var(--tw-bg-opacity))"}:null],children:Object(x.jsxs)(ft,{children:[Object(x.jsx)(jt,{src:null===t||void 0===t?void 0:t.foto,alt:"Foto de perfil",_css18:[{width:"50px",height:"50px",borderRadius:"9999px",objectFit:"cover"},null===(null===t||void 0===t?void 0:t.token)?{"--tw-border-opacity":"1",borderColor:"rgba(220, 38, 38, var(--tw-border-opacity))",borderWidth:"4px"}:null]}),null===t||void 0===t?void 0:t.nombre]})},null===t||void 0===t?void 0:t.id)})),Object(x.jsx)(I,{onClick:function(t){t.stopPropagation(),Dt(!1)},children:"Elegir un perfil asociado"})]}):null]}),Object(x.jsx)(xt,{children:Object(x.jsx)(wt,{title:"Recargar",onClick:function(){var t=document.getElementById("ChatClient").scrollTop;J(!1),K(!1),setTimeout((function(){K(!0),J(!0),document.getElementById("ChatClient").scrollTop=t}),1e3)},_css19:[{"@media (min-width: 768px)":{width:"0.75rem"},"@media (min-width: 1280px)":{width:"1.5rem"}},"@media (min-width: 2560px) { width: 2rem !important; }","@media (min-height: 1000px) and (max-width: 767px) { width: 2rem !important; }","@media (max-height: 999px) and (max-width: 767px) { width: 1rem !important; }"],children:Object(x.jsx)(yt,{_css20:[{"@media (min-width: 768px)":{width:"0.75rem",height:"0.75rem"},"@media (min-width: 1280px)":{height:"1.5rem",width:"1.5rem"}},"@media (min-width: 2560px) { width: 2rem !important;  height: 2rem !important; }","@media (min-height: 1000px) and (max-width: 767px) { width: 2rem !important; height: 2rem !important; }","@media (max-height: 999px) and (max-width: 767px) { width: 1rem !important; height: 1rem !important; }"]})})})]}),Object(x.jsxs)(_t,{id:"ChatClient",_css21:[{maxHeight:"90%","--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))",display:"flex",width:"100%",borderRadius:"1rem",padding:"0.75rem",flexDirection:"column",flexShrink:"1",overflowX:"hidden"},u.b,Object(h.c)(["&::-webkit-scrollbar-track{border-radius:10px;border:1px solid #4c4c3f;}&::-webkit-scrollbar-thumb{border-radius:10px;background-color:#4c4c3f;}"])],children:[!1===G?Object(x.jsx)(b.a,{}):null,Object(x.jsx)(Ct,{children:Object(x.jsx)(Ot,{children:50===it?Object(x.jsx)(It,{onClick:Object(r.a)(a.a.mark((function t(){var e,i,d,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d=null!==(e=document.getElementById("ChatClient").scrollHeight)&&void 0!==e?e:0,J(!1),t.next=4,Lt(null===T||void 0===T?void 0:T.amolatinaId,null===(i=N)||void 0===i?void 0:i.amolatinaid,zt+1,J);case 4:o=document.getElementById("ChatClient").scrollHeight,document.getElementById("ChatClient").scrollTop=o-d,Et(zt+1);case 7:case"end":return t.stop()}}),t)}))),children:"Ver mas Antiguos"}):null})}),q&&(null===(S=Object.keys(Z))||void 0===S?void 0:S.length)>0?null===(k=Object.keys(Z))||void 0===k?void 0:k.map((function(t){var e,i;return(null===(e=N)||void 0===e?void 0:e.amolatinaid)===+(null===(i=Z[t])||void 0===i?void 0:i.sender)?Object(x.jsx)(rt,{justify:"right",data:Z[t],keyNum:t,TranslateTextData:Ht}):Object(x.jsx)(rt,{justify:"left",data:Z[t],keyNum:t,TranslateTextData:Ht})})):null]})]})})}}}]);