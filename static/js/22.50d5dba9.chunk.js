(this.webpackJsonpivan=this.webpackJsonpivan||[]).push([[22],{408:function(t,e,i){"use strict";i.r(e);var o=i(9),d=i(1),n=i.n(d),a=i(8),r=i(86),l=i(6),c=i(0),s=i.n(c),p=i(10),u=i(80),m=i(41),b=i(5),g=i(53),h=i(54),v=i(2),f=function(){var t=Object(a.a)(n.a.mark((function t(e,i,o){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(l.customFetch)("/clients/info-client?id=".concat(o));case 2:return t.next=4,t.sent.data;case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})));return function(e,i,o){return t.apply(this,arguments)}}(),j=function(){var t=Object(a.a)(n.a.mark((function t(e,i){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(l.customFetch)("/clients/translate-text?text=".concat(e,"&lang=").concat(i));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,i){return t.apply(this,arguments)}}(),x=b.d.input.withConfig({displayName:"ModalChat__Input",componentId:"sc-1fddwaj-0"})({appearance:"none",backgroundColor:"transparent",fontSize:"1rem",fontWeight:"500","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",marginLeft:"1rem",marginRight:"1rem",flex:"1 1 auto",borderBottomWidth:"2px",paddingLeft:"0.25rem",paddingRight:"0.25rem"}),w=Object(b.d)(x).withConfig({displayName:"ModalChat___StyledInput2",componentId:"sc-1fddwaj-1"})({width:"90%",marginTop:"8px"}),y=Object(b.d)(x).withConfig({displayName:"ModalChat___StyledInput",componentId:"sc-1fddwaj-2"})({width:"auto",cursor:"pointer"}),_=b.d.span.withConfig({displayName:"ModalChat__Fecha",componentId:"sc-1fddwaj-3"})(["@media (min-width:2560px){font-size:0.625em !important;}",""],{"--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",fontSize:"0.3rem",letterSpacing:"0.08em",marginLeft:"1.5em",marginRight:"1.5em",fontWeight:"700","@media (min-width: 1024px)":{fontSize:"0.4rem"},"@media (min-width: 1280px)":{fontSize:"0.5rem"}}),C=b.d.button.withConfig({displayName:"ModalChat__Button",componentId:"sc-1fddwaj-4"})(["@media (min-width:2560px){padding:4px 8px !important;margin-bottom:12px !important;}@media (min-height:1000px) and (max-width:767px) and (min-width:651px){padding:4px 8px !important;margin-bottom:12px !important;}@media (min-width:401px) and (max-width:650px) and (min-height:1000px){padding:2px 4px !important;margin-bottom:8px !important;}@media (max-height:999px) and (min-width:651px) and (max-width:767px){padding:2px 4px !important;margin-bottom:8px !important;}@media (min-width:401px) and (max-width:650px) and (max-height:999px){padding:2px 4px !important;margin-bottom:4px !important;}@media (max-width:400px) and (max-height:999px){padding:1px 2px !important;margin-bottom:2px !important;}"," border:1px solid #4c4c3f;transition:background-color 0.15s linear;"],{"--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",padding:"1.5px 3px",borderRadius:"8px",marginBottom:"4px",":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgba(76, 76, 63, var(--tw-bg-opacity))"},"@media (min-width: 1024px)":{padding:"3px 6px",marginBottom:"6px"},"@media (min-width: 1280px)":{padding:"4px 8px",marginBottom:"10px"}}),O=Object(b.d)("div").withConfig({displayName:"ModalChat___StyledDiv",componentId:"sc-1fddwaj-5"})(["",""],(function(t){return t._css})),S=Object(b.d)("div").withConfig({displayName:"ModalChat___StyledDiv2",componentId:"sc-1fddwaj-6"})({width:"50%",textAlign:"left",flexShrink:"1"}),k=Object(b.d)("audio").withConfig({displayName:"ModalChat___StyledAudio",componentId:"sc-1fddwaj-7"})({width:"100%"}),I=Object(b.d)("div").withConfig({displayName:"ModalChat___StyledDiv3",componentId:"sc-1fddwaj-8"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(31, 31, 38, var(--tw-bg-opacity))",borderRadius:"1rem",padding:"0.5rem"}),M=Object(b.d)("img").withConfig({displayName:"ModalChat___StyledImg",componentId:"sc-1fddwaj-9"})({width:"100%",cursor:"pointer"}),N=Object(b.d)("div").withConfig({displayName:"ModalChat___StyledDiv4",componentId:"sc-1fddwaj-10"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(31, 31, 38, var(--tw-bg-opacity))",borderRadius:"1rem",padding:"0.5rem"}),D=Object(b.d)("video").withConfig({displayName:"ModalChat___StyledVideo",componentId:"sc-1fddwaj-11"})({width:"100%"}),R=Object(b.d)("div").withConfig({displayName:"ModalChat___StyledDiv5",componentId:"sc-1fddwaj-12"})({display:"flex",alignItems:"center",justifyContent:"center"}),B=Object(b.d)(g.a).withConfig({displayName:"ModalChat___StyledEmailArrowLeftRedSvg",componentId:"sc-1fddwaj-13"})({width:"2rem",marginTop:"0.25rem",marginBottom:"0.25rem"}),F=Object(b.d)(h.a).withConfig({displayName:"ModalChat___StyledEmailArrowRightGreenSvg",componentId:"sc-1fddwaj-14"})({width:"2rem",marginTop:"0.25rem",marginBottom:"0.25rem"}),T=Object(b.d)("div").withConfig({displayName:"ModalChat___StyledDiv6",componentId:"sc-1fddwaj-15"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(31, 31, 38, var(--tw-bg-opacity))",borderRadius:"1rem",padding:"0.5rem",borderWidth:"4px","--tw-border-opacity":"1",borderColor:"rgba(245, 158, 11, var(--tw-border-opacity))"}),W=Object(b.d)("div").withConfig({displayName:"ModalChat___StyledDiv7",componentId:"sc-1fddwaj-16"})(["",""],(function(t){return t._css2})),A=Object(b.d)("button").withConfig({displayName:"ModalChat___StyledButton",componentId:"sc-1fddwaj-17"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))",borderRadius:"1rem",padding:"0.25rem"}),z=Object(b.d)("div").withConfig({displayName:"ModalChat___StyledDiv8",componentId:"sc-1fddwaj-18"})(["",""],(function(t){return t._css3})),L=Object(b.d)("button").withConfig({displayName:"ModalChat___StyledButton2",componentId:"sc-1fddwaj-19"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))",borderRadius:"1rem",padding:"0.25rem"}),E=Object(b.d)("div").withConfig({displayName:"ModalChat___StyledDiv9",componentId:"sc-1fddwaj-20"})(["",""],(function(t){return t._css4})),P=Object(b.d)("button").withConfig({displayName:"ModalChat___StyledButton3",componentId:"sc-1fddwaj-21"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))",borderRadius:"1rem",padding:"0.25rem"}),H=Object(b.d)("div").withConfig({displayName:"ModalChat___StyledDiv10",componentId:"sc-1fddwaj-22"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(31, 31, 38, var(--tw-bg-opacity))",borderRadius:"1rem",padding:"0.5rem"}),V=Object(b.d)("div").withConfig({displayName:"ModalChat___StyledDiv11",componentId:"sc-1fddwaj-23"})({fontSize:"0.4rem",textAlign:"left",fontWeight:"700"}),J=Object(b.d)("button").withConfig({displayName:"ModalChat___StyledButton4",componentId:"sc-1fddwaj-24"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))",borderRadius:"1rem",padding:"0.25rem"}),X=Object(b.d)("div").withConfig({displayName:"ModalChat___StyledDiv12",componentId:"sc-1fddwaj-25"})(["",""],(function(t){return t._css5})),Y=Object(b.d)("button").withConfig({displayName:"ModalChat___StyledButton5",componentId:"sc-1fddwaj-26"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))",borderRadius:"1rem",padding:"0.25rem"}),G=function(t){var e,i,d,r,c,p,u=t.justify,m=t.data,b=t.keyNum,g=t.TranslateTextData,h=s.a.useState(!1),f=Object(o.a)(h,2),j=f[0],x=f[1],w=s.a.useState(!1),y=Object(o.a)(w,2),C=y[0],G=y[1],q=s.a.useState(!1),K=Object(o.a)(q,2),Q=K[0],U=K[1],Z=new Date(null===m||void 0===m?void 0:m.timestamp),$=Z.getHours(),tt=Z.getDate();tt=tt<10?"0".concat(tt):tt;var et=Z.getMinutes();et=et<10?"0".concat(et):et;var it=Object(l.mesDelYear)(Z.getMonth()),ot=Z.getFullYear(),dt=$<12?"am":"pm",nt=!1===j?null===m||void 0===m?void 0:m.text:null===m||void 0===m?void 0:m.text_translate;return Object(v.jsx)(O,{_css:[{display:"flex",marginTop:"0.25rem",marginBottom:"0.25rem",padding:"0.25rem",width:"100%"},"right"===u?{justifyContent:"flex-end"}:{justifyContent:"flex-start"}],children:Object(v.jsx)(S,{children:Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(_,{children:[tt," de ",it," del ",ot," - ",$<13?$:$-12,":",et," ",dt]}),"Voice message"===(null===m||void 0===m||null===(e=m.text)||void 0===e?void 0:e.trim())?Object(v.jsx)(k,{controls:!0,src:null===m||void 0===m?void 0:m.medialink}):"Sent image"===(null===m||void 0===m||null===(i=m.text)||void 0===i?void 0:i.trim())?Object(v.jsx)(I,{children:Object(v.jsx)(M,{alt:"SendImage",src:null===m||void 0===m?void 0:m.medialink,onClick:function(t){return Object(l.toggleFullscreen)(t)},className:"canfullscreen"})}):"Sent you a video"===(null===m||void 0===m||null===(d=m.text)||void 0===d?void 0:d.trim())?Object(v.jsx)(N,{children:Object(v.jsx)(D,{controls:!0,children:Object(v.jsx)("source",{src:null===m||void 0===m?void 0:m.medialink,type:"video/mp4"})})}):"Sent letter"===(null===m||void 0===m||null===(r=m.text)||void 0===r?void 0:r.trim())?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(R,{children:"left"===u?Object(v.jsx)(B,{}):Object(v.jsx)(F,{})}),Object(v.jsx)(T,{children:Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(W,{_css2:[!1===Q?{overflow:"hidden",height:"5rem",flexWrap:"wrap"}:null],children:!1===j?(null===m||void 0===m||null===(c=m.medialink)||void 0===c?void 0:c.subject)+" "+(null===m||void 0===m||null===(p=m.medialink)||void 0===p?void 0:p.text):null===m||void 0===m?void 0:m.text_translate}),!1===Q?Object(v.jsx)("div",{children:Object(v.jsx)(A,{onClick:function(){return U(!0)},children:"Mostrar mas..."})}):null,C?null:!1===j?Object(v.jsx)(z,{_css3:["right"===u?{textAlign:"right"}:{textAlign:"left"},{fontSize:"0.4rem",fontWeight:"700"}],children:Object(v.jsx)(L,{onClick:Object(a.a)(n.a.mark((function t(){var e,i;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==(null===m||void 0===m?void 0:m.text_translate)){t.next=3;break}return t.next=3,g(b,(null===m||void 0===m||null===(e=m.medialink)||void 0===e?void 0:e.subject)+" "+(null===m||void 0===m||null===(i=m.medialink)||void 0===i?void 0:i.text),G,x);case 3:case"end":return t.stop()}}),t)}))),children:"Traducir"})}):Object(v.jsx)(E,{_css4:["right"!==u?{textAlign:"right"}:{textAlign:"left"},{fontSize:"0.4rem",fontWeight:"700"}],children:Object(v.jsx)(P,{onClick:function(){return x(!1)},children:"Original"})})]})})]}):Object(v.jsx)(H,{children:Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{children:nt}),C?null:!1===j?Object(v.jsx)(V,{children:Object(v.jsx)(J,{onClick:Object(a.a)(n.a.mark((function t(){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==(null===m||void 0===m?void 0:m.text_translate)){t.next=3;break}return t.next=3,g(b,null===m||void 0===m?void 0:m.text,G,x);case 3:case"end":return t.stop()}}),t)}))),children:"Traducir"})}):Object(v.jsx)(X,{_css5:["right"!==u?{textAlign:"right"}:{textAlign:"left"},{fontSize:"0.4rem",fontWeight:"700"}],children:Object(v.jsx)(Y,{onClick:function(){return x(!1)},children:"Original"})})]})})]})})},null===m||void 0===m?void 0:m.id)},q=Object(b.d)("div").withConfig({displayName:"ModalChat___StyledDiv13",componentId:"sc-1fddwaj-27"})(["",""],(function(t){return t._css6})),K=Object(b.d)("div").withConfig({displayName:"ModalChat___StyledDiv14",componentId:"sc-1fddwaj-28"})({fontWeight:"700",fontSize:"1rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",marginBottom:"0.5rem",width:"100%"}),Q=Object(b.d)("img").withConfig({displayName:"ModalChat___StyledImg2",componentId:"sc-1fddwaj-29"})({objectFit:"cover",borderRadius:"9999px",maxWidth:"50px",maxHeight:"50px","@media (min-width: 1536px)":{borderRadius:"1rem"}}),U=Object(b.d)("div").withConfig({displayName:"ModalChat___StyledDiv15",componentId:"sc-1fddwaj-30"})({display:"flex",alignItems:"center"}),Z=Object(b.d)("img").withConfig({displayName:"ModalChat___StyledImg3",componentId:"sc-1fddwaj-31"})(["",""],(function(t){return t._css7})),$=Object(b.d)("div").withConfig({displayName:"ModalChat___StyledDiv16",componentId:"sc-1fddwaj-32"})(["",""],(function(t){return t._css8})),tt=Object(b.d)("button").withConfig({displayName:"ModalChat___StyledButton6",componentId:"sc-1fddwaj-33"})(["",""],(function(t){return t._css9})),et=Object(b.d)("label").withConfig({displayName:"ModalChat___StyledLabel",componentId:"sc-1fddwaj-34"})({display:"flex",alignItems:"center",justifyContent:"space-between",paddingLeft:"0.5rem",paddingRight:"0.5rem",gap:"0.5rem",borderBottomWidth:"2px","--tw-border-opacity":"1",borderColor:"rgba(31, 41, 55, var(--tw-border-opacity))",paddingTop:"0.5rem",paddingBottom:"0.5rem",cursor:"pointer"}),it=Object(b.d)("img").withConfig({displayName:"ModalChat___StyledImg4",componentId:"sc-1fddwaj-35"})(["",""],(function(t){return t._css10})),ot=Object(b.d)("button").withConfig({displayName:"ModalChat___StyledButton7",componentId:"sc-1fddwaj-36"})(["",""],(function(t){return t._css11})),dt=Object(b.d)("label").withConfig({displayName:"ModalChat___StyledLabel2",componentId:"sc-1fddwaj-37"})({display:"flex",alignItems:"center",justifyContent:"space-between",paddingLeft:"0.5rem",paddingRight:"0.5rem",gap:"0.5rem",borderBottomWidth:"2px","--tw-border-opacity":"1",borderColor:"rgba(31, 41, 55, var(--tw-border-opacity))",paddingTop:"0.5rem",paddingBottom:"0.5rem",cursor:"pointer"}),nt=Object(b.d)("img").withConfig({displayName:"ModalChat___StyledImg5",componentId:"sc-1fddwaj-38"})(["",""],(function(t){return t._css12})),at=Object(b.d)("div").withConfig({displayName:"ModalChat___StyledDiv17",componentId:"sc-1fddwaj-39"})(["",""],(function(t){return t._css13})),rt=Object(b.d)("div").withConfig({displayName:"ModalChat___StyledDiv18",componentId:"sc-1fddwaj-40"})({display:"flex",justifyContent:"center",marginTop:"0.25rem",marginBottom:"0.25rem",padding:"0.25rem",width:"100%"}),lt=Object(b.d)("div").withConfig({displayName:"ModalChat___StyledDiv19",componentId:"sc-1fddwaj-41"})({width:"50%",textAlign:"center"}),ct=Object(b.d)("button").withConfig({displayName:"ModalChat___StyledButton8",componentId:"sc-1fddwaj-42"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(76, 76, 63, var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",padding:"0.5rem",borderRadius:"1rem"});e.default=function(t){var e,i,d,c,g,h,x,_,O,S=t.clientid,k=t.setShowChat,I=t.ProfileChat,M=Object(p.d)(["clientes","client",S],f).data,N=Object(p.d)(["perfiles"],l.fetchPerfiles).data,D=s.a.useRef(),R=s.a.useState(!1),B=Object(o.a)(R,2),F=B[0],T=B[1],W=s.a.useState(!1),A=Object(o.a)(W,2),z=A[0],L=A[1],E=s.a.useState([]),P=Object(o.a)(E,2),H=P[0],V=P[1],J=function(){var t=Object(a.a)(n.a.mark((function t(e,i,o,d){var a,r;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&i){t.next=2;break}return t.abrupt("return",null);case 2:return t.next=4,Object(l.customFetch)("/clients/client-chat?clientId=".concat(e,"&profileId=").concat(i,"&page=").concat(o));case 4:if(a=t.sent,!(H.length>0)){t.next=11;break}return d(!0),r=H.concat(a),t.abrupt("return",V(null===r||void 0===r?void 0:r.sort((function(t,e){return t.timestamp>e.timestamp?1:-1}))));case 11:return d(!0),t.abrupt("return",V(null===a||void 0===a?void 0:a.sort((function(t,e){return t.timestamp>e.timestamp?1:-1}))));case 13:case"end":return t.stop()}}),t)})));return function(e,i,o,d){return t.apply(this,arguments)}}(),X=function(){var t=Object(a.a)(n.a.mark((function t(e,i,o,d){var a,r;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o(!0),t.next=3,j(i,"en");case 3:if(a=t.sent,r=H,"500"!==a){t.next=8;break}return o(!1),t.abrupt("return");case 8:return r[e].text_translate=a,o(!1),d(!0),t.abrupt("return",V(r));case 12:case"end":return t.stop()}}),t)})));return function(e,i,o,d){return t.apply(this,arguments)}}(),Y=s.a.useState(""),st=Object(o.a)(Y,2),pt=st[0],ut=st[1],mt=s.a.useState(!1),bt=Object(o.a)(mt,2),gt=bt[0],ht=bt[1],vt=s.a.useState(I),ft=Object(o.a)(vt,2),jt=ft[0],xt=ft[1],wt=s.a.useState(1),yt=Object(o.a)(wt,2),_t=yt[0],Ct=yt[1];if((null===M||void 0===M||null===(e=M.profiles)||void 0===e?void 0:e.length)>0&&(-1===+jt||void 0===jt)){var Ot,St,kt=null===M||void 0===M||null===(Ot=M.profiles)||void 0===Ot||null===(St=Ot[0])||void 0===St?void 0:St.profile_id;void 0!==kt&&xt(kt)}var It,Mt=s.a.useCallback((function(){T(!1)}),[T]),Nt=function(t){xt(t),Ct(1),ut(""),V([]),T(!1),L(!1)};if(!1===gt){var Dt;It=null===M||void 0===M||null===(Dt=M.profiles)||void 0===Dt?void 0:Dt.find((function(t){return(null===t||void 0===t?void 0:t.profile_id)===jt}))}else{var Rt=null===N||void 0===N?void 0:N.find((function(t){return(null===t||void 0===t?void 0:t.id)===jt}));It={profile_id:null===Rt||void 0===Rt?void 0:Rt.id,name:null===Rt||void 0===Rt?void 0:Rt.nombre,tomado:-1,photo:null===Rt||void 0===Rt?void 0:Rt.foto,amolatinaid:null===Rt||void 0===Rt?void 0:Rt.amolatinaId,astoken:null===(null===Rt||void 0===Rt?void 0:Rt.token)?0:1}}0===(null===H||void 0===H?void 0:H.length)&&!1===z&&void 0!==(null===M||void 0===M?void 0:M.amolatinaId)&&void 0!==(null===(i=It)||void 0===i?void 0:i.amolatinaid)&&J(null===M||void 0===M?void 0:M.amolatinaId,null===(d=It)||void 0===d?void 0:d.amolatinaid,1,L),50===(null===H||void 0===H?void 0:H.length)&&setTimeout((function(){var t=document.getElementById("ChatClient");t.scrollTop=t.scrollHeight}),250);var Bt=-1;return Object(l.useClickOutside)(D,Mt),Object(v.jsx)(r.a,{setShowModal:k,children:Object(v.jsxs)(q,{_css6:[{"--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",width:"800px","@media (min-width: 768px)":{padding:"0.5rem",gap:"0.375rem"},"@media (min-width: 1024px)":{padding:"1rem",gap:"0.75rem"}},"@media (min-width: 2560px) { padding: 1rem !important; grid-gap: 0.75rem !important; width:1000px; }"],children:[Object(v.jsxs)(K,{children:[Object(v.jsx)(Q,{alt:"Foto de ficha",src:Object(l.imageExists)(null===M||void 0===M?void 0:M.foto)}),Object(v.jsx)("span",{children:null===M||void 0===M?void 0:M.nombre}),Object(v.jsxs)(U,{onClick:function(t){t.stopPropagation(),T(!0!==F)},children:[Object(v.jsx)(Z,{alt:"Foto de ficha",src:Object(l.imageExists)(null===(c=It)||void 0===c?void 0:c.photo),_css7:[{objectFit:"cover",borderRadius:"9999px",width:"50px",height:"50px"},0===+(null===(g=It)||void 0===g?void 0:g.astoken)?{"--tw-border-opacity":"1",borderColor:"rgba(220, 38, 38, var(--tw-border-opacity))",borderWidth:"4px"}:null]}),Object(v.jsx)("label",{children:Object(v.jsx)(y,{value:null!==(h=null===(x=It)||void 0===x?void 0:x.name)&&void 0!==h?h:"Sin Perfil",disabled:!0})})]}),Object(v.jsxs)($,{ref:D,_css8:[{fontSize:"1rem",borderRadius:"1rem",display:"flex",alignItems:"center",flexDirection:"column",position:"fixed",top:"60px",right:"140px",padding:"0.5rem",width:"250px",height:"400px",overflowX:"hidden"},"background-color: rgba(31, 31, 38, var(--tw-bg-opacity)); z-index: 20; border: 1px solid #4c4c3f;",!1===F?"display:none;":"display:block;",u.b],children:[Object(v.jsx)(w,{type:"text",placeholder:"Buscar",value:pt,onChange:function(t){return ut(t.target.value)}}),!1===gt?Object(v.jsxs)(v.Fragment,{children:[null===M||void 0===M||null===(_=M.profiles)||void 0===_?void 0:_.filter((function(t){return t.name.toLowerCase().includes(pt.toLowerCase())})).map((function(t){var e;return Object(v.jsx)(tt,{onClick:function(e){e.preventDefault(),Nt(null===t||void 0===t?void 0:t.profile_id),T(!1),ut("")},_css9:[{width:"100%",":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgba(75, 85, 99, var(--tw-bg-opacity))"},borderRadius:"1rem"},(null===t||void 0===t?void 0:t.profile_id)===(null===(e=It)||void 0===e?void 0:e.profile_id)?{"--tw-bg-opacity":"1",backgroundColor:"rgba(75, 85, 99, var(--tw-bg-opacity))"}:null],children:Object(v.jsxs)(et,{children:[Object(v.jsx)(it,{src:null===t||void 0===t?void 0:t.photo,alt:"Foto de perfil",_css10:[{width:"40px",height:"40px",borderRadius:"9999px"},0===+(null===t||void 0===t?void 0:t.astoken)?{"--tw-border-opacity":"1",borderColor:"rgba(220, 38, 38, var(--tw-border-opacity))",borderWidth:"4px"}:null]}),null===t||void 0===t?void 0:t.name]})},null===t||void 0===t?void 0:t.profile_id)})),Object(v.jsx)(C,{onClick:function(t){t.stopPropagation(),ht(!0)},children:"Elegir un perfil manualmente"})]}):null,!0===gt?Object(v.jsxs)(v.Fragment,{children:[null===N||void 0===N||null===(O=N.filter((function(t){return t.activo})))||void 0===O?void 0:O.filter((function(t){return t.nombre.toLowerCase().includes(pt.toLowerCase())})).map((function(t){var e;return Object(v.jsx)(ot,{onClick:function(e){e.preventDefault(),Nt(null===t||void 0===t?void 0:t.id),T(!1),ut("")},_css11:[{width:"100%",":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgba(75, 85, 99, var(--tw-bg-opacity))"},borderRadius:"1rem"},(null===t||void 0===t?void 0:t.id)===(null===(e=It)||void 0===e?void 0:e.profile_id)?{"--tw-bg-opacity":"1",backgroundColor:"rgba(75, 85, 99, var(--tw-bg-opacity))"}:null],children:Object(v.jsxs)(dt,{children:[Object(v.jsx)(nt,{src:null===t||void 0===t?void 0:t.foto,alt:"Foto de perfil",_css12:[{width:"40px",height:"40px",borderRadius:"9999px"},null===(null===t||void 0===t?void 0:t.token)?{"--tw-border-opacity":"1",borderColor:"rgba(220, 38, 38, var(--tw-border-opacity))",borderWidth:"4px"}:null]}),null===t||void 0===t?void 0:t.nombre]})},null===t||void 0===t?void 0:t.id)})),Object(v.jsx)(C,{onClick:function(t){t.stopPropagation(),ht(!1)},children:"Elegir un perfil asociado"})]}):null]})]}),Object(v.jsxs)(at,{id:"ChatClient",_css13:[{height:"500px","--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))",display:"flex",width:"100%",borderRadius:"1rem",padding:"0.75rem",flexDirection:"column",flexShrink:"1",overflowX:"hidden"},u.b,Object(b.c)(["&::-webkit-scrollbar-track{border-radius:10px;border:1px solid #4c4c3f;}&::-webkit-scrollbar-thumb{border-radius:10px;background-color:#4c4c3f;}"])],children:[!1===z?Object(v.jsx)(m.a,{}):null,Object(v.jsx)(rt,{children:Object(v.jsx)(lt,{children:(null===H||void 0===H?void 0:H.length)===50*_t?Object(v.jsx)(ct,{onClick:Object(a.a)(n.a.mark((function t(){var e;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:L(!1),J(null===M||void 0===M?void 0:M.amolatinaId,null===(e=It)||void 0===e?void 0:e.amolatinaid,_t+1,L),Ct(_t+1);case 3:case"end":return t.stop()}}),t)}))),children:"Ver mas Antiguos"}):null})}),(null===H||void 0===H?void 0:H.length)>0?null===H||void 0===H?void 0:H.map((function(t){var e;return Bt++,(null===(e=It)||void 0===e?void 0:e.amolatinaid)===+(null===t||void 0===t?void 0:t.sender)?Object(v.jsx)(G,{justify:"right",data:t,keyNum:Bt,TranslateTextData:X}):Object(v.jsx)(G,{justify:"left",data:t,keyNum:Bt,TranslateTextData:X})})):null]})]})})}}}]);