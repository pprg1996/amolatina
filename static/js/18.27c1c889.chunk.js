(this.webpackJsonpivan=this.webpackJsonpivan||[]).push([[18],{116:function(e,t,r){"use strict";var n,a,i,o,c,l,s=r(17),f=r(13),d=r(5),p=r(0),u=r(74),b=["title","titleId"];function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function j(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function h(e,t){var r=e.title,s=e.titleId,f=j(e,b);return p.createElement("svg",m({id:"b4a22bbc-cdd2-437b-b229-3a26676ab455","data-name":"Capa 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 735.26 370",ref:t,"aria-labelledby":s},f),r?p.createElement("title",{id:s},r):null,n||(n=p.createElement("path",{d:"M497,370H15A15,15,0,0,1,0,355V15A15,15,0,0,1,15,0H497a15,15,0,0,1,15,15V355A15,15,0,0,1,497,370Z",fill:"#f79b00"})),a||(a=p.createElement("path",{d:"M497,0H256V370H497a15,15,0,0,0,15-15V15A15,15,0,0,0,497,0Z",fill:"#f28300"})),i||(i=p.createElement("path",{d:"M512,15A15,15,0,0,0,497,0H15A15,15,0,0,0,0,15v7.78L247.35,197.26a15,15,0,0,0,17.3,0L512,22.78Z",fill:"#fbb200"})),o||(o=p.createElement("path",{d:"M146.6,310H75a15,15,0,0,1,0-30h71.6a15,15,0,1,1,0,30Z",fill:"#fffff2"})),c||(c=p.createElement("path",{d:"M497,0H256V200a15,15,0,0,0,8.65-2.74L512,22.78V15A15,15,0,0,0,497,0Z",fill:"#f79b00"})),l||(l=p.createElement("polygon",{points:"630.99 85.73 606.4 110.32 686.08 190 606.4 269.68 630.99 294.27 735.26 190 630.99 85.73",fill:"#fff"})))}var O,v=p.forwardRef(h),g=(r.p,r(98)),y=r(7),x=r(106),w=r(94),C=r(95),I=r(69),_=r(1),N=Object(d.d)(x.a).withConfig({displayName:"CartaTimer__CoronaSvg",componentId:"sc-1z12nby-0"})(["",""],I.a),z=Object(d.d)(w.a).withConfig({displayName:"CartaTimer__CorazonSvg",componentId:"sc-1z12nby-1"})(["",""],I.a),E=Object(d.d)(C.a).withConfig({displayName:"CartaTimer__CorazonGreenSvg",componentId:"sc-1z12nby-2"})(["",""],I.a),S=d.d.div.withConfig({displayName:"CartaTimer__CartaTimerDiv",componentId:"sc-1z12nby-3"})(["position:relative;margin:25px 16px;.email-arrow{position:absolute;width:64px;height:auto;top:25%;left:50%;transform:translate(-50%,20%);}"]),T=d.d.div.withConfig({displayName:"CartaTimer__CartaContent",componentId:"sc-1z12nby-4"})(["width:320px;padding:28px 8px 16px 8px;display:flex;justify-content:space-between;align-items:center;"]),M=d.d.svg.withConfig({displayName:"CartaTimer__TimerSvg",componentId:"sc-1z12nby-5"})(["position:absolute;width:100%;height:100%;.timer-track{stroke:",";stroke-width:1px;width:calc(100% - 4px);height:calc(100% - 4px);}.timer-progreso{width:calc(100% - 4px);height:calc(100% - 4px);stroke:",";stroke-width:4px;stroke-dasharray:"," ",";}"],(function(e){var t=e.porcentaje;return t>66?"#1a2480":t>33?"#7e801a":"#801a1a"}),(function(e){var t=e.porcentaje;return t>66?"#3347ff":t>33?"#fcff33":"#ff3333"}),(function(e){return e.perimetro}),(function(e){return e.perimetro})),k=d.d.span.withConfig({displayName:"CartaTimer__Tiempo",componentId:"sc-1z12nby-6"})(["position:absolute;color:white;font-size:0.75rem;font-weight:300;left:24px;top:-24px;"]),A=Object(d.d)(g.a).withConfig({displayName:"CartaTimer__CheckMarkSvg",componentId:"sc-1z12nby-7"})(["position:absolute;width:12px;height:auto;top:-22px;left:73px;"]),D=d.d.div.withConfig({displayName:"CartaTimer__PicDiv",componentId:"sc-1z12nby-8"})(["position:relative;"]),P=Object(d.d)(D).withConfig({displayName:"CartaTimer___StyledPicDiv",componentId:"sc-1z12nby-9"})(["",""],(function(e){return e._css2})),H=d.d.img.withConfig({displayName:"CartaTimer__Foto",componentId:"sc-1z12nby-10"})(["width:64px;height:64px;border-radius:100%;border:2px solid #17171c;object-fit:cover;margin-bottom:10px;"]),B=d.d.span.withConfig({displayName:"CartaTimer__Nombre",componentId:"sc-1z12nby-11"})(["font-size:0.75rem;font-weight:300;color:white;"]),V=d.d.div.withConfig({displayName:"CartaTimer__AvatarDiv",componentId:"sc-1z12nby-12"})(["margin:0 24px;",""],(function(e){return"right"===e.position?Object(d.c)(O||(O=Object(f.a)(["\n          display: flex;\n          flex-direction: column;\n          align-items: flex-end;\n        "]))):""}));t.a=function(e){var t=e.perfilNombre,r=e.perfilFoto,n=e.corazones,a=e.clienteNombre,i=e.clienteFoto,o=void 0===i?u.a:i,c=e.coronas,l=e.clienteAmolatinaId,f=e.tiempoLlegada,d=e.leida,b=(e.respondida,e.timerDuracionMinutos),m=Object(p.useRef)(null),j=Object(p.useState)(0),h=Object(s.a)(j,2),O=h[0],g=h[1],x=Object(p.useState)(0),w=Object(s.a)(x,2),C=w[0],I=w[1],Z=Object(p.useState)(Math.floor(f/60)+b-Math.floor(Date.now()/6e4)),F=Object(s.a)(Z,2),L=F[0],R=F[1],G=Object(p.useState)(0),J=Object(s.a)(G,2),W=J[0],q=J[1],K=Object(p.useRef)(0),Q=Object(p.useState)([]),U=Object(s.a)(Q,2),X=U[0],Y=U[1],$=Object(p.useState)([]),ee=Object(s.a)($,2),te=ee[0],re=ee[1],ne=Object(p.useState)(1),ae=Object(s.a)(ne,2),ie=ae[0],oe=ae[1],ce=Object(p.useState)(100),le=Object(s.a)(ce,2),se=le[0],fe=le[1],de=Object(p.useRef)(),pe=Object(y.G)(de,l);return Object(p.useEffect)((function(){Y(Object(y.A)(N,12,32,40,c,11.25))}),[c]),Object(p.useEffect)((function(){var e=Object(y.C)(n,z,E),t=Object(s.a)(e,2),r=t[0],a=t[1];re(Object(y.A)(r,12,32,40,a,11.25))}),[n]),Object(p.useEffect)((function(){return K.current=setInterval((function(){var e=Math.floor(f)+60*b-Math.floor(Date.now()/1e3);R(Math.floor(e/60)),q(e-60*Math.floor(e/60)),e<=0&&(clearInterval(K.current),R(0),q(0))}),333),function(){clearInterval(K.current)}}),[]),Object(p.useEffect)((function(){g(m.current.getBBox().width),I(m.current.getBBox().height),oe(2*(O-10)+2*(C-10)+2*Math.PI*5)}),[C,O]),Object(p.useEffect)((function(){fe((W+60*L)/(60*b)*100)}),[L,W,b]),Object(_.jsxs)(S,{children:[Object(_.jsxs)(k,{children:[L<10?"0".concat(L):L,":",W<10?"0".concat(W):W]}),d?Object(_.jsx)(A,{}):null,Object(_.jsxs)(M,{ref:m,porcentaje:se,perimetro:ie,children:[Object(_.jsx)("rect",{className:"timer-track",x:2,y:2,rx:5,ry:5,fill:"none"}),Object(_.jsx)("rect",{className:"timer-progreso",x:2,y:2,rx:5,ry:5,fill:"none",strokeDashoffset:ie-ie/100*se})]}),Object(_.jsxs)(T,{children:[Object(_.jsxs)(V,{children:[Object(_.jsxs)(P,{ref:de,_css2:pe,children:[X,Object(_.jsx)(H,{src:null!==o&&void 0!==o?o:u.a,onError:function(e){var t=e.currentTarget;t.onerror=null,t.src=u.a}})]}),Object(_.jsx)(B,{children:a})]}),Object(_.jsx)(v,{className:"email-arrow"}),Object(_.jsxs)(V,{position:"right",children:[Object(_.jsxs)(D,{children:[te,Object(_.jsx)(H,{src:r})]}),Object(_.jsx)(B,{children:t})]})]})]})}},406:function(e,t,r){"use strict";r.r(t);var n=r(20),a=r(4),i=r(21),o=r(5),c=r(41),l=r(42),s=r(116),f=r(69),d=r(9),p=r(7),u=r(1),b=o.d.div.withConfig({displayName:"CartasAdminContainer__CartasDiv",componentId:"rb4u26-0"})([""," ",""],{display:"flex",justifyContent:"center",alignItems:"center",flexWrap:"wrap",marginTop:"2rem"},f.b),m=Object(o.d)(c.a).withConfig({displayName:"CartasAdminContainer___StyledContainer",componentId:"rb4u26-1"})({width:"100%",height:"100%"});t.default=function(e){var t,r=e.supervisoresSeleccionadosIds,o=Object(d.d)(["operadores"],p.p).data,c=function(e){var t=[];null===e||void 0===e||e.forEach((function(e){e.perfiles&&t.push.apply(t,Object(i.a)(e.perfiles))}));var r=t.map((function(e){return e.cartas.map((function(t){return Object(a.a)(Object(a.a)({},t),{},{perfil:e,cliente:t.cliente,operadorId:e.operador.id})}))})).flat();return r.map((function(e){var t=e.id,r=e.read_timestamp,n=e.replied,a=e.timestamp,i=e.cliente,o=e.perfil,c=e.operadorId;return{id:t,perfilNombre:o.nombre,perfilFoto:o.foto,corazones:o.corazones,clienteNombre:i.nombre,clienteFoto:null===i||void 0===i?void 0:i.foto,coronas:i.coronas,clienteAmolatinaId:i.amolatinaId,tiempoLlegada:Math.floor(a/1e3),leida:!!r,respondida:n,operadorId:c}}))}(o);return Object(u.jsxs)(m,{children:[Object(u.jsx)(l.b,{position:"left",txt:"Cartas"}),Object(u.jsx)(b,{children:null===(t=c.filter((function(e){if("todos"===r)return!0;var t,a=Object(n.a)(r);try{for(a.s();!(t=a.n()).done;){var i=t.value;if((null===o||void 0===o?void 0:o.find((function(t){return t.id===e.operadorId})).supervisorId)===Number(i))return!0}}catch(c){a.e(c)}finally{a.f()}return!1})))||void 0===t?void 0:t.map((function(e){return Object(u.jsx)(s.a,Object(a.a)(Object(a.a)({},e),{},{timerDuracionMinutos:30}),e.id)}))})]})}},98:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n,a=r(0),i=["title","titleId"];function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function c(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function l(e,t){var r=e.title,l=e.titleId,s=c(e,i);return a.createElement("svg",o({id:"e5d591a6-4fca-4d72-9ccc-c114fcffa51f","data-name":"Capa 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 384",ref:t,"aria-labelledby":l},s),r?a.createElement("title",{id:l},r):null,n||(n=a.createElement("path",{d:"M0,208.34,175.33,384,512,47.67,463.67,0,175.33,288,47.66,160.33Z",fill:"#fff"})))}var s=a.forwardRef(l);r.p}}]);