(this.webpackJsonpivan=this.webpackJsonpivan||[]).push([[13],{218:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r,i,a,o,c,d=n(0),l=["title","titleId"];function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function p(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function u(e,t){var n=e.title,u=e.titleId,f=p(e,l);return d.createElement("svg",s({id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 1023.6 1023.6",style:{enableBackground:"new 0 0 1023.6 1023.6"},xmlSpace:"preserve",ref:t,"aria-labelledby":u},f),n?d.createElement("title",{id:u},n):null,r||(r=d.createElement("style",{type:"text/css"},"\n\t.st0{fill:#17171C;}\n\t.st1{fill:#1F1F26;}\n")),i||(i=d.createElement("circle",{className:"st0",cx:511.8,cy:511.8,r:511.8})),a||(a=d.createElement("path",{className:"st1",d:"M499.8,495.2c33.9,0,63.2-12.2,87.2-36.1c24-24,36.1-53.3,36.1-87.2s-12.2-63.2-36.1-87.2 c-24-24-53.3-36.1-87.2-36.1s-63.2,12.2-87.2,36.1s-36.2,53.3-36.2,87.2s12.2,63.2,36.1,87.2C436.5,483.1,465.9,495.2,499.8,495.2z  M433.8,305.9c18.4-18.4,40-27.3,66-27.3s47.6,8.9,66,27.3c18.4,18.4,27.3,40,27.3,66s-8.9,47.6-27.3,66c-18.4,18.4-40,27.3-66,27.3 s-47.6-8.9-66-27.3s-27.3-40-27.3-66C406.4,345.9,415.4,324.3,433.8,305.9z"})),o||(o=d.createElement("path",{className:"st1",d:"M715.5,642.3c-0.7-10-2.1-20.9-4.1-32.4c-2.1-11.6-4.8-22.5-8-32.5c-3.3-10.3-7.8-20.6-13.4-30.3 c-5.8-10.2-12.6-19-20.2-26.3c-8-7.6-17.7-13.7-29-18.2c-11.2-4.4-23.7-6.7-37-6.7c-5.2,0-10.3,2.1-20,8.5c-6,3.9-13,8.4-20.9,13.5 c-6.7,4.3-15.8,8.3-27,11.9c-10.9,3.5-22.1,5.3-33,5.3c-11,0-22.1-1.8-33-5.3c-11.2-3.6-20.3-7.6-27-11.9c-7.8-5-14.8-9.5-20.9-13.5 c-9.8-6.4-14.8-8.5-20-8.5c-13.3,0-25.8,2.3-37,6.7c-11.3,4.5-21,10.6-29,18.2c-7.6,7.3-14.4,16.1-20.2,26.3 c-5.6,9.8-10.1,20-13.4,30.3c-3.2,10-5.9,20.9-8,32.5c-2.1,11.5-3.5,22.4-4.1,32.4c-0.7,9.8-1,20-1,30.2c0,26.7,8.5,48.4,25.3,64.3 c16.6,15.8,38.5,23.8,65.1,23.8h246.5c26.6,0,48.5-8,65.1-23.7c16.8-15.9,25.3-37.6,25.3-64.3C716.6,662.2,716.2,652.1,715.5,642.3z  M670.6,715.1c-10.9,10.4-25.4,15.5-44.4,15.5H379.7c-18.9,0-33.4-5.1-44.4-15.5c-10.7-10.2-15.9-24.1-15.9-42.6 c0-9.6,0.3-19.1,0.9-28.2c0.6-8.9,1.9-18.7,3.8-29.1c1.8-10.3,4.2-19.9,7-28.7c2.7-8.4,6.3-16.7,10.9-24.7 c4.3-7.6,9.3-14.2,14.8-19.4c5.1-4.9,11.6-9,19.3-12c7.1-2.8,15-4.3,23.6-4.6c1.1,0.6,2.9,1.6,6,3.6c6.2,4,13.3,8.6,21.1,13.6 c8.9,5.6,20.3,10.8,33.9,15.2c13.9,4.5,28.2,6.8,42.3,6.8c14.1,0,28.3-2.3,42.3-6.8c13.6-4.4,25.1-9.5,33.9-15.2 c8-5.1,15-9.6,21.1-13.6c3-2,4.9-3,6-3.6c8.6,0.2,16.6,1.8,23.6,4.6c7.6,3,14.1,7.1,19.3,12c5.5,5.3,10.5,11.8,14.8,19.4 c4.5,8,8.2,16.3,10.9,24.7c2.8,8.8,5.2,18.4,7,28.7c1.9,10.4,3.1,20.2,3.8,29.1l0,0c0.6,9.1,1,18.5,1,28.1 C686.6,691,681.3,704.9,670.6,715.1z"})),c||(c=d.createElement("g",null,d.createElement("g",null,d.createElement("path",{className:"st1",d:"M599.3,505.1c-74.4,0-134.9,60.4-134.9,134.9s60.3,135,134.9,135s134.9-60.4,134.9-134.9 S673.8,505.1,599.3,505.1z M678.1,645.5c0,3.1-2.5,5.6-5.6,5.6h-61.9v61.8c0,3.1-2.5,5.6-5.6,5.6h-11.3c-3.1,0-5.6-2.5-5.6-5.6 v-61.8h-61.8c-3.1,0-5.6-2.5-5.6-5.6v-11.3c0-3.1,2.5-5.6,5.6-5.6h61.8v-61.8c0-3.1,2.5-5.6,5.6-5.6H605c3.1,0,5.6,2.5,5.6,5.6 v61.8h61.7c3.1,0,5.6,2.5,5.6,5.6v11.3H678.1z"})))))}var f=d.forwardRef(u);n.p},36:function(e,t,n){"use strict";n.r(t);t.default=function(e,t){}},641:function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var i=n(13),a=r(n(0)),o=n(18);n(26),n(36);var c=r(n(16));function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}function s(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(i[n]=e[n]);return i}var p=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=o.createBrowserHistory(t.props),t}return l(t,e),t.prototype.render=function(){return a.createElement(i.Router,{history:this.history,children:this.props.children})},t}(a.Component),u=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=o.createHashHistory(t.props),t}return l(t,e),t.prototype.render=function(){return a.createElement(i.Router,{history:this.history,children:this.props.children})},t}(a.Component),f=function(e,t){return"function"==typeof e?e(t):e},m=function(e,t){return"string"==typeof e?o.createLocation(e,null,null,t):e},h=function(e){return e},b=a.forwardRef;void 0===b&&(b=h);var y=b((function(e,t){var n=e.innerRef,r=e.navigate,i=e.onClick,o=s(e,["innerRef","navigate","onClick"]),c=o.target,l=d({},o,{onClick:function(t){try{i&&i(t)}catch(e){throw t.preventDefault(),e}t.defaultPrevented||0!==t.button||c&&"_self"!==c||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)||(t.preventDefault(),r())}});return l.ref=h!==b&&t||n,a.createElement("a",l)})),x=b((function(e,t){var n=e.component,r=void 0===n?y:n,o=e.replace,l=e.to,p=e.innerRef,u=s(e,["component","replace","to","innerRef"]);return a.createElement(i.__RouterContext.Consumer,null,(function(e){e||c(!1);var n=e.history,i=m(f(l,e.location),e.location),s=i?n.createHref(i):"",y=d({},u,{href:s,navigate:function(){var t=f(l,e.location);(o?n.replace:n.push)(t)}});return h!==b?y.ref=t||p:y.innerRef=p,a.createElement(r,y)}))})),g=function(e){return e},j=a.forwardRef;void 0===j&&(j=g);var v=j((function(e,t){var n=e["aria-current"],r=void 0===n?"page":n,o=e.activeClassName,l=void 0===o?"active":o,p=e.activeStyle,u=e.className,h=e.exact,b=e.isActive,y=e.location,v=e.sensitive,w=e.strict,O=e.style,C=e.to,_=e.innerRef,R=s(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return a.createElement(i.__RouterContext.Consumer,null,(function(e){e||c(!1);var n=y||e.location,o=m(f(C,n),n),s=o.pathname,S=s&&s.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),P=S?i.matchPath(n.pathname,{path:S,exact:h,sensitive:v,strict:w}):null,M=!!(b?b(P,n):P),N=M?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(u,l):u,I=M?d({},O,{},p):O,k=d({"aria-current":M&&r||null,className:N,style:I,to:o},R);return g!==j?k.ref=t||_:k.innerRef=_,a.createElement(x,k)}))}));Object.defineProperty(t,"MemoryRouter",{enumerable:!0,get:function(){return i.MemoryRouter}}),Object.defineProperty(t,"Prompt",{enumerable:!0,get:function(){return i.Prompt}}),Object.defineProperty(t,"Redirect",{enumerable:!0,get:function(){return i.Redirect}}),Object.defineProperty(t,"Route",{enumerable:!0,get:function(){return i.Route}}),Object.defineProperty(t,"Router",{enumerable:!0,get:function(){return i.Router}}),Object.defineProperty(t,"StaticRouter",{enumerable:!0,get:function(){return i.StaticRouter}}),Object.defineProperty(t,"Switch",{enumerable:!0,get:function(){return i.Switch}}),Object.defineProperty(t,"generatePath",{enumerable:!0,get:function(){return i.generatePath}}),Object.defineProperty(t,"matchPath",{enumerable:!0,get:function(){return i.matchPath}}),Object.defineProperty(t,"useHistory",{enumerable:!0,get:function(){return i.useHistory}}),Object.defineProperty(t,"useLocation",{enumerable:!0,get:function(){return i.useLocation}}),Object.defineProperty(t,"useParams",{enumerable:!0,get:function(){return i.useParams}}),Object.defineProperty(t,"useRouteMatch",{enumerable:!0,get:function(){return i.useRouteMatch}}),Object.defineProperty(t,"withRouter",{enumerable:!0,get:function(){return i.withRouter}}),t.BrowserRouter=p,t.HashRouter=u,t.Link=x,t.NavLink=v},656:function(e,t,n){"use strict";n.r(t);var r=n(9),i=n(1),a=n.n(i),o=n(6),c=n(218),d=n(90),l=n(7),s=n(0),p=n(10),u=n(11),f=n.n(u),m=n(51),h=n(41),b=n(5),y=n(52),x=n(42),g=n(19),j=n(641),v=n(2),w=Object(b.d)(m.a).withConfig({displayName:"ConfigOperadorModal__Input",componentId:"sc-1wq3xac-0"})(["@media (min-width:2560px){font-size:1rem !important;}",""],{"@media (min-width: 768px)":{fontSize:"0.7rem",padding:"5px 8px"},"@media (min-width: 1024px)":{fontSize:"0.8rem",padding:"5px 8px"},"@media (min-width: 1280px)":{fontSize:"0.9rem",padding:"5px 8px"},"@media (min-width: 1536px)":{fontSize:"1rem",padding:"5px 8px"}}),O=b.d.span.withConfig({displayName:"ConfigOperadorModal__ErrorRegistro",componentId:"sc-1wq3xac-1"})({marginTop:"16px",marginBottom:"16px","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",textAlign:"center"}),C=b.d.span.withConfig({displayName:"ConfigOperadorModal__SubirFotoTxt",componentId:"sc-1wq3xac-2"})(["@media (min-width:2560px){font-size:1rem !important;}",""],{fontWeight:"500","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",display:"block",textAlign:"center",marginTop:"12px","@media (min-width: 768px)":{fontSize:"0.7rem"},"@media (min-width: 1024px)":{fontSize:"0.8rem"},"@media (min-width: 1280px)":{fontSize:"0.9rem"},"@media (min-width: 1536px)":{fontSize:"1rem"}}),_=b.d.label.withConfig({displayName:"ConfigOperadorModal__Label",componentId:"sc-1wq3xac-3"})(["@media (min-width:2560px){padding:0 12px !important;}"," & .st1{display:initial;transition:fill 0.2s ease-in-out;}&:hover .st1{fill:#3346ff;}"],{cursor:"pointer",position:"relative","@media (min-width: 768px)":{padding:"0 4px"}}),R=b.d.img.withConfig({displayName:"ConfigOperadorModal__Foto",componentId:"sc-1wq3xac-4"})([""," left:0;top:0;border-radius:100%;object-fit:cover;object-position:center;"],{position:"absolute",padding:"0 4px",width:"100%",height:"75%","@media (min-width: 1536px)":{height:"75%"}}),S=function(){var e=Object(o.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=l.renombrarPropiedadesAnidadas,e.next=3,Object(l.customFetch)("/operators/list?expand=profiles.letters.client,profiles.operator,paused_profiles.operator");case 3:e.t1=e.sent.data,n=(0,e.t0)(e.t1),r=null===n||void 0===n?void 0:n.filter((function(e){return e.id===t}))[0],p.b.setQueryData("operadores",(function(e){if(e){var n=e.findIndex((function(e){return e.id===t}));return e[n]=r,e}}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=Object(b.d)("div").withConfig({displayName:"ConfigOperadorModal___StyledDiv",componentId:"sc-1wq3xac-5"})({padding:"0.5rem"}),M=Object(b.d)("div").withConfig({displayName:"ConfigOperadorModal___StyledDiv2",componentId:"sc-1wq3xac-6"})({display:"flex",justifyContent:"center",marginTop:"0.25rem",marginBottom:"0.25rem"}),N=Object(b.d)("div").withConfig({displayName:"ConfigOperadorModal___StyledDiv3",componentId:"sc-1wq3xac-7"})({display:"flex",justifyContent:"center","--tw-text-opacity":"1",color:"rgba(243, 244, 246, var(--tw-text-opacity))","@media (min-width: 768px)":{padding:"0.25rem"}}),I=Object(b.d)("div").withConfig({displayName:"ConfigOperadorModal___StyledDiv4",componentId:"sc-1wq3xac-8"})({display:"flex",justifyContent:"center","@media (min-width: 768px)":{padding:"0.5rem"}}),k=Object(b.d)("div").withConfig({displayName:"ConfigOperadorModal___StyledDiv5",componentId:"sc-1wq3xac-9"})({display:"flex",alignItems:"center",gap:"1rem","--tw-text-opacity":"1",color:"rgba(243, 244, 246, var(--tw-text-opacity))"}),z=Object(b.d)("div").withConfig({displayName:"ConfigOperadorModal___StyledDiv6",componentId:"sc-1wq3xac-10"})({display:"flex",justifyContent:"center","@media (min-width: 768px)":{padding:"0.5rem"}}),E=Object(b.d)("div").withConfig({displayName:"ConfigOperadorModal___StyledDiv7",componentId:"sc-1wq3xac-11"})({display:"flex",justifyContent:"center","--tw-text-opacity":"1",color:"rgba(243, 244, 246, var(--tw-text-opacity))","@media (min-width: 768px)":{padding:"0.25rem"}}),q=Object(b.d)("div").withConfig({displayName:"ConfigOperadorModal___StyledDiv8",componentId:"sc-1wq3xac-12"})({display:"flex",justifyContent:"center","--tw-text-opacity":"1",color:"rgba(243, 244, 246, var(--tw-text-opacity))","@media (min-width: 768px)":{padding:"0.25rem"}}),D=Object(b.d)("div").withConfig({displayName:"ConfigOperadorModal___StyledDiv9",componentId:"sc-1wq3xac-13"})({padding:"0.5rem"}),F=Object(b.d)("div").withConfig({displayName:"ConfigOperadorModal___StyledDiv10",componentId:"sc-1wq3xac-14"})({display:"flex",justifyContent:"center","@media (min-width: 768px)":{paddingBottom:"0.25rem",gap:"0.5rem"}}),H=Object(b.d)("button").withConfig({displayName:"ConfigOperadorModal___StyledButton",componentId:"sc-1wq3xac-15"})(["",""],(function(e){return e._css}));t.default=function(e){var t=e.operadorSeleccionadoId,n=e.setshowConfigModal,i=Object(p.d)(["operador",t],l.fetchOperador),u=i.data,m=i.isLoading,b=null===u||void 0===u?void 0:u.nombre,L=null===u||void 0===u?void 0:u.cedula,A=t,B=null===u||void 0===u?void 0:u.foto,T=Object(g.g)(),K=(Object(j.useHistory)(),f.a.get("role")),U=Object(s.useRef)(),J=Object(s.useRef)(),Q=Object(s.useRef)(),$=Object(s.useRef)(),G=Object(s.useState)(null),V=Object(r.a)(G,2),W=V[0],X=V[1],Y=Object(s.useState)(null),Z=Object(r.a)(Y,2),ee=Z[0],te=Z[1],ne=Object(s.useRef)(),re=Object(s.useCallback)((function(){var e=new FileReader;e.onload=function(e){var t=new Image;t.src=e.target.result;var n=e.target.result.split(":")[1].split(";")[0];t.onload=function(){var e=document.createElement("canvas"),r=t.width,i=t.height;r>i?r>200&&(i*=200/r,r=200):i>200&&(r*=200/i,i=200),e.width=r,e.height=i,e.getContext("2d").drawImage(t,0,0,r,i),X(e.toDataURL(n))},J.current.height=J.current.width},ne.current.files[0]&&e.readAsDataURL(ne.current.files[0])}),[]),ie=function(){var e=Object(o.a)(a.a.mark((function e(t){var r,i,o,c,d,s,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.id,i=t.nombre,o=t.base64,c=encodeURIComponent(o),d=b!==i?"&name=".concat(i):"",s="admin"===K&&""!==Q.current.value?"&password=".concat(Object(y.sha256)(Q.current.value)):"",u=void 0!==o&&null!==o&&"admin"===K?"&photo=".concat(c):"",""!==d||""!==s||""!==u){e.next=7;break}return e.abrupt("return",n(!1));case 7:return e.prev=7,e.next=10,Object(l.customFetch)("/operators/update-info",{headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"id=".concat(r).concat(d).concat(u).concat(s),method:"POST"});case 10:p.b.invalidateQueries("operador"),n(!1),S(r),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(7),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[7,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsx)(d.a,{setShowModal:n,children:Object(v.jsx)(P,{children:m?Object(v.jsx)(h.a,{}):Object(v.jsxs)(v.Fragment,{children:["admin"===K?Object(v.jsx)(M,{children:Object(v.jsxs)(x.a,{green:!0,onClick:Object(o.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.customFetch)("/operators/change-user",{headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"id=".concat(A),method:"POST"});case 2:t=e.sent,T(t.auth_token,t.role,t.id),window.location.reload();case 5:case"end":return e.stop()}}),e)}))),children:[" ","Cambiar Cuenta"]})}):null,Object(v.jsx)(N,{children:Object(v.jsx)(_,{children:Object(v.jsx)(w,{type:"text",value:L,disabled:!0})})}),Object(v.jsx)(I,{children:Object(v.jsx)(k,{children:Object(v.jsx)(_,{children:Object(v.jsx)(w,{ref:U,type:"text",defaultValue:b,placeholder:"Nombre"})})})}),"admin"===K?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(z,{children:[Object(v.jsx)(w,{ref:ne,onChange:re,name:"foto",id:"foto",type:"file",accept:"image/png, image/jpeg"}),Object(v.jsxs)(_,{id:"fotolabel",htmlFor:"foto",children:[Object(v.jsx)(c.a,{}),Object(v.jsx)(C,{children:"Subir Foto"}),Object(v.jsx)(R,{ref:J,src:null===W?B:W})]})]}),Object(v.jsx)(E,{children:Object(v.jsx)(_,{children:Object(v.jsx)(w,{ref:Q,type:"password",placeholder:"Contrase\xf1a"})})}),Object(v.jsx)(q,{children:Object(v.jsx)(_,{children:Object(v.jsx)(w,{ref:$,type:"password",placeholder:"Repite Contrase\xf1a"})})})]}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("input",{ref:Q,type:"hidden"}),Object(v.jsx)("input",{ref:$,type:"hidden"}),Object(v.jsx)("input",{ref:ne,type:"hidden"})]}),Object(v.jsx)(D,{children:ee?Object(v.jsx)(O,{children:ee}):null}),Object(v.jsx)(F,{children:Object(v.jsx)(H,{onClick:function(e){e.preventDefault(),Q.current.value===$.current.value?ie({id:A,nombre:U.current.value,base64:W,password:Q.current.value}):te("Las contrase\xf1as deben ser iguales")},_css:[{"--tw-bg-opacity":"1",backgroundColor:"rgba(37, 99, 235, var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgba(243, 244, 246, var(--tw-text-opacity))","@media (min-width: 768px)":{borderRadius:"0.375rem",fontSize:"0.7rem",padding:"0.25rem"},"@media (min-width: 1024px)":{borderRadius:"0.5rem",fontSize:"0.8rem"},"@media (min-width: 1280px)":{borderRadius:"0.75rem",fontSize:"0.9rem",padding:"0.5rem"},"@media (min-width: 1536px)":{borderRadius:"1rem",fontSize:"1rem"}},"@media (min-width: 2560px) { line-height: 1rem !important; font-size: 1rem !important; padding: 0.5rem !important; }"],children:"Guardar"})})]})})})}}}]);