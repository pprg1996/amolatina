(this.webpackJsonpivan=this.webpackJsonpivan||[]).push([[8],{114:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a,i=n(0),r=["title","titleId"];function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function c(e,t){var n=e.title,c=e.titleId,l=d(e,r);return i.createElement("svg",o({xmlns:"http://www.w3.org/2000/svg",width:"180.62mm",height:"180.62mm",viewBox:"0 0 512 512",ref:t,"aria-labelledby":c},l),n?i.createElement("title",{id:c},n):null,a||(a=i.createElement("path",{d:"M286,256.13,505.49,36.66A21.32,21.32,0,1,0,475.87,6c-.18.17-.36.34-.53.52L255.87,226,36.39,6.51A21.32,21.32,0,0,0,6.24,36.66L225.72,256.13,6.24,475.61a21.32,21.32,0,0,0,30.15,30.15L255.87,286.28,475.34,505.76a21.32,21.32,0,0,0,30.15-30.15Z",transform:"translate(0 0)"})))}var l=i.forwardRef(c);n.p},128:function(e,t,n){"use strict";var a=n(5),i=n(1),r=Object(a.c)(["input:checked ~ .radio{","}"],{"--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))","--tw-bg-opacity":"1",backgroundColor:"rgba(51, 70, 255, var(--tw-bg-opacity))"}),o=Object(a.d)("form").withConfig({displayName:"ToggleBtn___StyledForm",componentId:"sc-7usaca-0"})(["",""],(function(e){return e._css2})),d=Object(a.d)("div").withConfig({displayName:"ToggleBtn___StyledDiv",componentId:"sc-7usaca-1"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(229, 231, 235, var(--tw-bg-opacity))",borderRadius:"1rem"}),c=Object(a.d)("div").withConfig({displayName:"ToggleBtn___StyledDiv2",componentId:"sc-7usaca-2"})({display:"inline-flex",borderRadius:"1rem"}),l=Object(a.d)("label").withConfig({displayName:"ToggleBtn___StyledLabel",componentId:"sc-7usaca-3"})({textAlign:"center",alignSelf:"center",paddingTop:"0.25rem",paddingBottom:"0.25rem",paddingLeft:"1rem",paddingRight:"1rem",borderRadius:"1rem",cursor:"pointer",":hover":{opacity:"0.75"}}),s=Object(a.d)("div").withConfig({displayName:"ToggleBtn___StyledDiv3",componentId:"sc-7usaca-4"})({display:"inline-flex",borderRadius:"1rem"}),u=Object(a.d)("label").withConfig({displayName:"ToggleBtn___StyledLabel2",componentId:"sc-7usaca-5"})({textAlign:"center",alignSelf:"center",paddingTop:"0.25rem",paddingBottom:"0.25rem",paddingLeft:"1rem",paddingRight:"1rem",borderRadius:"1rem",cursor:"pointer",":hover":{opacity:"0.75"}});t.a=function(e){var t=e.text1,n=e.text2,a=(e.isSecondSelectedByDefault,e.id),p=void 0===a?"":a,b=e.className,m=e.value,f=e.setValue;return Object(i.jsx)(o,{className:b,onChange:function(e){return f(e.target.value)},_css2:[r,{display:"flex",justifyContent:"center",alignItems:"center","--tw-text-opacity":"1",color:"rgba(55, 65, 81, var(--tw-text-opacity))",fontSize:"0.875rem",lineHeight:"1.25rem"}],children:Object(i.jsxs)(d,{children:[Object(i.jsxs)(c,{children:[Object(i.jsx)("input",{type:"radio",name:"room_type",id:p+t,checked:m===t.toLowerCase(),value:t.toLowerCase(),hidden:!0}),Object(i.jsx)(l,{htmlFor:p+t,className:"radio",children:t})]}),Object(i.jsxs)(s,{children:[Object(i.jsx)("input",{type:"radio",name:"room_type",id:p+n,checked:m===n.toLowerCase(),value:n.toLowerCase(),hidden:!0}),Object(i.jsx)(u,{htmlFor:p+n,className:"radio",children:n})]})]})})}},133:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a,i=n(0),r=["title","titleId"];function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function c(e,t){var n=e.title,c=e.titleId,l=d(e,r);return i.createElement("svg",o({enableBackground:"new 0 0 58 58",height:512,viewBox:"0 0 58 58",width:512,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":c},l),n?i.createElement("title",{id:c},n):null,a||(a=i.createElement("path",{d:"m29 0c-16.016 0-29 12.984-29 29s12.984 29 29 29 29-12.984 29-29-12.984-29-29-29zm-24 29c0-13.233 10.767-24 24-24 5.846 0 11.208 2.103 15.375 5.589l-33.786 33.786c-3.486-4.167-5.589-9.53-5.589-15.375zm24 24c-5.59 0-10.736-1.927-14.82-5.144l33.676-33.677c3.217 4.085 5.144 9.231 5.144 14.821 0 13.233-10.767 24-24 24z",fill:"#dd352e"})))}var l=i.forwardRef(c);n.p},157:function(e,t,n){"use strict";n.d(t,"b",(function(){return u}));var a=n(9),i=n(19),r=n(5),o=n(1),d=n(6).ActionIcon,c=Object(r.d)(d).withConfig({displayName:"ColoredCheckbox___StyledActionIcon",componentId:"sc-2a66eg-0"})({width:"auto",height:"1.75rem"}),l=Object(r.d)("label").withConfig({displayName:"ColoredCheckbox___StyledLabel",componentId:"sc-2a66eg-1"})({borderRadius:"1rem",padding:"0.75rem",borderWidth:"1px",flexShrink:"0",display:"flex",alignItems:"center",gap:"0.5rem",flexDirection:"column"}),s=Object(r.d)("div").withConfig({displayName:"ColoredCheckbox___StyledDiv",componentId:"sc-2a66eg-2"})({display:"flex",alignItems:"center",gap:"0.75rem"}),u=function(e,t){var n,r=!0,o=Object(i.a)(Object.entries(e).filter((function(e){var n=Object(a.a)(e,1)[0];return n.startsWith("show")&&n!=="show"+t.replace(/ /g,"")})));try{for(o.s();!(n=o.n()).done;){Object(a.a)(n.value,2)[1]&&(r=!1)}}catch(j){o.e(j)}finally{o.f()}if(e["show"+t.replace(/ /g,"")]&&r){var d,c=Object(i.a)(Object.entries(e).filter((function(e){return Object(a.a)(e,1)[0].startsWith("set")})));try{for(c.s();!(d=c.n()).done;){var l=Object(a.a)(d.value,2),s=l[0],u=l[1];"setShowClientes"!==s&&u(!0)}}catch(j){c.e(j)}finally{c.f()}}else for(var p=0,b=Object.entries(e);p<b.length;p++){var m=Object(a.a)(b[p],2),f=m[0],g=m[1];"function"===typeof g&&(f==="setShow"+t.replace(/ /g,"")?g(!0):g(!1))}};t.a=function(e){var t=e.text,n=e.checked,a=e.setChecked,i=e.color,r=e.service,d=e.filter,p=e.total;return Object(o.jsxs)(l,{style:{borderColor:i},title:t,onDoubleClick:function(){return u(d,t)},children:[Object(o.jsxs)(s,{children:[Object(o.jsx)(c,{type:r}),Object(o.jsx)("input",{type:"checkbox",checked:n,onChange:function(e){return a(e.target.checked)}})]}),Object(o.jsx)("span",{children:p})]})}},160:function(e,t,n){"use strict";n.r(t);var a,i,r=n(4),o=n(19),d=n(9),c=n(2),l=n.n(c),s=n(8),u=n(5),p=n(90),b=n(12),m=n.n(b),f=n(41),g=n(0),j=["title","titleId"];function y(){return(y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function h(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function v(e,t){var n=e.title,r=e.titleId,o=h(e,j);return g.createElement("svg",y({className:"menu-button",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 215.6 512",xmlSpace:"preserve",ref:t,"aria-labelledby":r},o),n?g.createElement("title",{id:r},n):null,a||(a=g.createElement("g",null,g.createElement("g",null,g.createElement("g",null,g.createElement("circle",{className:"st98",cx:107.8,cy:256,r:47.2}),g.createElement("circle",{className:"st98",cx:107.8,cy:397.5,r:47.2}),g.createElement("circle",{className:"st98",cx:107.8,cy:114.5,r:47.2}))))),i||(i=g.createElement("g",null,g.createElement("path",{className:"st98",d:"M107.8,26.9c44.5,0,80.8,36.4,80.8,80.8v296.4c0,44.5-36.4,80.8-80.8,80.8S27,448.5,27,404.1V107.8 C27,63.3,63.3,26.9,107.8,26.9 M107.8,0L107.8,0C48.5,0,0,48.5,0,107.8v296.4C0,463.5,48.5,512,107.8,512l0,0 c59.3,0,107.8-48.5,107.8-107.8V107.8C215.6,48.5,167.1,0,107.8,0L107.8,0z"}))))}var O,x,w,_,I,C,S,D,E=g.forwardRef(v),k=(n.p,["title","titleId"]);function N(){return(N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function M(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function P(e,t){var n=e.title,a=e.titleId,i=M(e,k);return g.createElement("svg",N({xmlns:"http://www.w3.org/2000/svg",width:"199.67mm",height:"221.94mm",viewBox:"0 0 566 629.11",ref:t,"aria-labelledby":a},i),n?g.createElement("title",{id:a},n):null,O||(O=g.createElement("path",{d:"M256,117.11c-141.38,0-256,114.62-256,256s114.62,256,256,256,256-114.62,256-256S397.38,117.11,256,117.11Zm-211.86,256c0-116.82,95-211.86,211.86-211.86a210.8,210.8,0,0,1,135.72,49.34L93.48,508.83A210.82,210.82,0,0,1,44.14,373.11ZM256,585a210.72,210.72,0,0,1-130.82-45.41L422.45,242.28a210.77,210.77,0,0,1,45.41,130.83C467.86,489.93,372.82,585,256,585Z",fill:"#dd352e"})),x||(x=g.createElement("rect",{x:266.32,y:69.03,width:275.05,height:22.42,fill:"#ccc"})),w||(w=g.createElement("rect",{x:371.66,y:23.27,width:64.46,height:22.49,fill:"#ccc"})),_||(_=g.createElement("rect",{x:293.86,y:114.64,width:224.09,height:259.22,fill:"#ccc"})),I||(I=g.createElement("path",{d:"M404,361.45a11.61,11.61,0,0,0,11.63-11.63V140.08a11.64,11.64,0,0,0-23.27,0V349.82A11.62,11.62,0,0,0,404,361.45Z",fill:"#757575"})),C||(C=g.createElement("path",{d:"M335.2,350.44a11.65,11.65,0,0,0,11.63,11h.62a11.64,11.64,0,0,0,11-12.25L347,139.46a11.65,11.65,0,0,0-23.27,1.24Z",fill:"#757575"})),S||(S=g.createElement("path",{d:"M460.78,361.45h.62a11.65,11.65,0,0,0,11.63-11L484,140.7a11.65,11.65,0,0,0-23.27-1.24L449.76,349.2A11.68,11.68,0,0,0,460.78,361.45Z",fill:"#757575"})),D||(D=g.createElement("path",{d:"M565,88.73l-8.76-26.29A24.46,24.46,0,0,0,533,45.76H459.3v-24A21.73,21.73,0,0,0,437.59,0H370.1a21.73,21.73,0,0,0-21.71,21.72v24H274.7a24.42,24.42,0,0,0-23.19,16.76l-8.77,26.29a19.68,19.68,0,0,0,18.7,25.91h9.15l20.16,249.45a36.09,36.09,0,0,0,35.76,33H485.44a36.08,36.08,0,0,0,35.76-33l20.17-249.45h5a19.83,19.83,0,0,0,16-8.15A20.48,20.48,0,0,0,565,88.73ZM371.66,23.27h64.45V45.76H371.66Zm126.27,339a12.71,12.71,0,0,1-12.56,11.63H326.43a12.71,12.71,0,0,1-12.56-11.63l-20-247.59H517.94ZM266.32,91.37l7.22-21.56A1.24,1.24,0,0,1,274.7,69H533.07a1.16,1.16,0,0,1,1.16.85l7.21,21.56Z",fill:"#757575"})))}var R=g.forwardRef(P),T=(n.p,n(114)),A=n(133),z=n(50),F=n(10),B=n(6),L=n(1),q=u.d.span.withConfig({displayName:"OperadorMenu__ConfirmarEliminacionTxt",componentId:"sc-1glmq6j-0"})(["& > span{","}"],{fontSize:"1rem"}),H=Object(u.d)(q).withConfig({displayName:"OperadorMenu___StyledConfirmarEliminacionTxt",componentId:"sc-1glmq6j-1"})(["",""],(function(e){return e._css})),V=Object(u.d)("div").withConfig({displayName:"OperadorMenu___StyledDiv",componentId:"sc-1glmq6j-2"})({padding:"27px 9px","--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))"}),W=Object(u.d)("div").withConfig({displayName:"OperadorMenu___StyledDiv2",componentId:"sc-1glmq6j-3"})({display:"flex",justifyContent:"center",marginTop:"40px"}),Z=Object(u.d)(z.a).withConfig({displayName:"OperadorMenu___StyledButton",componentId:"sc-1glmq6j-4"})({width:"64px",height:"32px",margin:"0 12px"}),J=Object(u.d)(z.a).withConfig({displayName:"OperadorMenu___StyledButton2",componentId:"sc-1glmq6j-5"})({width:"64px",height:"32px",margin:"0 12px"}),Q=function(e){var t=e.operadorAEliminar,n=e.id,a=e.setShowMenu,i=e.setManipulandoOperador,r=function(){var e=Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i(!0),a(!1),"qaz"!==prompt()){e.next=5;break}return e.next=5,Object(B.customFetch)("/operators/delete?id=".concat(n));case 5:setTimeout((function(){F.b.invalidateQueries("operadores")}),2e3),i(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(L.jsxs)(V,{children:[Object(L.jsxs)(H,{_css:[{fontFamily:"`Montserrat`, sans-serif",fontSize:"0.75rem","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",letterSpacing:"0.1em",display:"block",textAlign:"center"}],children:["Eliminar a",Object(L.jsx)("br",{}),Object(L.jsx)("span",{children:t})]}),Object(L.jsxs)(W,{children:[Object(L.jsx)(Z,{onClick:r,primario:!0,children:"Si"}),Object(L.jsx)(J,{onClick:function(){return a(!1)},cancel:!0,children:"No"})]})]})},G=u.d.button.withConfig({displayName:"OperadorMenu__MenuOptionButton",componentId:"sc-1glmq6j-6"})(["outline:none;"]),K=Object(u.d)(G).withConfig({displayName:"OperadorMenu___StyledMenuOptionButton2",componentId:"sc-1glmq6j-7"})({":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgba(27, 27, 33, var(--tw-bg-opacity))"},transitionDuration:"200ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionProperty:"background-color",fontFamily:"`Montserrat`,sans-serif",width:"100%",display:"flex",alignItems:"center",padding:"16px",borderStyle:"none","--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",cursor:"pointer",letterSpacing:"normal"}),U=Object(u.d)(G).withConfig({displayName:"OperadorMenu___StyledMenuOptionButton",componentId:"sc-1glmq6j-8"})({":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgba(27, 27, 33, var(--tw-bg-opacity))"},transitionDuration:"200ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionProperty:"background-color",fontFamily:"`Montserrat`,sans-serif",width:"100%",display:"flex",alignItems:"center",padding:"16px",borderStyle:"none","--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",cursor:"pointer",letterSpacing:"normal"}),Y=u.d.button.withConfig({displayName:"OperadorMenu__MenuOptionButtonEliOp",componentId:"sc-1glmq6j-9"})(["outline:none;& svg *{"," transition:fill 0.2s ease-in-out;}&:hover svg *{","}"],{fill:"#FFFFFF"},{fill:"#ff3333"}),X=Object(u.d)(Y).withConfig({displayName:"OperadorMenu___StyledMenuOptionButtonEliOp",componentId:"sc-1glmq6j-10"})({":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgba(255, 51, 51, var(--tw-text-opacity))"},width:"100%",display:"flex",alignItems:"center",padding:"16px","--tw-bg-opacity":"1",backgroundColor:"rgba(255, 51, 51, var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",cursor:"pointer",letterSpacing:"normal",borderStyle:"solid",borderWidth:"2px",borderColor:"#ff3333",fontFamily:"`Montserrat`,sans-serif",transitionProperty:"background-color",transitionDuration:"200ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"}),$=u.d.div.withConfig({displayName:"OperadorMenu__OptionIcon",componentId:"sc-1glmq6j-11"})(["& > svg{","}"],{width:"100%",height:"auto"}),ee=Object(u.d)($).withConfig({displayName:"OperadorMenu___StyledOptionIcon3",componentId:"sc-1glmq6j-12"})({width:"24px",marginRight:"16px"}),te=Object(u.d)($).withConfig({displayName:"OperadorMenu___StyledOptionIcon2",componentId:"sc-1glmq6j-13"})({width:"24px",marginRight:"16px"}),ne=Object(u.d)($).withConfig({displayName:"OperadorMenu___StyledOptionIcon",componentId:"sc-1glmq6j-14"})({width:"24px",marginRight:"16px"}),ae=Object(u.d)("div").withConfig({displayName:"OperadorMenu___StyledDiv3",componentId:"sc-1glmq6j-15"})({position:"absolute",right:"32px",top:"12px",zIndex:"10",borderRadius:"2px",overflow:"hidden","--tw-bg-opacity":"1",backgroundColor:"rgba(27, 27, 33, var(--tw-bg-opacity))"}),ie=Object(u.d)("div").withConfig({displayName:"OperadorMenu___StyledDiv4",componentId:"sc-1glmq6j-16"})(["",""],(function(e){return e._css2})),re=function(e){var t=e.operadorAEliminar,n=e.setShowMenu,a=e.id,i=e.setManipulandoOperador,r=Object(g.useState)(!1),o=Object(d.a)(r,2),c=o[0],u=o[1],p=Object(g.useRef)(),b=Object(g.useCallback)((function(){return n(!1)}),[n]);function m(){return(m=Object(s.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),n(!1),e.next=4,Object(B.customFetch)("/operators/add-fine?id=".concat(a));case 4:setTimeout((function(){F.b.invalidateQueries("operadores")}),2e3),i(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){return(f=Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),n(!1),e.next=4,Object(B.customFetch)("/operators/remove-fine?id=".concat(a));case 4:setTimeout((function(){F.b.invalidateQueries("operadores")}),2e3),i(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(B.useClickOutside)(p,b),Object(L.jsxs)(ae,{ref:p,children:[Object(L.jsxs)(ie,{_css2:[{position:"relative"},{display:c?"none":"initial"}],children:[Object(L.jsxs)(U,{onClick:function(e){return m.apply(this,arguments)},children:[Object(L.jsx)(ne,{children:Object(L.jsx)(A.a,{})}),"Multar Operador"]}),Object(L.jsxs)(K,{onClick:function(){return f.apply(this,arguments)},children:[Object(L.jsx)(te,{children:Object(L.jsx)(R,{})}),"Eliminar Multa"]}),Object(L.jsxs)(X,{onClick:function(){return u(!0)},children:[Object(L.jsx)(ee,{children:Object(L.jsx)(T.a,{})}),"Eliminar Operador"]})]}),c?Object(L.jsx)(Q,{setShowMenu:n,id:a,operadorAEliminar:t,setManipulandoOperador:i}):null]})},oe=n(99),de=function(){var e=Object(s.a)(l.a.mark((function e(t,n,a,i,r,o){var c,s,u,p,b,m,f;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c="operador"===n?"operatorId=".concat(a):"perfil"===n?"profileId=".concat(a):"clientId=".concat(a),"diaymes"!==i){e.next=14;break}return s=new Date,(u=new Date).setUTCDate(1),e.next=7,Promise.all([Object(B.customFetch)("/feeds/relational-progress?".concat(c,"&from=").concat(s.toISOString().slice(0,-14))),Object(B.customFetch)("/feeds/relational-progress?".concat(c,"&from=").concat(u.toISOString().slice(0,-14)))]);case 7:return p=e.sent,b=Object(d.a)(p,2),m=b[0],f=b[1],e.abrupt("return",Object(B.renombrarPropiedadesAnidadas)({dia:m,mes:f}));case 14:return e.t0=B.renombrarPropiedadesAnidadas,e.next=17,Object(B.customFetch)("/feeds/relational-progress?".concat(c,"&from=").concat(r,"&to=").concat(o));case 17:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 19:case"end":return e.stop()}}),e)})));return function(t,n,a,i,r,o){return e.apply(this,arguments)}}(),ce=Object(u.d)("div").withConfig({displayName:"EntidadInfo___StyledDiv",componentId:"sc-1e8fiid-0"})({display:"flex",flexDirection:"column",alignItems:"center",gap:"1rem",position:"relative"}),le=Object(u.d)("div").withConfig({displayName:"EntidadInfo___StyledDiv2",componentId:"sc-1e8fiid-1"})({display:"flex",flexDirection:"column",gap:"1rem",justifyContent:"center",alignItems:"center"}),se=Object(u.d)("div").withConfig({displayName:"EntidadInfo___StyledDiv3",componentId:"sc-1e8fiid-2"})({display:"flex",gap:"1rem"}),ue=Object(u.d)("label").withConfig({displayName:"EntidadInfo___StyledLabel",componentId:"sc-1e8fiid-3"})({display:"flex",alignItems:"center",gap:"0.5rem"}),pe=Object(u.d)("label").withConfig({displayName:"EntidadInfo___StyledLabel2",componentId:"sc-1e8fiid-4"})({display:"flex",alignItems:"center",gap:"0.5rem"}),be=Object(u.d)("div").withConfig({displayName:"EntidadInfo___StyledDiv4",componentId:"sc-1e8fiid-5"})({display:"flex",justifyContent:"space-between",alignItems:"center"}),me=Object(u.d)("label").withConfig({displayName:"EntidadInfo___StyledLabel3",componentId:"sc-1e8fiid-6"})({marginRight:"0.5rem"}),fe=Object(u.d)("input").withConfig({displayName:"EntidadInfo___StyledInput",componentId:"sc-1e8fiid-7"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",width:"13rem",borderRadius:"1rem",padding:"0.25rem"}),ge=Object(u.d)("div").withConfig({displayName:"EntidadInfo___StyledDiv5",componentId:"sc-1e8fiid-8"})({display:"flex",justifyContent:"space-between",alignItems:"center"}),je=Object(u.d)("label").withConfig({displayName:"EntidadInfo___StyledLabel4",componentId:"sc-1e8fiid-9"})({marginRight:"0.5rem"}),ye=Object(u.d)("input").withConfig({displayName:"EntidadInfo___StyledInput2",componentId:"sc-1e8fiid-10"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",width:"13rem",borderRadius:"1rem",padding:"0.25rem"}),he=Object(u.d)("button").withConfig({displayName:"EntidadInfo___StyledButton",componentId:"sc-1e8fiid-11"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(51, 70, 255, var(--tw-bg-opacity))",borderRadius:"1rem",fontSize:"0.75rem",lineHeight:"1rem",paddingTop:"0.25rem",paddingBottom:"0.25rem",alignSelf:"stretch"}),ve=Object(u.d)("button").withConfig({displayName:"EntidadInfo___StyledButton2",componentId:"sc-1e8fiid-12"})({width:"1rem",height:"2.25rem",position:"absolute",right:"-1.75rem",top:"0.5rem"}),Oe=Object(u.d)(E).withConfig({displayName:"EntidadInfo___StyledMenuButtonSvg",componentId:"sc-1e8fiid-13"})({transitionProperty:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"150ms",fill:"currentColor",color:"#4c4c3f",".group:hover &":{color:"#3346ff"}}),xe=function(e){var t,n,a,i=e.nombre,o=e.role,c=e.id,l=(e.foto,e.tipoEntidad),s=e.tiempo,u=e.setTiempo,p=e.desde,b=e.setDesde,m=e.hasta,j=e.setHasta,y=e.setSubEntidadesRelacionadasId,h=(e.amolatinaId,Object(g.useState)(!1)),v=Object(d.a)(h,2),O=v[0],x=v[1],w=Object(g.useState)(!1),_=Object(d.a)(w,2),I=_[0],C=_[1],S=Object(F.d)(["progress",l,c,s,"rango"===s?p:null,"rango"===s?m:null],de).data,D=(null!==(t=null===(n=F.b.getQueries(["cliente"===l?"clientes":l+"es"]))||void 0===n||null===(a=n[0])||void 0===a?void 0:a.state)&&void 0!==t?t:{}).data,E="operador"===l||"perfil"===l?D:null===D||void 0===D?void 0:D.data,k=function(e){u(e.target.value),y(null)},N=null===E||void 0===E?void 0:E.find((function(e){return e.id===c})),M="diaymes"===s?null===S||void 0===S?void 0:S.dia.summary:null===S||void 0===S?void 0:S.summary,P="diaymes"===s?null===S||void 0===S?void 0:S.mes.summary:null,R=null===N||void 0===N?void 0:N.metaDia,T=null===N||void 0===N?void 0:N.metaMes,A="diaymes"===s?null===S||void 0===S?void 0:S.dia.puntos:null===S||void 0===S?void 0:S.puntos,z="diaymes"===s?null===S||void 0===S?void 0:S.mes.puntos:null;return Object(L.jsxs)(ce,{children:[Object(L.jsx)(oe.a,Object(r.a)({},Object(r.a)(Object(r.a)({},N),{},{summary1:M,summary2:P,meta1:R,meta2:T,puntos1:A,puntos2:z}))),Object(L.jsxs)(le,{children:[Object(L.jsxs)(se,{children:[Object(L.jsxs)(ue,{children:["Dia y mes"," ",Object(L.jsx)("input",{name:"tiempo",type:"radio",value:"diaymes",checked:"diaymes"===s,onChange:k})]}),Object(L.jsxs)(pe,{children:["Rango"," ",Object(L.jsx)("input",{name:"tiempo",type:"radio",value:"rango",checked:"rango"===s,onChange:k})]})]}),"rango"===s?Object(L.jsxs)(L.Fragment,{children:[Object(L.jsxs)(be,{children:[Object(L.jsx)(me,{children:"Desde:"}),Object(L.jsx)(fe,{id:"desde-fecha",type:"datetime-local",defaultValue:p})]}),Object(L.jsxs)(ge,{children:[Object(L.jsx)(je,{children:"Hasta:"}),Object(L.jsx)(ye,{id:"hasta-fecha",type:"datetime-local",defaultValue:m})]}),Object(L.jsx)(he,{onClick:function(){b(document.getElementById("desde-fecha").value),j(document.getElementById("hasta-fecha").value),y(null)},children:"Calcular"})]}):null]}),"admin"!==o&&"supervisor"!==o||"operador"!==l?null:Object(L.jsx)(ve,{className:"group",onClick:function(){return x(!0)},children:I?Object(L.jsx)(f.a,{}):Object(L.jsx)(Oe,{})}),O?Object(L.jsx)(re,{id:c,setShowMenu:x,operadorAEliminar:"".concat(i),setManipulandoOperador:C}):null]})},we=Object(u.d)("div").withConfig({displayName:"ControlesDeSupervisor___StyledDiv",componentId:"sc-57gb5z-0"})({display:"flex",alignItems:"center",flexDirection:"column",gap:"0.75rem"}),_e=Object(u.d)("select").withConfig({displayName:"ControlesDeSupervisor___StyledSelect",componentId:"sc-57gb5z-1"})({"--tw-text-opacity":"1",color:"rgba(55, 65, 81, var(--tw-text-opacity))",borderRadius:"1rem",padding:"0.25rem"}),Ie=Object(u.d)(z.a).withConfig({displayName:"ControlesDeSupervisor___StyledButton",componentId:"sc-57gb5z-2"})({paddingLeft:"0.5rem",paddingRight:"0.5rem",width:"auto",margin:"0px",borderRadius:"1rem"}),Ce=function(e){var t=e.supervisorId,n=e.id,a=e.setShowModal,i=Object(F.d)("supervisores",B.fetchSupervisores).data,r=Object(g.useState)(!1),o=Object(d.a)(r,2),c=o[0],u=o[1],p=m.a.get("role"),b=function(){var e=Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("qaz"===prompt()){e.next=2;break}return e.abrupt("return");case 2:return u(!0),e.next=5,Object(B.customFetch)("/operators/make-supervisor",{method:"POST",body:JSON.stringify({id:n}),headers:{"content-type":"application/json"}});case 5:F.b.invalidateQueries("operadores"),F.b.invalidateQueries("supervisores"),u(!1),a(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(s.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="sin-supervisor"!==t.target.value?Number(t.target.value):null,e.next=3,Object(B.customFetch)("/supervisors/assign-operator",{method:"POST",body:JSON.stringify({supervisorId:a,operatorId:n}),headers:{"content-type":"application/json"}});case 3:F.b.invalidateQueries("operadores"),F.b.invalidateQueries("supervisores");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(L.jsxs)(we,{children:["admin"!==p&&"supervisor"!==p||!i||(null===i||void 0===i?void 0:i.find((function(e){return e.id===n})))?null:Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)("label",{htmlFor:"select-supervisor",children:"Supervisor"}),Object(L.jsxs)(_e,{id:"select-supervisor",defaultValue:null!==t&&void 0!==t?t:"sin-supervisor",onChange:j,children:[Object(L.jsx)("option",{value:"sin-supervisor",children:"Sin supervisor"}),null===i||void 0===i?void 0:i.filter((function(e){return!i.some((function(t){return t.substitute===e.id}))})).map((function(e){return Object(L.jsx)("option",{value:e.id,children:e.nombre},e.id)}))]})]}),c?Object(L.jsx)(f.a,{}):"admin"===p&&i&&!(null===i||void 0===i?void 0:i.find((function(e){return e.id===n})))?Object(L.jsx)(Ie,{primario:!0,onClick:b,children:"Hacer supervisor"}):null]})},Se=n(128),De=n(78),Ee=Object(u.d)("div").withConfig({displayName:"EntidadesRelacionadasDiaMes___StyledDiv",componentId:"sc-1h3kbgw-0"})({display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem"}),ke=Object(u.d)("button").withConfig({displayName:"EntidadesRelacionadasDiaMes___StyledButton",componentId:"sc-1h3kbgw-1"})(["",""],(function(e){return e._css})),Ne=Object(u.d)("div").withConfig({displayName:"EntidadesRelacionadasDiaMes___StyledDiv2",componentId:"sc-1h3kbgw-2"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(31, 41, 55, var(--tw-bg-opacity))",padding:"0.5rem",borderRadius:"1rem"}),Me=Object(u.d)("div").withConfig({displayName:"EntidadesRelacionadasDiaMes___StyledDiv3",componentId:"sc-1h3kbgw-3"})({display:"flex",gap:"1rem",marginLeft:"0.5rem"}),Pe=Object(u.d)("label").withConfig({displayName:"EntidadesRelacionadasDiaMes___StyledLabel",componentId:"sc-1h3kbgw-4"})({"--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))"}),Re=Object(u.d)("label").withConfig({displayName:"EntidadesRelacionadasDiaMes___StyledLabel2",componentId:"sc-1h3kbgw-5"})({"--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))"}),Te=Object(u.d)("div").withConfig({displayName:"EntidadesRelacionadasDiaMes___StyledDiv4",componentId:"sc-1h3kbgw-6"})(["",""],(function(e){return e._css2})),Ae=Object(u.d)("button").withConfig({displayName:"EntidadesRelacionadasDiaMes___StyledButton2",componentId:"sc-1h3kbgw-7"})({display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem"}),ze=function(e){var t,n,a=e.entidades,i=e.subEntidades,o=e.entidadSeleccionada,c=e.orden,l=e.subEntidadesRelacionadasId,s=e.setSubEntidadesRelacionadasId,u=e.setSubEntidadesRelacionadasId2,p=e.tipoEntidad,b=e.id,m=Object(g.useState)("dia"),f=Object(d.a)(m,2),j=f[0],y=f[1],h="operadores"===o?"operador":"perfiles"===o?"perfil":"cliente",v={operador:1,perfil:2,cliente:3},O=v[p]+v[h],x=5===O?"operador":4===O?"perfil":"cliente",w="cliente"===x?"clientes":x+"es",_=Object(F.d)(["perfiles"],B.fetchPerfiles).data;return null!==(t=null===a||void 0===a||null===(n=a[o])||void 0===n?void 0:n.sort((function(e,t){var n=0;return"operador"===p&&"perfiles"===o&&(n=(e.perfil.operadoresAsignadosIds.includes(b)?-1:0)-(t.perfil.operadoresAsignadosIds.includes(b)?-1:0)),"dia"===c?n||t.relationalProgressDay.puntos-e.relationalProgressDay.puntos:n||t.relationalProgress.puntos-e.relationalProgress.puntos})).map((function(e){var t,n,a,d,c,m;return Object(L.jsxs)(Ee,{children:[Object(L.jsx)(ke,{onClick:function(){var t;s(null===(t=e[h])||void 0===t?void 0:t.id),u(null)},_css:[{display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem",padding:"0.5rem",borderRadius:"1rem"},"operador"===p&&"perfiles"===o&&e.perfil.operadoresAsignadosIds.includes(b)?{"--tw-bg-opacity":"0.2",backgroundColor:"rgba(255, 255, 255, var(--tw-bg-opacity))"}:null],children:Object(L.jsx)(oe.a,Object(r.a)(Object(r.a)({},Object(r.a)(Object(r.a)({},null===e||void 0===e?void 0:e[h]),{},{tipoEntidad:h,operador:"perfil"===h?null===_||void 0===_||null===(n=_.find((function(t){var n;return t.id===(null===e||void 0===e||null===(n=e[h])||void 0===n?void 0:n.id)})))||void 0===n?void 0:n.operador:null,operadorDePausa:"perfil"===h?null===_||void 0===_||null===(a=_.find((function(t){var n;return t.id===(null===e||void 0===e||null===(n=e[h])||void 0===n?void 0:n.id)})))||void 0===a?void 0:a.operadorDePausa:null,summary1:e.relationalProgressDay.summary,summary2:e.relationalProgress.summary,meta1:null===e||void 0===e||null===(d=e[h])||void 0===d?void 0:d.metaDia,meta2:null===e||void 0===e||null===(c=e[h])||void 0===c?void 0:c.metaMes})),{},{puntos1:e.relationalProgressDay.puntos,puntos2:e.relationalProgress.puntos}))}),l===(null===(m=e[h])||void 0===m?void 0:m.id)?Object(L.jsxs)(Ne,{children:[Object(L.jsxs)(Me,{children:[Object(L.jsxs)(Pe,{children:["Dia"," ",Object(L.jsx)("input",{name:"sub-orden-relacional-input",type:"radio",onChange:function(e){return y(e.target.value)},value:"dia",checked:"dia"===j})]}),Object(L.jsxs)(Re,{children:["Mes"," ",Object(L.jsx)("input",{name:"sub-orden-relacional-input",type:"radio",onChange:function(e){return y(e.target.value)},value:"mes",checked:"mes"===j})]})]}),Object(L.jsx)(Te,{_css2:[{maxHeight:"70vh",padding:"0.5rem",display:"flex",flexDirection:"column",gap:"0.5rem"},De.b],children:null===i||void 0===i?void 0:i[w].sort((function(e,t){return"dia"===j?t.relationalProgressDay.puntos-e.relationalProgressDay.puntos:t.relationalProgress.puntos-e.relationalProgress.puntos})).map((function(e){var t,n,a;return Object(L.jsx)(Ae,{onClick:function(){var t;return u(null===(t=e[x])||void 0===t?void 0:t.id)},children:Object(L.jsx)(oe.a,Object(r.a)(Object(r.a)({},Object(r.a)(Object(r.a)({},null===e||void 0===e?void 0:e[x]),{},{tipoEntidad:x,operador:"perfil"===x?null===_||void 0===_||null===(n=_.find((function(t){var n;return t.id===(null===e||void 0===e||null===(n=e[x])||void 0===n?void 0:n.id)})))||void 0===n?void 0:n.operador:null,operadorDePausa:"perfil"===x?null===_||void 0===_||null===(a=_.find((function(t){var n;return t.id===(null===e||void 0===e||null===(n=e[x])||void 0===n?void 0:n.id)})))||void 0===a?void 0:a.operadorDePausa:null,summary1:e.relationalProgressDay.summary,summary2:e.relationalProgress.summary,meta1:null===e||void 0===e?void 0:e[x].metaDia,meta2:null===e||void 0===e?void 0:e[x].metaMes})),{},{puntos1:e.relationalProgressDay.puntos,puntos2:e.relationalProgress.puntos}))},null===(t=e[x])||void 0===t?void 0:t.id)}))})]}):null]},null===(t=e[h])||void 0===t?void 0:t.id)})))&&void 0!==t?t:null},Fe=Object(u.d)("div").withConfig({displayName:"EntidadesRelacionadasGeneral___StyledDiv",componentId:"sc-1uly02a-0"})({display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem"}),Be=Object(u.d)("button").withConfig({displayName:"EntidadesRelacionadasGeneral___StyledButton",componentId:"sc-1uly02a-1"})(["",""],(function(e){return e._css})),Le=Object(u.d)("div").withConfig({displayName:"EntidadesRelacionadasGeneral___StyledDiv2",componentId:"sc-1uly02a-2"})(["",""],(function(e){return e._css2})),qe=Object(u.d)("button").withConfig({displayName:"EntidadesRelacionadasGeneral___StyledButton2",componentId:"sc-1uly02a-3"})({display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem"}),He=function(e){var t,n=e.entidades,a=e.subEntidades,i=e.entidadSeleccionada,o=e.subEntidadesRelacionadasId,d=e.setSubEntidadesRelacionadasId,c=e.setSubEntidadesRelacionadasId2,l=e.tipoEntidad,s=e.id,u="operadores"===i?"operador":"perfiles"===i?"perfil":"cliente",p={operador:1,perfil:2,cliente:3},b=p[l]+p[u],m=5===b?"operador":4===b?"perfil":"cliente",f="cliente"===m?"clientes":m+"es",g=Object(F.d)(["perfiles"],B.fetchPerfiles).data;return null!==(t=null===n||void 0===n?void 0:n[i].sort((function(e,t){var n=0;return"operador"===l&&"perfiles"===i&&(n=(e.perfil.operadoresAsignadosIds.includes(s)?-1:0)-(t.perfil.operadoresAsignadosIds.includes(s)?-1:0)),n||t.relationalProgress.puntos-e.relationalProgress.puntos})).map((function(e){var t,n,p,b;return Object(L.jsxs)(Fe,{children:[Object(L.jsx)(Be,{onClick:function(){var t;d(null===(t=e[u])||void 0===t?void 0:t.id),c(null)},_css:[{display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem",padding:"0.5rem",borderRadius:"0.25rem"},"operador"===l&&"perfiles"===i&&e.perfil.operadoresAsignadosIds.includes(s)?{"--tw-bg-opacity":"0.2",backgroundColor:"rgba(255, 255, 255, var(--tw-bg-opacity))",borderRadius:"1rem"}:null],children:Object(L.jsx)(oe.a,Object(r.a)(Object(r.a)({},Object(r.a)(Object(r.a)({},null===e||void 0===e?void 0:e[u]),{},{operador:"perfil"===u?null===g||void 0===g||null===(n=g.find((function(t){var n;return t.id===(null===e||void 0===e||null===(n=e[u])||void 0===n?void 0:n.id)})))||void 0===n?void 0:n.operador:null,operadorDePausa:"perfil"===u?null===g||void 0===g||null===(p=g.find((function(t){var n;return t.id===(null===e||void 0===e||null===(n=e[u])||void 0===n?void 0:n.id)})))||void 0===p?void 0:p.operadorDePausa:null,summary1:e.relationalProgress.summary})),{},{puntos1:e.relationalProgress.puntos}))}),o===(null===(b=e[u])||void 0===b?void 0:b.id)?Object(L.jsx)(Le,{_css2:[{"--tw-bg-opacity":"1",backgroundColor:"rgba(31, 41, 55, var(--tw-bg-opacity))",padding:"0.5rem",maxHeight:"70vh",flexDirection:"column",gap:"0.5rem",borderRadius:"1rem"},De.b],children:null===a||void 0===a?void 0:a[f].sort((function(e,t){return t.relationalProgress.puntos-e.relationalProgress.puntos})).map((function(e){var t,n,a;return Object(L.jsx)(qe,{onClick:function(){var t;return c(null===(t=e[m])||void 0===t?void 0:t.id)},children:Object(L.jsx)(oe.a,Object(r.a)(Object(r.a)({},Object(r.a)(Object(r.a)({},null===e||void 0===e?void 0:e[m]),{},{operador:"perfil"===m?null===g||void 0===g||null===(n=g.find((function(t){var n;return t.id===(null===e||void 0===e||null===(n=e[m])||void 0===n?void 0:n.id)})))||void 0===n?void 0:n.operador:null,operadorDePausa:"perfil"===m?null===g||void 0===g||null===(a=g.find((function(t){var n;return t.id===(null===e||void 0===e||null===(n=e[m])||void 0===n?void 0:n.id)})))||void 0===a?void 0:a.operadorDePausa:null,summary1:e.relationalProgress.summary})),{},{puntos1:e.relationalProgress.puntos}))},null===(t=e[m])||void 0===t?void 0:t.id)}))}):null]},null===(t=e[u])||void 0===t?void 0:t.id)})))&&void 0!==t?t:null},Ve=function(){var e=Object(s.a)(l.a.mark((function e(t,n,a,i,r,o,d){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c="operador"===n?"operatorId=".concat(a):"perfil"===n?"profileId=".concat(a):"clientId=".concat(a),"diaymes"!==i){e.next=9;break}return e.t0=B.renombrarPropiedadesAnidadas,e.next=5,Object(B.customFetch)("/feeds/related-entities-day-month?".concat(c,"&omit=").concat(d));case 5:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 9:return e.t2=B.renombrarPropiedadesAnidadas,e.next=12,Object(B.customFetch)("/feeds/related-entities?".concat(c,"&from=").concat(r,"&to=").concat(o,"&omit=").concat(d));case 12:return e.t3=e.sent,e.abrupt("return",(0,e.t2)(e.t3));case 14:case"end":return e.stop()}}),e)})));return function(t,n,a,i,r,o,d){return e.apply(this,arguments)}}(),We=function(){var e=Object(s.a)(l.a.mark((function e(t,n,a,i,r,o,d,c){var s,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==c){e.next=2;break}return e.abrupt("return",void 0);case 2:if(s="operador"===n?"operatorId=".concat(a):"perfil"===n?"profileId=".concat(a):"clientId=".concat(a),u="operadores"===d?"operatorId=".concat(c):"perfiles"===d?"profileId=".concat(c):"clientId=".concat(c),"diaymes"!==i){e.next=12;break}return e.t0=B.renombrarPropiedadesAnidadas,e.next=8,Object(B.customFetch)("/feeds/related-entities-day-month?".concat(s,"&").concat(u));case 8:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 12:return e.t2=B.renombrarPropiedadesAnidadas,e.next=15,Object(B.customFetch)("/feeds/related-entities?".concat(s,"&").concat(u,"&from=").concat(r,"&to=").concat(o));case 15:return e.t3=e.sent,e.abrupt("return",(0,e.t2)(e.t3));case 17:case"end":return e.stop()}}),e)})));return function(t,n,a,i,r,o,d,c){return e.apply(this,arguments)}}(),Ze=function(){var e=Object(s.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=B.renombrarPropiedadesAnidadas,e.next=3,Object(B.customFetch)("/profiles/info?expand=operator,pause_operator,dia_summary,mes_summary&id=".concat(t));case 3:e.t1=e.sent.data,n=(0,e.t0)(e.t1),F.b.setQueryData(["perfiles"],(function(e){var a=e.findIndex((function(e){return e.id===t}));return a>=0?e[a]=n:e.push(n),e}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Je=Object(u.d)("div").withConfig({displayName:"TomarAsignarEntidadMenu___StyledDiv",componentId:"jtoyhg-0"})(["",""],(function(e){return e._css})),Qe=Object(u.d)("div").withConfig({displayName:"TomarAsignarEntidadMenu___StyledDiv2",componentId:"jtoyhg-1"})({display:"flex",alignItems:"center",gap:"0.5rem"}),Ge=Object(u.d)("img").withConfig({displayName:"TomarAsignarEntidadMenu___StyledImg",componentId:"jtoyhg-2"})(["",""],(function(e){return e._css2})),Ke=Object(u.d)("button").withConfig({displayName:"TomarAsignarEntidadMenu___StyledButton",componentId:"jtoyhg-3"})({width:"1rem",height:"1rem",marginLeft:"auto",position:"relative"}),Ue=Object(u.d)(T.a).withConfig({displayName:"TomarAsignarEntidadMenu___StyledCrossSvg",componentId:"jtoyhg-4"})(["",""],(function(e){return e._css3})),Ye=function(e){var t=e.showTomarAsignarMenu,n=e.setShowTomarAsignarMenu,a=e.id,i=Object(F.d)("perfiles",B.fetchPerfiles).data,r=Object(g.useRef)(null);Object(B.useClickOutside)(r,(function(){return n(null)}));var o=Object(g.useState)(!1),c=Object(d.a)(o,2),u=c[0],p=c[1],b=function(){var e=Object(s.a)(l.a.mark((function e(t,n,i){var r,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=7;break}return e.next=3,Object(B.customFetch)("/profiles/select",{method:"POST",body:JSON.stringify({list_id:[t],operatorId:a}),headers:{"Content-Type":"application/json"}});case 3:r=e.sent,Object(B.errorPerfilesToast)(r,"toma"),e.next=11;break;case 7:return e.next=9,Object(B.customFetch)("/profiles/release",{method:"POST",body:JSON.stringify({list_id:[t],operatorId:i,force:!0}),headers:{"Content-Type":"application/json"}});case 9:o=e.sent,Object(B.errorPerfilesToast)(o,"liberacion");case 11:return e.next=13,Ze(t);case 13:p(!1);case 14:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),m=function(){var e=Object(s.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.includes(a)){e.next=5;break}return e.next=3,Object(B.customFetch)("/profiles/remove-assigned-operator",{method:"POST",body:JSON.stringify({profileId:t,operatorId:a}),headers:{"Content-Type":"application/json"}});case 3:e.next=7;break;case 5:return e.next=7,Object(B.customFetch)("/profiles/assign-operator",{method:"POST",body:JSON.stringify({profileId:t,operatorId:a}),headers:{"Content-Type":"application/json"}});case 7:return e.next=9,Ze(t);case 9:p(!1);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(L.jsx)(Je,{ref:r,_css:[{display:"flex",flexDirection:"column","--tw-bg-opacity":"1",backgroundColor:"rgba(31, 31, 38, var(--tw-bg-opacity))",width:"max-content",right:"0px",borderWidth:"1px",borderColor:"#4C4C3F",padding:"1rem",gap:"1rem",zIndex:"10",overflowX:"hidden"},De.b],children:null===i||void 0===i?void 0:i.filter((function(e){return e.activo})).sort((function(e,n){var i,r,o=0;o="tomar"===t?((null===(i=e.operador)||void 0===i?void 0:i.id)===a?-1:0)-((null===(r=n.operador)||void 0===r?void 0:r.id)===a?-1:0):(e.operadoresAsignadosIds.includes(a)?-1:0)-(n.operadoresAsignadosIds.includes(a)?-1:0);var d=e.nombre<n.nombre?-1:1;return o||d})).map((function(e){var n;return Object(L.jsxs)(Qe,{children:[Object(L.jsx)(Ge,{src:e.foto,alt:"Foto",_css2:[{width:"5rem",height:"5rem",borderRadius:"9999px",objectFit:"cover",flexShrink:"0"},(null===(n=e.operador)||void 0===n?void 0:n.id)===a&&"tomar"===t?{"--tw-border-opacity":"1",borderColor:"rgba(29, 78, 216, var(--tw-border-opacity))",borderWidth:"8px",borderStyle:"double"}:e.operadoresAsignadosIds.includes(a)&&"asignar"===t?{"--tw-border-opacity":"1",borderColor:"rgba(4, 120, 87, var(--tw-border-opacity))",borderWidth:"8px",borderStyle:"double"}:null]}),Object(L.jsx)("span",{children:e.nombre}),Object(L.jsx)(Ke,{onClick:function(){var n;setTimeout((function(){return p(!0)}),1),"tomar"===t?b(e.id,e.libre,null===(n=e.operador)||void 0===n?void 0:n.id):m(e.id,e.operadoresAsignadosIds)},disabled:u,children:u?Object(L.jsx)(f.a,{}):Object(L.jsx)(Ue,{_css3:[{width:"1rem",height:"1rem",fill:"currentColor","--tw-text-opacity":"1",color:"rgba(185, 28, 28, var(--tw-text-opacity))"},e.libre&&"tomar"===t||!e.operadoresAsignadosIds.includes(a)&&"asignar"===t?{"--tw-translate-x":"0","--tw-translate-y":"0","--tw-rotate":"45deg","--tw-skew-x":"0","--tw-skew-y":"0","--tw-scale-x":"1","--tw-scale-y":"1",transform:"translateX(var(--tw-translate-x)) translateY(var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))","--tw-text-opacity":"1",color:"rgba(29, 78, 216, var(--tw-text-opacity))"}:null]})})]},e.id)}))})},Xe=n(408),$e=n(409),et=n(410),tt=n(384),nt=n(385),at=n(403),it=n(401),rt=n(346),ot=n(157),dt=function(){var e=Object(s.a)(l.a.mark((function e(t,n,a,i,r,o,d,c,s){var u,p,b,m,f,g,j,y,h;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u="operador"===a?"operatorId=".concat(n):"perfil"===a?"profileId=".concat(n):"clientId=".concat(n),p="operadores"===d?"operatorId=".concat(c):"perfiles"===d?"profileId=".concat(c):"clientId=".concat(c),f=5===(m=(b={operador:1,perfil:2,cliente:3})[a]+b["operadores"===d?"operador":"perfiles"===d?"perfil":"cliente"])?"operatorId=".concat(s):4===m?"profileId=".concat(s):"clientId=".concat(s),(g=new Date).setUTCDate(1),g.setUTCHours(0,0,0,0),j=g.toISOString().slice(0,-1),(y=new Date).setUTCDate(1),y.setUTCMonth(y.getUTCMonth()+1),y.setUTCHours(0,0,0,0),h=y.toISOString().slice(0,-1),"rango"===i&&(j=r,h=o),e.next=18,Object(B.customFetch)("/feeds/graphic-data?".concat(u,"&").concat(null!==c?p:"","&").concat(null!==s?f:"","&from=").concat(j,"&to=").concat(h));case 18:return e.abrupt("return",e.sent);case 19:case"end":return e.stop()}}),e)})));return function(t,n,a,i,r,o,d,c,l){return e.apply(this,arguments)}}(),ct=Object(u.d)("div").withConfig({displayName:"DetalleEntidadModal___StyledDiv",componentId:"zwxyg-0"})({display:"flex",width:"95vw",height:"95vh"}),lt=Object(u.d)("div").withConfig({displayName:"DetalleEntidadModal___StyledDiv2",componentId:"zwxyg-1"})(["",""],(function(e){return e._css2})),st=Object(u.d)("div").withConfig({displayName:"DetalleEntidadModal___StyledDiv3",componentId:"zwxyg-2"})({display:"flex",gap:"1rem"}),ut=Object(u.d)("button").withConfig({displayName:"DetalleEntidadModal___StyledButton",componentId:"zwxyg-3"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(37, 99, 235, var(--tw-bg-opacity))",borderRadius:"1rem",paddingLeft:"1rem",paddingRight:"1rem",paddingTop:"0.5rem",paddingBottom:"0.5rem"}),pt=Object(u.d)("button").withConfig({displayName:"DetalleEntidadModal___StyledButton2",componentId:"zwxyg-4"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(5, 150, 105, var(--tw-bg-opacity))",borderRadius:"1rem",paddingLeft:"1rem",paddingRight:"1rem",paddingTop:"0.5rem",paddingBottom:"0.5rem"}),bt=Object(u.d)("div").withConfig({displayName:"DetalleEntidadModal___StyledDiv4",componentId:"zwxyg-5"})({height:"1px",width:"100%","--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))"}),mt=Object(u.d)("div").withConfig({displayName:"DetalleEntidadModal___StyledDiv5",componentId:"zwxyg-6"})({display:"flex",gap:"0.5rem",alignItems:"center",justifyContent:"space-between",width:"100%"}),ft=Object(u.d)("div").withConfig({displayName:"DetalleEntidadModal___StyledDiv6",componentId:"zwxyg-7"})({display:"flex",gap:"1rem"}),gt=Object(u.d)("label").withConfig({displayName:"DetalleEntidadModal___StyledLabel",componentId:"zwxyg-8"})({"--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))"}),jt=Object(u.d)("label").withConfig({displayName:"DetalleEntidadModal___StyledLabel2",componentId:"zwxyg-9"})({"--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))"}),yt=Object(u.d)("div").withConfig({displayName:"DetalleEntidadModal___StyledDiv7",componentId:"zwxyg-10"})({display:"flex",flexDirection:"column",alignItems:"center",gap:"1rem",width:"100%",flexGrow:"1"}),ht=Object(u.d)("div").withConfig({displayName:"DetalleEntidadModal___StyledDiv8",componentId:"zwxyg-11"})({display:"flex",flexDirection:"column",alignItems:"center",gap:"1rem",position:"relative",width:"100%",height:"100%"}),vt=Object(u.d)("div").withConfig({displayName:"DetalleEntidadModal___StyledDiv9",componentId:"zwxyg-12"})({flexGrow:"1",position:"relative",display:"flex"}),Ot=Object(u.d)("button").withConfig({displayName:"DetalleEntidadModal___StyledButton3",componentId:"zwxyg-13"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",padding:"0.5rem",alignSelf:"flex-start",marginLeft:"0.5rem",marginTop:"0.5rem",borderRadius:"0.25rem"}),xt=Object(u.d)("div").withConfig({displayName:"DetalleEntidadModal___StyledDiv10",componentId:"zwxyg-14"})({display:"flex",flexDirection:"column",width:"100%"}),wt=Object(u.d)("div").withConfig({displayName:"DetalleEntidadModal___StyledDiv11",componentId:"zwxyg-15"})(["",""],(function(e){return e._css3})),_t=Object(u.d)("div").withConfig({displayName:"DetalleEntidadModal___StyledDiv12",componentId:"zwxyg-16"})({display:"flex",flexDirection:"column",paddingLeft:"0.75rem",paddingRight:"0.75rem",paddingTop:"0.5rem",paddingBottom:"0.5rem",borderRadius:"1rem","--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))"}),It=Object(u.d)("label").withConfig({displayName:"DetalleEntidadModal___StyledLabel3",componentId:"zwxyg-17"})({display:"flex",gap:"0.5rem",alignItems:"center",justifyContent:"space-between"}),Ct=Object(u.d)("label").withConfig({displayName:"DetalleEntidadModal___StyledLabel4",componentId:"zwxyg-18"})({display:"flex",gap:"0.5rem",alignItems:"center",justifyContent:"space-between"}),St=Object(u.d)("div").withConfig({displayName:"DetalleEntidadModal___StyledDiv13",componentId:"zwxyg-19"})({display:"flex",flexDirection:"column",paddingLeft:"0.75rem",paddingRight:"0.75rem",paddingTop:"0.5rem",paddingBottom:"0.5rem",borderRadius:"1rem","--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))"}),Dt=Object(u.d)("label").withConfig({displayName:"DetalleEntidadModal___StyledLabel5",componentId:"zwxyg-20"})({display:"flex",gap:"0.5rem",alignItems:"center",justifyContent:"space-between"}),Et=Object(u.d)("label").withConfig({displayName:"DetalleEntidadModal___StyledLabel6",componentId:"zwxyg-21"})({display:"flex",gap:"0.5rem",alignItems:"center",justifyContent:"space-between"}),kt=Object(u.d)("label").withConfig({displayName:"DetalleEntidadModal___StyledLabel7",componentId:"zwxyg-22"})({display:"flex",gap:"1rem",alignItems:"center",userSelect:"none",borderWidth:"1px","--tw-border-opacity":"1",borderColor:"rgba(255, 255, 255, var(--tw-border-opacity))",borderRadius:"1rem",padding:"0.75rem"}),Nt=Object(u.d)("div").withConfig({displayName:"DetalleEntidadModal___StyledDiv14",componentId:"zwxyg-23"})({display:"flex",alignItems:"center",gap:"0.75rem"}),Mt=Object(u.d)("div").withConfig({displayName:"DetalleEntidadModal___StyledDiv15",componentId:"zwxyg-24"})({display:"flex",flexDirection:"column",gap:"0.5rem"}),Pt=Object(u.d)("span").withConfig({displayName:"DetalleEntidadModal___StyledSpan",componentId:"zwxyg-25"})({width:"max-content"}),Rt=Object(u.d)("span").withConfig({displayName:"DetalleEntidadModal___StyledSpan2",componentId:"zwxyg-26"})({width:"max-content"});t.default=function(e){var t=e.id,n=e.nombre,a=e.foto,i=e.setShowModal,c=e.supervisorId,l=e.tipoEntidad,s=e.amolatinaId,b=Object(g.useState)(!0),j=Object(d.a)(b,2),y=j[0],h=j[1],v=Object(g.useState)("dia"),O=Object(d.a)(v,2),x=O[0],w=O[1],_=Object(g.useState)("diaymes"),I=Object(d.a)(_,2),C=I[0],S=I[1],D=Object(g.useState)((new Date).toISOString().slice(0,-13)+"00:00:00"),E=Object(d.a)(D,2),k=E[0],N=E[1],M=Object(g.useState)("bonus"),P=Object(d.a)(M,2),R=P[0],T=P[1],A=Object(g.useState)("puntos"),z=Object(d.a)(A,2),q=z[0],H=z[1],V=new Date;V.setDate(V.getDate()+1);var W=Object(g.useState)(V.toISOString().slice(0,-13)+"00:00:00"),Z=Object(d.a)(W,2),J=Z[0],Q=Z[1],G=Object(g.useState)(null),K=Object(d.a)(G,2),U=K[0],Y=K[1],X=Object(g.useState)(null),$=Object(d.a)(X,2),ee=$[0],te=$[1],ne=Object(g.useState)(null),ae=Object(d.a)(ne,2),ie=ae[0],re=ae[1],oe=Object(g.useState)("operador"===l?"perfiles":"operadores"),de=Object(d.a)(oe,2),ce=de[0],le=de[1],se=Object(B.useFilterGraphFilter)(),ue=function(){switch(l){case"operador":return"perfiles"===ce?"clients":"profiles";case"perfil":return"operadores"===ce?"clients":"operators";case"cliente":return"operadores"===ce?"profiles":"operators";default:return"badOmit"}}(),pe=Object(F.d)(["entidades-relacionadas-1",l,t,C,"rango"===C?k:null,"rango"===C?J:null,ue],Ve),be=pe.data,me=pe.isLoading,fe=pe.isFetching,ge=Object(F.d)(["entidades-relacionadas-2",l,t,C,"rango"===C?k:null,"rango"===C?J:null,ce,ee],We),je=ge.data,ye=ge.isFetching,he=Object(F.d)(["grafica",t,l,C,"rango"===C?k:null,"rango"===C?J:null,null!==ee?ce:null,ee,ie],dt,{enabled:!fe&&!ye}).data,ve=m.a.get("role");Object(g.useEffect)((function(){return te(null)}),[ce]),Object(g.useEffect)((function(){}),[]);var Oe,we=new Set,_e=new Set,Ie=Object(o.a)(null!==he&&void 0!==he?he:[]);try{for(Ie.s();!(Oe=Ie.n()).done;){var Ee=Oe.value,ke=Ee.clientesComunicadosViejos,Ne=Ee.clientesComunicadosNuevos;ke.forEach((function(e){return we.add(e)})),Ne.forEach((function(e){return _e.add(e)}))}}catch(Me){Ie.e(Me)}finally{Ie.f()}return _e.forEach((function(e){return we.delete(e)})),Object(L.jsx)(p.a,{setShowModal:i,children:Object(L.jsxs)(ct,{children:[Object(L.jsxs)(lt,{_css2:[{display:"flex",flexDirection:"column",alignItems:"center",padding:"0.75rem",gap:"1rem","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",position:"relative",flexShrink:"0"},De.b,y?null:{display:"none"}],children:["operador"!==l||"admin"!==ve&&"supervisor"!==ve?null:Object(L.jsxs)(st,{children:[Object(L.jsx)(ut,{onClick:function(){return Y("tomar")},children:"Tomar"}),Object(L.jsx)(pt,{onClick:function(){return Y("asignar")},children:"Asignar"})]}),Object(L.jsx)(xe,{nombre:n,role:ve,id:t,foto:a,tipoEntidad:l,tiempo:C,setTiempo:S,desde:k,setDesde:N,hasta:J,setHasta:Q,setSubEntidadesRelacionadasId:te,amolatinaId:s}),"admin"===ve&&"operador"===l?Object(L.jsx)(Ce,{supervisorId:c,id:t,setShowModal:i}):null,Object(L.jsx)(bt,{}),null===U?Object(L.jsxs)(mt,{children:[Object(L.jsx)(Se.a,{text1:"operador"===l?"Perfiles":"Operadores",text2:"cliente"===l?"Perfiles":"Clientes",value:ce,setValue:le}),"diaymes"===C?Object(L.jsxs)(ft,{children:[Object(L.jsxs)(gt,{children:["Dia"," ",Object(L.jsx)("input",{name:"orden-relacional-input",type:"radio",onChange:function(e){w(e.target.value),te(null)},value:"dia",checked:"dia"===x})]}),Object(L.jsxs)(jt,{children:["Mes"," ",Object(L.jsx)("input",{name:"orden-relacional-input",type:"radio",onChange:function(e){w(e.target.value),te(null)},value:"mes",checked:"mes"===x})]})]}):null]}):null,Object(L.jsx)(yt,{children:null!==U?Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)("span",{children:"tomar"===U?"Toma Y Liberaci\xf3n De Perfiles":"Asignaci\xf3n De Perfiles"}),Object(L.jsx)(Ye,{showTomarAsignarMenu:U,setShowTomarAsignarMenu:Y,id:t})]}):Object(L.jsxs)(ht,{onClick:function(e){e.currentTarget===e.target&&(te(null),re(null))},children:["diaymes"===C?Object(L.jsx)(ze,{entidades:be,subEntidades:je,entidadSeleccionada:ce,orden:x,subEntidadesRelacionadasId:ee,setSubEntidadesRelacionadasId:te,setSubEntidadesRelacionadasId2:re,tipoEntidad:l,id:t}):Object(L.jsx)(He,{entidades:be,subEntidades:je,entidadSeleccionada:ce,subEntidadesRelacionadasId:ee,setSubEntidadesRelacionadasId:te,setSubEntidadesRelacionadasId2:re,tipoEntidad:l,id:t}),me?Object(L.jsx)(f.a,{}):null]})})]}),Object(L.jsxs)(vt,{children:[Object(L.jsx)(Ot,{onClick:function(){return h((function(e){return!e}))},children:y?"<":">"}),he?Object(L.jsxs)(xt,{children:[Object(L.jsxs)(wt,{_css3:[{display:"flex",alignItems:"center",gap:"1rem","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",padding:"1rem"},De.b,Object(u.c)(["&::-webkit-scrollbar{height:20px;}"])],children:[Object(L.jsxs)(_t,{children:[Object(L.jsxs)(It,{children:["Puntos",Object(L.jsx)("input",{type:"radio",name:"puntosorservicio",checked:"puntos"===q,onChange:function(){return H("puntos")}})]}),Object(L.jsxs)(Ct,{children:["Cantidad",Object(L.jsx)("input",{type:"radio",name:"puntosorservicio",checked:"servicio"===q,onChange:function(){return H("servicio")}})]})]}),Object(L.jsxs)(St,{children:[Object(L.jsxs)(Dt,{children:["Bonus",Object(L.jsx)("input",{type:"radio",name:"bonusorwriteoff",checked:"bonus"===R,onChange:function(){return T("bonus")}})]}),Object(L.jsxs)(Et,{children:["Writeoff",Object(L.jsx)("input",{type:"radio",name:"bonusorwriteoff",checked:"writeoff"===R,onChange:function(){return T("writeoff")}})]})]}),Object(L.jsxs)(kt,{onDoubleClick:function(){return Object(ot.b)(se,"Clientes")},children:[Object(L.jsxs)(Nt,{children:[Object(L.jsx)("span",{children:"Clientes"}),Object(L.jsx)("input",{type:"checkbox",checked:se.showClientes,onChange:function(e){return se.setShowClientes(e.target.checked)}})]}),Object(L.jsxs)(Mt,{children:[Object(L.jsxs)(Pt,{children:[we.size," Viejos"]}),Object(L.jsxs)(Rt,{children:[_e.size," Nuevos"]})]})]}),("bonus"===R?B.bonusTypes:B.writeoffTypes).map((function(e,t){var n=e.name,a=e.value;return"todos"===a||a.startsWith("manual")?null:Object(L.jsx)(ot.a,{text:n,checked:se["show"+n.replace(/ /g,"")],setChecked:se["setShow"+n.replace(/ /g,"")],color:B.contrastingHexColors[t],service:a,filter:se,total:Math.floor(he.reduce((function(e,t){var n,i=t.points,r=t.count;return e+(null!==(n=("puntos"===q?i:r)[R][a])&&void 0!==n?n:0)}),0))},n)}))]}),Object(L.jsx)(Xe.a,{children:Object(L.jsxs)($e.a,{onClick:function(e){if(null!==e&&e.activePayload[0].payload.fecha){var t=new Date(e.activePayload[0].payload.fecha),n=new Date(e.activePayload[0].payload.fecha);n.setDate(n.getDate()+1);var a=t.toISOString().slice(0,-1),i=n.toISOString().slice(0,-1);try{document.getElementById("desde-fecha").value=a,document.getElementById("hasta-fecha").value=i}catch(r){}N(a),Q(i),S("rango")}},data:he.map((function(e){var t,n,a=e.points,i=e.count,o=e.fecha,c=e.etiqueta,l=e.clientesComunicadosViejos,s=e.clientesComunicadosNuevos,u=0,p=JSON.parse(JSON.stringify(null!==(t=null===(n="puntos"===q?a:i)||void 0===n?void 0:n[R])&&void 0!==t?t:{}));Object.entries(p).forEach((function(e){var t=Object(d.a)(e,2),n=t[0],a=t[1],i=B.bonusYWriteoffTypes.find((function(e){return e.value===n})).name;se["show"+i.replace(/ /g,"")]&&(u+=a)}));for(var b=0,m=Object.entries(p);b<m.length;b++){var f=Object(d.a)(m[b],2),g=f[0],j=f[1];p[g]=Math.floor(j)}return Object(r.a)(Object(r.a)({fecha:o,etiqueta:c,cantidadDeClientesViejos:l.length,cantidadDeClientesNuevos:s.length},p),{},{total:Math.floor(u)})})),children:[Object(L.jsx)(et.a,{strokeDasharray:"3 3"}),Object(L.jsx)(tt.a,{dataKey:"etiqueta"}),Object(L.jsx)(nt.a,{yAxisId:"left-axis",orientation:"left"}),Object(L.jsx)(nt.a,{yAxisId:"right-axis",orientation:"right"}),Object(L.jsx)(nt.a,{}),Object(L.jsx)(at.a,{formatter:function(e,t){var n=t;return B.bonusYWriteoffTypes.map((function(e){return e.value})).includes(t)?n=B.bonusYWriteoffTypes.find((function(e){return e.value===t})).name:"cantidadDeClientesViejos"===t?n="Cantidad de clientes viejos":"cantidadDeClientesNuevos"===t&&(n="Cantidad de clientes nuevos"),[e,n]},contentStyle:{backgroundColor:"#333333"}}),("bonus"===R?B.bonusTypes:B.writeoffTypes).map((function(e,t,n){var a=e.name,i=e.value,r=n.length;return Object(L.jsx)(it.a,{dataKey:se["show"+a.replace(/ /g,"")]?i:null,stackId:"a",yAxisId:"left-axis",fill:B.contrastingHexColors[t],isAnimationActive:!1,children:t===r-1?Object(L.jsx)(rt.a,{dataKey:"total",position:"top",style:{fill:"white"}}):null},i)})),se.showClientes?Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(it.a,{dataKey:"cantidadDeClientesViejos",yAxisId:"right-axis",fill:"#3346ff",isAnimationActive:!1,children:Object(L.jsx)(rt.a,{dataKey:"cantidadDeClientesViejos",position:"top",style:{fill:"white"}})}),Object(L.jsx)(it.a,{dataKey:"cantidadDeClientesNuevos",yAxisId:"right-axis",fill:"#70dcba",isAnimationActive:!1,children:Object(L.jsx)(rt.a,{dataKey:"cantidadDeClientesNuevos",position:"top",style:{fill:"white"}})})]}):null]})},y)]}):Object(L.jsx)(f.a,{})]})]})})}}}]);