(this.webpackJsonpivan=this.webpackJsonpivan||[]).push([[30],{661:function(t,e,i){"use strict";i.r(e);var n=i(6),a=i(2),d=i.n(a),o=i(7),r=i(3),l=i(89),c=i(0),s=i.n(c),m=i(8),p=i(51),h=i(11),g=i(43),x=i(29),w=i(9),u=i.n(w),v=i(95),b=i(147),f=i(1);function j(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return"".concat(t.getUTCFullYear(),"-").concat(t.getUTCMonth()+1<10?"0".concat(t.getUTCMonth()+1):t.getUTCMonth()+1,"-").concat(t.getUTCDate()<10?"0".concat(t.getUTCDate()):t.getUTCDate())}function y(t,e){return t.setUTCDate(t.getUTCDate()+e),t}var _=Object(r.d)(p.a).withConfig({displayName:"ModalReportList__CoronaSvg",componentId:"sc-1i3qvgk-0"})(["",""],x.a),O=r.d.span.withConfig({displayName:"ModalReportList__Id",componentId:"sc-1i3qvgk-1"})(["@media (min-width:2560px){font-size:0.75rem !important;}@media (min-height:1000px) and (min-width:651px) and (max-width:767px){font-size:0.975rem !important;}@media (min-height:1000px) and (min-width:451px) and (max-width:650px){font-size:0.75rem !important;}@media (min-width:651px) and (max-width:767px) and (max-height:999px){font-size:0.8rem !important;}@media (min-width:401px) and (max-width:650px) and (max-height:999px){font-size:0.7rem !important;}@media (max-width:400px) and (max-height:999px){font-size:0.4rem !important;}",""],{fontSize:"0.35rem","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",width:"8em",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",textAlign:"center","@media (min-width: 1024px)":{fontSize:"0.4rem"},"@media (min-width: 1280px)":{fontSize:"0.5rem"},"@media (min-width: 1536px)":{fontSize:"0.6rem"}}),C=function(){var t=Object(o.a)(d.a.mark((function t(e,i,n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(m.customFetch)("/operators/list-report?profileId=".concat(i,"&date=").concat(n));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,i,n){return t.apply(this,arguments)}}(),k=Object(r.d)("div").withConfig({displayName:"ModalReportList___StyledDiv",componentId:"sc-1i3qvgk-2"})({"--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",width:"95vw",height:"85vh",padding:"1.25rem"}),S=Object(r.d)("div").withConfig({displayName:"ModalReportList___StyledDiv2",componentId:"sc-1i3qvgk-3"})({display:"flex",justifyContent:"center",alignItems:"center",gap:"0.5rem"}),I=Object(r.d)(b.a).withConfig({displayName:"ModalReportList___StyledLeftSvg",componentId:"sc-1i3qvgk-4"})({width:"1rem",height:"1rem"}),R=Object(r.d)("input").withConfig({displayName:"ModalReportList___StyledInput",componentId:"sc-1i3qvgk-5"})({"--tw-text-opacity":"1",color:"rgba(23, 23, 28, var(--tw-text-opacity))",padding:"0.25rem",borderRadius:"0.25rem"}),D=Object(r.d)(b.a).withConfig({displayName:"ModalReportList___StyledLeftSvg2",componentId:"sc-1i3qvgk-6"})({width:"1rem",height:"1rem"}),M=Object(r.d)("div").withConfig({displayName:"ModalReportList___StyledDiv3",componentId:"sc-1i3qvgk-7"})({height:"100%"}),L=Object(r.d)(b.a).withConfig({displayName:"ModalReportList___StyledLeftSvg3",componentId:"sc-1i3qvgk-8"})({height:"1.5rem",width:"1.5rem"}),N=Object(r.d)("div").withConfig({displayName:"ModalReportList___StyledDiv4",componentId:"sc-1i3qvgk-9"})(["",""],(function(t){return t._css})),z=Object(r.d)("div").withConfig({displayName:"ModalReportList___StyledDiv5",componentId:"sc-1i3qvgk-10"})(["",""],(function(t){return t._css2})),q=Object(r.d)("div").withConfig({displayName:"ModalReportList___StyledDiv6",componentId:"sc-1i3qvgk-11"})({width:"100%",display:"flex",justifyContent:"flex-end"}),T=Object(r.d)("div").withConfig({displayName:"ModalReportList___StyledDiv7",componentId:"sc-1i3qvgk-12"})({display:"flex",justifyContent:"space-between",padding:"0.5rem",alignItems:"center"}),W=Object(r.d)("div").withConfig({displayName:"ModalReportList___StyledDiv8",componentId:"sc-1i3qvgk-13"})({display:"flex",gap:"0.5rem",paddingRight:"0.75rem"}),E=Object(r.d)("button").withConfig({displayName:"ModalReportList___StyledButton",componentId:"sc-1i3qvgk-14"})(["",""],(function(t){return t._css3})),F=Object(r.d)("div").withConfig({displayName:"ModalReportList___StyledDiv9",componentId:"sc-1i3qvgk-15"})({position:"relative",display:"flex"}),U=Object(r.d)("img").withConfig({displayName:"ModalReportList___StyledImg",componentId:"sc-1i3qvgk-16"})({width:"4em",height:"4em",borderRadius:"9999px",objectFit:"cover"}),Y=Object(r.d)("div").withConfig({displayName:"ModalReportList___StyledDiv10",componentId:"sc-1i3qvgk-17"})(["",""],(function(t){return t._css4})),A=Object(r.d)("div").withConfig({displayName:"ModalReportList___StyledDiv11",componentId:"sc-1i3qvgk-18"})(["",""],(function(t){return t._css5})),H=Object(r.d)("div").withConfig({displayName:"ModalReportList___StyledDiv12",componentId:"sc-1i3qvgk-19"})(["",""],(function(t){return t._css6})),X=Object(r.d)("div").withConfig({displayName:"ModalReportList___StyledDiv13",componentId:"sc-1i3qvgk-20"})({display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem"}),B=Object(r.d)("div").withConfig({displayName:"ModalReportList___StyledDiv14",componentId:"sc-1i3qvgk-21"})({position:"relative",display:"flex"}),P=Object(r.d)("img").withConfig({displayName:"ModalReportList___StyledImg2",componentId:"sc-1i3qvgk-22"})({width:"4em",height:"4em",borderRadius:"9999px",objectFit:"cover"}),J=Object(r.d)("div").withConfig({displayName:"ModalReportList___StyledDiv15",componentId:"sc-1i3qvgk-23"})({width:"100%",display:"flex",gap:"0.5rem",alignItems:"center",justifyContent:"center",marginTop:"0.25rem"}),G=Object(r.d)("div").withConfig({displayName:"ModalReportList___StyledDiv16",componentId:"sc-1i3qvgk-24"})({display:"flex",flexDirection:"column",width:"100%",gap:"0.5rem"}),K=Object(r.d)("textarea").withConfig({displayName:"ModalReportList___StyledTextarea",componentId:"sc-1i3qvgk-25"})(["",""],(function(t){return t._css7})),Q=function(t){var e,i,a,d,o,l,c,p,h,g=t.client,w=t.typeWidth,b=t.setSelectId,j=u.a.get("role"),y=s.a.useState([]),C=Object(n.a)(y,2),k=C[0],S=C[1],I=(h="[object Date]"===Object.prototype.toString.call(new Date(g.timestamp))?isNaN(new Date(g.timestamp))?new Date(g.timestamp):Object(m.converterDateAct)(new Date(g.timestamp)):new Date(g.timestamp)).getHours(),R=h.getDate();R=R<10?"0".concat(R):R;var D=h.getMinutes();D=D<10?"0".concat(D):D;var M=Object(m.mesDelYear)(h.getMonth()),L=h.getFullYear(),N=I<12?"am":"pm";return s.a.useEffect((function(){var t,e;if("md"===w||"sm"===w||""===w)S(Object(m.organizadorRadial)(_,4,8,11,null!==(t=null===g||void 0===g||null===(e=g.extradata)||void 0===e?void 0:e.crowns)&&void 0!==t?t:0,11.25));else if("lg"===w){var i,n;S(Object(m.organizadorRadial)(_,5,13,16,null!==(i=null===g||void 0===g||null===(n=g.extradata)||void 0===n?void 0:n.crowns)&&void 0!==i?i:0,11.25))}else if("xl"===w){var a,d;S(Object(m.organizadorRadial)(_,10,21,27,null!==(a=null===g||void 0===g||null===(d=g.extradata)||void 0===d?void 0:d.crowns)&&void 0!==a?a:0,11.25))}else if("2xl"===w){var o,r;S(Object(m.organizadorRadial)(_,10,22,28,null!==(o=null===g||void 0===g||null===(r=g.extradata)||void 0===r?void 0:r.crowns)&&void 0!==o?o:0,11.25))}else{var l,c;S(Object(m.organizadorRadial)(_,12,32,42,null!==(l=null===g||void 0===g||null===(c=g.extradata)||void 0===c?void 0:c.crowns)&&void 0!==l?l:0,11.25))}}),[null===g||void 0===g||null===(e=g.extradata)||void 0===e?void 0:e.crowns,w]),Object(f.jsxs)(z,{_css2:[{padding:"0.5rem",borderWidth:"2px","--tw-border-opacity":"1",borderColor:"rgba(107, 114, 128, var(--tw-border-opacity))",borderRadius:"20px",alignItems:"center"},"@media (min-width: 2560px) { padding: 1.25rem !important;  }","@media (min-height: 1000px) and (max-width: 767px) { padding: 1.25rem !important; }","@media (max-height: 999px) and (max-width: 767px) { padding: 1.25rem !important; }"],children:[null!==g.cvec_id?Object(f.jsxs)(q,{children:[R," de ",M," del ",L," - ",I<13?I:I-12,":",D," ",N]}):null,Object(f.jsxs)(T,{children:[Object(f.jsxs)(W,{children:[Object(f.jsxs)(E,{type:"button",onClick:function(){return b(g.client_id)},_css3:[{display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem"},Object(r.c)(["cursor:pointer;transition:transform 0.12s linear;:hover{transform:translateY(-6px);}:active{transform:translateY(3px);}"])],children:[Object(f.jsxs)(F,{children:[k,Object(f.jsx)(U,{src:null!==(i=null===g||void 0===g?void 0:g.client_photo)&&void 0!==i?i:v.a,onError:function(t){var e=t.currentTarget;e.onerror=null,e.src=v.a},alt:"cliente foto"}),Object(f.jsx)(Y,{_css4:[{position:"absolute",bottom:"-4px",right:"-4px"},"@media (min-width: 2560px) { bottom: -10px !important; right: -10px !important; }"],children:Object(f.jsxs)(A,{_css5:[{display:"flex",alignItems:"center",justifyContent:"center","--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))",gap:"0.25rem",paddingLeft:"0.25rem",paddingRight:"0.25rem",minWidth:"1rem","@media (min-width: 768px)":{width:"2rem",borderRadius:"0.375rem"},"@media (min-width: 1024px)":{width:"2.9rem",borderRadius:"0.5rem"},"@media (min-width: 1280px)":{borderRadius:"0.75rem"},"@media (min-width: 1536px)":{borderRadius:"1rem"}},"@media (min-width: 2560px) { padding-right: 0.5rem  !important; padding-left: 0.5rem  !important; width: 5rem !important;  }","@media (min-height: 1000px) and (max-width: 767px) { padding-right: 0.5rem  !important; padding-left: 0.5rem  !important; border-radius: 1rem !important; width: 5rem !important; }","@media (max-height: 999px) and (max-width: 767px) { padding-right: 0.5rem  !important; padding-left: 0.5rem  !important; border-radius: 1rem !important; width: 5rem !important; }"],children:[Object(f.jsxs)(H,{_css6:[{fontSize:"0.2rem","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",fontWeight:"700","@media (min-width: 1024px)":{fontSize:"0.25rem"},"@media (min-width: 1280px)":{fontSize:"0.5rem"},"@media (min-width: 1536px)":{fontSize:"0.5rem"}},"@media (min-width: 2560px) { font-size: 0.75rem !important; line-height: 1rem !important; }","@media (min-height: 1000px) and (max-width: 767px) { font-size: 0.75rem !important; line-height: 1rem !important; }","@media (max-height: 999px) and (max-width: 767px) { font-size: 0.375rem !important;  }"],children:[" ",isNaN(Math.round(((new Date).getTime()-new Date(null!==(a=null===g||void 0===g||null===(d=g.extradata)||void 0===d?void 0:d.first_point)&&void 0!==a?a:"").getTime())/864e5))?0:null!==(o=Math.round(((new Date).getTime()-new Date(null!==(l=null===g||void 0===g||null===(c=g.extradata)||void 0===c?void 0:c.first_point)&&void 0!==l?l:"").getTime())/864e5))&&void 0!==o?o:0]}),Object(f.jsx)(m.FlagPut,{role:j,country:null===g||void 0===g?void 0:g.extradata.country})]})})]}),Object(f.jsx)(O,{title:g.client_name,children:g.client_name})]}),Object(f.jsxs)(X,{children:[Object(f.jsx)(B,{children:Object(f.jsx)(P,{src:null!==(p=null===g||void 0===g?void 0:g.profile_photo)&&void 0!==p?p:v.a,onError:function(t){var e=t.currentTarget;e.onerror=null,e.src=v.a},alt:"..."})}),Object(f.jsx)(O,{title:g.profile_name,children:g.profile_name})]})]}),Object(f.jsx)(J,{children:Object(f.jsx)(G,{children:Object(f.jsx)(K,{value:g.cvec_text,disabled:"disabled",_css7:[{resize:"none",borderRadius:"0.375rem",padding:"0.5rem",width:"100%",flexGrow:"1","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",fontWeight:"700","--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))",borderWidth:"2px",borderColor:"#4c4c3f",height:"100px"},x.b]})})})]})]},"".concat(g.client_id,"-").concat(g.profile_id,"-").concat(g.user_id))};e.default=function(t){var e=t.setShowReportClient,i=t.profileId,a=s.a.useState(j()),d=Object(n.a)(a,2),o=d[0],r=d[1],c=u.a.get("role"),m=Object(h.d)(["reportList",i,o],C),p=m.data,w=m.status,v=s.a.useState(null),b=Object(n.a)(v,2),_=b[0],O=b[1],z=s.a.useState(window.innerWidth>=2560?"4k":window.innerWidth>=1536?"2xl":window.innerWidth>=1280?"xl":window.innerWidth>=1024?"lg":window.innerWidth>=768?"md":window.innerWidth<768&&window.innerHeight>=1e3?"4k":"sm"),q=Object(n.a)(z,2),T=q[0],W=q[1];return s.a.useEffect((function(){var t=function(){window.innerWidth>=2560?W("4k"):window.innerWidth>=1536?W("2xl"):window.innerWidth>=1280?W("xl"):window.innerWidth>=1024?W("lg"):window.innerWidth>=768?W("md"):window.innerWidth<768&&window.innerHeight>=1e3?W("4k"):W("sm")};return window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}}),[]),Object(f.jsx)(l.a,{setShowModal:e,children:Object(f.jsx)(k,{children:"loading"===w?Object(f.jsx)(g.a,{}):Object(f.jsxs)(f.Fragment,{children:["admin"===c||"supervisor"===c?Object(f.jsxs)(S,{children:[Object(f.jsx)("button",{type:"button",onClick:function(){var t=new Date(o);r(j(y(t,-1)))},children:Object(f.jsx)(I,{transform:"scale(1,1)"})}),Object(f.jsx)("label",{children:Object(f.jsx)(R,{type:"date",value:o,onChange:function(t){r(t.target.value)}})}),Object(f.jsx)("button",{type:"button",onClick:function(){var t=new Date(o);r(j(y(t,1)))},children:Object(f.jsx)(D,{transform:"scale(-1,1)"})})]}):null,Object(f.jsxs)(M,{children:[null!==_?Object(f.jsx)("button",{type:"button",onClick:function(){return O(null)},children:Object(f.jsx)(L,{})}):null,Object(f.jsx)(N,{_css:[{display:"flex",flexDirection:"column",overflowX:"hidden",height:"100%",width:"100%",padding:"0.5rem",gap:"0.5rem"},x.b],children:p.filter((function(t){return null===_||_===t.client_id})).map((function(t){return Object(f.jsx)(Q,{client:t,typeWidth:T,setSelectId:O})}))})]})]})})})}},89:function(t,e,i){"use strict";var n=i(3),a=i(0),d=i(1),o=Object(n.d)("div").withConfig({displayName:"Modal___StyledDiv",componentId:"tjiuax-0"})({position:"fixed",zIndex:"50",top:"0px",right:"0px",bottom:"0px",left:"0px",overflowY:"auto"}),r=Object(n.d)("div").withConfig({displayName:"Modal___StyledDiv2",componentId:"tjiuax-1"})({display:"flex",alignItems:"flex-end",justifyContent:"center",minHeight:"100vh",paddingTop:"1rem",paddingLeft:"1rem",paddingRight:"1rem",paddingBottom:"5rem",textAlign:"center","@media (min-width: 640px)":{display:"block",padding:"0px"}}),l=Object(n.d)("div").withConfig({displayName:"Modal___StyledDiv3",componentId:"tjiuax-2"})({position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px","--tw-bg-opacity":"0.7",backgroundColor:"rgba(23, 23, 27, var(--tw-bg-opacity))",transitionProperty:"opacity",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"150ms"}),c=Object(n.d)("span").withConfig({displayName:"Modal___StyledSpan",componentId:"tjiuax-3"})({display:"none","@media (min-width: 640px)":{display:"inline-block",verticalAlign:"middle",height:"100vh"}}),s=Object(n.d)("div").withConfig({displayName:"Modal___StyledDiv4",componentId:"tjiuax-4"})(["",""],(function(t){return t._css}));e.a=function(t){var e=t.children,i=t.setShowModal,n=Object(a.useRef)(null);return Object(a.useEffect)((function(){var t=n.current,e=function(t){"Escape"===t.key&&i(!1)};return t.addEventListener("keydown",e),t.focus(),function(){t.removeEventListener("keydown",e)}}),[i]),Object(d.jsx)(o,{"aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:Object(d.jsxs)(r,{ref:n,tabIndex:-1,children:[Object(d.jsx)(l,{"aria-hidden":"true",onClick:function(){return i(!1)}}),Object(d.jsx)(c,{"aria-hidden":"true",children:"\u200b"}),Object(d.jsx)(s,{_css:[{"--tw-translate-x":"0","--tw-translate-y":"0","--tw-rotate":"0","--tw-skew-x":"0","--tw-skew-y":"0","--tw-scale-x":"1","--tw-scale-y":"1",transform:"translateX(var(--tw-translate-x)) translateY(var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))",display:"inline-block",verticalAlign:"bottom","--tw-bg-opacity":"1",backgroundColor:"rgba(31, 31, 38, var(--tw-bg-opacity))",textAlign:"left",overflow:"hidden","--tw-shadow":"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)",transitionProperty:"all",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"150ms","@media (min-width: 640px)":{marginTop:"2rem",marginBottom:"2rem",verticalAlign:"middle"},"@media (min-width: 768px)":{borderRadius:"0.75rem"},"@media (min-width: 1024px)":{borderRadius:"1rem"},"@media (min-width: 1536px)":{borderRadius:"1.3rem"}},"@media (min-width: 2560px) { border-radius: 2.5rem !important; }","@media (min-height: 1000px) and (max-width: 767px) { border-radius:2.5rem !important; }"],children:e})]})})}}}]);