(this.webpackJsonpivan=this.webpackJsonpivan||[]).push([[18],{107:function(e,i,t){"use strict";t.d(i,"b",(function(){return f}));var a=t(6),n=t(20),o=t(3),r=t(1),d=t(10).ActionIcon,s=Object(o.d)(d).withConfig({displayName:"ColoredCheckbox___StyledActionIcon",componentId:"sc-2a66eg-0"})(["",""],(function(e){return e._css2})),m=o.d.div.withConfig({displayName:"ColoredCheckbox__DivColor",componentId:"sc-2a66eg-1"})(["",""],(function(e){return!0===e.checked?{"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",display:"flex",alignItems:"center",gap:"0.25rem",fontWeight:"700"}:{"--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",display:"flex",alignItems:"center",gap:"0.25rem",fontWeight:"700"}})),c=Object(o.d)(m).withConfig({displayName:"ColoredCheckbox___StyledDivColor",componentId:"sc-2a66eg-2"})(["",""],(function(e){return e._css})),l=Object(o.d)("div").withConfig({displayName:"ColoredCheckbox___StyledDiv",componentId:"sc-2a66eg-3"})({display:"flex",justifyContent:"center"}),p=Object(o.d)("div").withConfig({displayName:"ColoredCheckbox___StyledDiv2",componentId:"sc-2a66eg-4"})({display:"flex",justifyContent:"center"}),u=Object(o.d)("span").withConfig({displayName:"ColoredCheckbox___StyledSpan",componentId:"sc-2a66eg-5"})(["",""],(function(e){return e._css3})),f=function(e,i){var t,o=!0,r=Object(n.a)(Object.entries(e).filter((function(e){var t=Object(a.a)(e,1)[0];return t.startsWith("show")&&t!=="show"+i.replace(/ /g,"")})));try{for(r.s();!(t=r.n()).done;){Object(a.a)(t.value,2)[1]&&(o=!1)}}catch(y){r.e(y)}finally{r.f()}if(e["show"+i.replace(/ /g,"")]&&o){var d,s=Object(n.a)(Object.entries(e).filter((function(e){return Object(a.a)(e,1)[0].startsWith("set")})));try{for(s.s();!(d=s.n()).done;){var m=Object(a.a)(d.value,2),c=m[0],l=m[1];"setShowClientesOld"===c&&"setShowClientesNew"===c&&"setShowClients"===c&&"setShowReports"===c||l(!0)}}catch(y){s.e(y)}finally{s.f()}}else for(var p=0,u=Object.entries(e);p<u.length;p++){var f=Object(a.a)(u[p],2),g=f[0],h=f[1];"function"===typeof h&&(g==="setShow"+i.replace(/ /g,"")?h(!0):h(!1))}};i.a=function(e){var i=e.text,t=e.checked,a=e.setChecked,n=e.color,o=e.service,d=e.filter,m=e.total,g=e.mode,h=void 0===g?"":g,y=e.title;return Object(r.jsxs)(c,{style:!0===t?{backgroundColor:n}:{borderColor:n},checked:t,title:i,onDoubleClick:function(){return f(d,i)},onClick:function(){return a(!0!==t)},_css:[{paddingLeft:"0.125rem",borderWidth:"1px",flexShrink:"0",display:"flex",alignItems:"center",flexDirection:"column",cursor:"pointer","@media (min-width: 768px)":{borderRadius:"0.375rem",paddingTop:"0.25rem",paddingBottom:"0.25rem",gap:"0.25rem"},"@media (min-width: 1024px)":{borderRadius:"0.5rem",paddingTop:"0.4rem",paddingBottom:"0.4rem"},"@media (min-width: 1280px)":{borderRadius:"0.75rem",paddingTop:"0.7rem",paddingBottom:"0.7rem"},"@media (min-width: 1536px)":{borderRadius:"1rem",paddingLeft:"0.15rem",paddingRight:"0.15rem",paddingTop:"0.8rem",paddingBottom:"0.8rem"}},""===h?"@media (min-width: 2560px) { padding: 0.75rem !important; grid-gap: 0.5rem !important; }":"@media (min-width: 2560px) { padding: 0.45rem !important; grid-gap: 0.25rem !important; }"],children:[Object(r.jsx)(l,{children:void 0===y?Object(r.jsx)(s,{type:o,_css2:[{width:"auto","@media (min-width: 768px)":{height:"0.6rem"},"@media (min-width: 1024px)":{height:"0.5rem",paddingLeft:"0.75rem",paddingRight:"0.75rem"},"@media (min-width: 1280px)":{height:"0.7rem"},"@media (min-width: 1536px)":{height:"0.9rem"}},""===h?"@media (min-width: 2560px) { height: 1.75rem !important; }":"@media (min-width: 2560px) { height: 1.25rem !important; }"]}):y}),Object(r.jsx)(p,{children:Object(r.jsx)(u,{_css3:[{fontWeight:"700","@media (min-width: 768px)":{fontSize:"0.25rem"},"@media (min-width: 1024px)":{fontSize:"0.3rem"},"@media (min-width: 1280px)":{fontSize:"0.45rem"},"@media (min-width: 1536px)":{fontSize:"0.5rem"}},""===h?"@media (min-width: 2560px) { font-size: 0.75rem !important; }":"@media (min-width: 2560px) { font-size: 0.65rem !important; }"],children:m})})]})}},134:function(e,i,t){"use strict";var a=t(5),n=t(21),o=t(113),r=t(8),d=t.n(r),s=t(1);i.a=function(e){var i=e.id,t=e.nombre,r=e.foto,m=e.puntos1,c=e.puntos2,l=e.summary1,p=e.summary2,u=e.supervisorId,f=e.usarMultasOAvisos,g=e.noModal,h=e.tipoEntidad,y=e.amolatinaId,b=e.metaDia,x=e.metaMes,v=e.latestFeedTimestamp,j=e.fineCount,w=e.fineAlertCount,S=e.first_point,O=e.contenidos,C=e.agency_id,_=e.country,T=e.online,D=e.mingle,I=e.introductory,k=e.operador,M=e.operadorDePausa,P=e.operadoresAsignadosIds,A=e.missingMingleTimestamp,R=e.offlineTimestamp,L=e.unrepliedLettersTimestamps,F=e.token,B=e.media,N=e.modeGraphics,E=e.modeAsig,W=e.modeTom,z=e.graphics_data,G=e.botLetterLength,J=e.resume,H=e.shift,q=e.assign_profiles,Q=e.perfiles,Y=e.perfilesPausados,U=e.pausado,V=e.typeWidth,X=e.setShowModal,K=e.setDataEntities,Z=e.freedays,$=e.setOperatorSelect,ee=e.operatorSelect,ie=e.modeSelect,te=e.roleOperator,ae=e.modeDiasLibres,ne=e.modeAgencia,oe=e.modeResumen,re=d.a.get("role"),de=+d.a.get("id");return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("button",{onClick:function(){if(ie){var e=null===ee||void 0===ee?void 0:ee.find((function(e){return e===i}));$(e?ee.filter((function(e){return e!==i})):[].concat(Object(n.a)(ee),[i]))}else{if("admin"===re||"supervisor"===re)return K(Object(a.a)({},{id:i,nombre:t,foto:r,puntos1:m,puntos2:c,summary1:l,summary2:p,supervisorId:u,usarMultasOAvisos:f,noModal:g,tipoEntidad:h,amolatinaId:y,metaDia:b,metaMes:x,latestFeedTimestamp:v,fineCount:j,fineAlertCount:w,first_point:S,contenidos:O,agency_id:C,online:T,mingle:D,introductory:I,operador:k,operadorDePausa:M,operadoresAsignadosIds:P,missingMingleTimestamp:A,offlineTimestamp:R,unrepliedLettersTimestamps:L,token:F,media:B,modeGraphics:N,modeAsig:E,modeTom:W,graphics_data:z,botLetterLength:G,shift:H,assign_profiles:q,perfiles:Q,perfilesPausados:Y,pausado:U,typeWidth:V,setShowModal:X,setDataEntities:K})),X(!0);if((null===k||void 0===k?void 0:k.id)===de&&"perfil"===h)return K(Object(a.a)({},{id:i,nombre:t,foto:r,puntos1:m,puntos2:c,summary1:l,summary2:p,supervisorId:u,usarMultasOAvisos:f,noModal:g,tipoEntidad:h,amolatinaId:y,metaDia:b,metaMes:x,latestFeedTimestamp:v,fineCount:j,fineAlertCount:w,first_point:S,contenidos:O,agency_id:C,online:T,mingle:D,introductory:I,operador:k,operadorDePausa:M,operadoresAsignadosIds:P,missingMingleTimestamp:A,offlineTimestamp:R,unrepliedLettersTimestamps:L,token:F,media:B,modeGraphics:N,modeAsig:E,modeTom:W,graphics_data:z,botLetterLength:G,shift:H,assign_profiles:q,perfiles:Q,perfilesPausados:Y,pausado:U,typeWidth:V,setShowModal:X,setDataEntities:K})),X(!0);if(i===de&&"operador"===h)return K({id:i,nombre:t,foto:r,puntos1:m,puntos2:c,summary1:l,summary2:p,supervisorId:u,usarMultasOAvisos:f,noModal:g,tipoEntidad:h,amolatinaId:y,metaDia:b,metaMes:x,latestFeedTimestamp:v,fineCount:j,fineAlertCount:w,agency_id:C,online:T,mingle:D,introductory:I,operador:k,operadorDePausa:M,operadoresAsignadosIds:P,missingMingleTimestamp:A,offlineTimestamp:R,unrepliedLettersTimestamps:L,token:F,perfiles:Q,perfilesPausados:Y,pausado:U,first_point:S,shift:H}),X(!0)}},children:Object(s.jsx)(o.a,{id:i,nombre:t,foto:r,puntos1:m,puntos2:c,summary1:l,summary2:p,tipoEntidad:h,meta1:b,meta2:x,latestFeedTimestamp:v,usarMultasOAvisos:f,fineCount1:null===j||void 0===j?void 0:j.dia,fineAlertCount1:null===w||void 0===w?void 0:w.dia,fineCount2:null===j||void 0===j?void 0:j.mes,fineAlertCount2:null===w||void 0===w?void 0:w.mes,first_point:S,contenidos:O,agency_id:C,country:_,online:T,mingle:D,introductory:I,operador:k,operadorDePausa:M,operadoresAsignadosIds:P,missingMingleTimestamp:A,offlineTimestamp:R,unrepliedLettersTimestamps:L,token:F,media:B,modeGraphics:N,modeAsig:E,modeTom:W,graphics_data:z,botLetterLength:G,resume:J,supervisorId:u,roleOperator:te,shift:H,freedays:Z,assign_profiles:q,perfiles:Q,perfilesPausados:Y,pausado:U,typeWidth:V,statusSelect:(null===ee||void 0===ee?void 0:ee.filter((function(e){return e===i})).length)>0,modeDiasLibres:ae,modeAgencia:ne,modeResumen:oe})})})}},451:function(e,i,t){"use strict";t.r(i);var a=t(5),n=t(6),o=t(2),r=t.n(o),d=t(7),s=t(3),m=t(29),c=t(10),l=t(12),p=t(134),u=t(0),f=t(131),g=t(112),h=t(8),y=t.n(h),b=t(43),x=t(107),v=t(1),j=s.d.div.withConfig({displayName:"Perfiles__PerfilesDiv",componentId:"m36yex-0"})(["@media (min-width:2560px){padding-top:20px !important;padding-right:10px !important;padding-left:16px !important;grid-gap:32px !important;}"," ",""],{marginTop:"12px",paddingBottom:"20px",gridTemplateColumns:"repeat(4, minmax(0, 1fr))",display:"grid",alignItems:"flex-start",overflowX:"hidden","@media (min-width: 768px)":{paddingTop:"5px",paddingRight:"2px",paddingLeft:"2px",gap:"6px"},"@media (min-width: 1024px)":{gap:"10px",paddingTop:"10px",paddingRight:"5px"},"@media (min-width: 1280px)":{gap:"12px",paddingTop:"12px",paddingRight:"6px",paddingLeft:"4px"}},m.b),w=s.d.div.withConfig({displayName:"Perfiles__DivRadio",componentId:"m36yex-1"})(['input[type="radio"]{@media (min-width:2560px){width:16px !important;height:16px !important;margin-right:8px !important;border:2px solid #4c4c3f !important;}'," appearance:none;}input:checked{@media (min-width:2560px){border:6px solid #4c4c3f !important;}","}"],{width:"4px",height:"4px",cursor:"pointer",borderRadius:"50%","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))","@media (min-width: 768px)":{width:"6px",height:"6px",marginRight:"2px",border:"1px solid #4c4c3f"},"@media (min-width: 1024px)":{width:"8px",height:"8px"},"@media (min-width: 1280px)":{width:"12px",height:"12px"}},{border:"1px solid #4c4c3f","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))","@media (min-width: 768px)":{border:"2px solid #4c4c3f"},"@media (min-width: 1024px)":{border:"4px solid #4c4c3f"},"@media (min-width: 1280px)":{border:"4px solid #4c4c3f"}}),S=Object(s.d)(w).withConfig({displayName:"Perfiles___StyledDivRadio2",componentId:"m36yex-4"})({display:"flex",flexDirection:"column","--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))","@media (min-width: 768px)":{paddingLeft:"0.25rem",paddingRight:"0.25rem",paddingTop:"0.25rem",paddingBottom:"0.25rem",borderRadius:"0.375rem"},"@media (min-width: 1024px)":{borderRadius:"0.5rem"},"@media (min-width: 1280px)":{paddingLeft:"0.5rem",paddingRight:"0.5rem",paddingTop:"0.375rem",paddingBottom:"0.375rem",borderRadius:"0.75rem"},"@media (min-width: 1536px)":{borderRadius:"1rem"}}),O=Object(s.d)(w).withConfig({displayName:"Perfiles___StyledDivRadio",componentId:"m36yex-5"})({display:"flex",flexDirection:"column","--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))","@media (min-width: 768px)":{paddingLeft:"0.25rem",paddingRight:"0.25rem",paddingTop:"0.25rem",paddingBottom:"0.25rem",borderRadius:"0.375rem"},"@media (min-width: 1024px)":{borderRadius:"0.5rem"},"@media (min-width: 1280px)":{paddingLeft:"0.5rem",paddingRight:"0.5rem",paddingTop:"0.375rem",paddingBottom:"0.375rem",borderRadius:"0.75rem"},"@media (min-width: 1536px)":{borderRadius:"1rem"}}),C=function(){var e=Object(d.a)(r.a.mark((function e(i,t,a,n){var o,d,s,m,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:return o=+y.a.get("agency_id"),d=new Date(n,a,0).getDate(),s=(new Date).getFullYear()+"-"+((new Date).getMonth()+1)+"-"+d,l="",(m=n+"-"+a+"-"+d)!==s&&(l="&CustomDay="+m),e.next=10,Object(c.customFetch)("/profiles/graphics?agencyId=".concat(o).concat(l));case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})));return function(i,t,a,n){return e.apply(this,arguments)}}(),_=Object(s.d)("div").withConfig({displayName:"Perfiles___StyledDiv",componentId:"m36yex-2"})(["@media (min-width:2560px){grid-gap:0.5rem !important;}"]),T=Object(s.d)(_).withConfig({displayName:"Perfiles___Styled_StyledDiv",componentId:"m36yex-6"})({display:"flex",alignItems:"center","@media (min-width: 768px)":{gap:"0.125rem",paddingLeft:"0.5rem",paddingRight:"0.5rem",paddingTop:"0.375rem",paddingBottom:"0.375rem"},"@media (min-width: 1024px)":{paddingLeft:"0.75rem",paddingRight:"0.75rem"},"@media (min-width: 1280px)":{gap:"0.25rem"}}),D=Object(s.d)(g.a).withConfig({displayName:"Perfiles___StyledContextMenu",componentId:"m36yex-3"})(["@media (min-width:2560px){font-size:1rem !important;}"]),I=Object(s.d)(D).withConfig({displayName:"Perfiles___Styled_StyledContextMenu",componentId:"m36yex-7"})({"@media (min-width: 768px)":{fontSize:"0.3rem"},"@media (min-width: 1024px)":{fontSize:"0.5rem"},"@media (min-width: 1280px)":{fontSize:"0.7rem"}}),k=Object(s.d)("label").withConfig({displayName:"Perfiles___StyledLabel",componentId:"m36yex-8"})({display:"flex",alignItems:"center",justifyContent:"space-between","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))","@media (min-width: 768px)":{gap:"0.125rem"},"@media (min-width: 1024px)":{gap:"0.375rem"}}),M=Object(s.d)("label").withConfig({displayName:"Perfiles___StyledLabel2",componentId:"m36yex-9"})({display:"flex",alignItems:"center",justifyContent:"space-between","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))","@media (min-width: 768px)":{gap:"0.125rem"},"@media (min-width: 1024px)":{gap:"0.375rem"}}),P=Object(s.d)("label").withConfig({displayName:"Perfiles___StyledLabel3",componentId:"m36yex-10"})({display:"flex",alignItems:"center",justifyContent:"space-between","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))","@media (min-width: 768px)":{gap:"0.125rem"},"@media (min-width: 1024px)":{gap:"0.375rem"},"@media (min-width: 1280px)":{gap:"0.5rem"}}),A=Object(s.d)("label").withConfig({displayName:"Perfiles___StyledLabel4",componentId:"m36yex-11"})({display:"flex",alignItems:"center",justifyContent:"space-between","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))","@media (min-width: 768px)":{gap:"0.125rem"},"@media (min-width: 1024px)":{gap:"0.375rem"},"@media (min-width: 1280px)":{gap:"0.5rem"}});i.default=function(e){var i,t,o,s,m,h,w,_,D,R,L=e.entidadSeleccionadaFeed,F=e.orden,B=e.multasOAvisos,N=e.typeWidth,E=e.setTypeFichaTecnica,W=e.setProfileIdFichaTecnica,z=e.setIdFichaTecnica,G=e.setShowFichaTecnica,J=e.pauseperfilView,H=e.perfilSort,q=e.setShowModal,Q=e.setDataEntities,Y=e.contenidos,U=e.modeGraphics,V=e.modeHidden,X=e.perfilTaken,K=e.month,Z=e.year,$=e.setPerfilSeleccionadoId,ee=e.setShowPresentesModal,ie=e.setShowChangeImageModal,te=e.setShowTokenModal,ae=e.setShowSuperCartasBotModal,ne=e.setShowCartas24BotModal,oe=e.countEntities,re=e.setCountEntities,de=e.modeAsig,se=e.modeTom,me=e.orderBy,ce=e.setListClientsProfileId,le=e.setShowListClients,pe=e.countryFilter,ue=e.setShowReportClient,fe=e.modeResumen,ge=e.modeAgencia,he=Object(u.useState)(!0),ye=Object(n.a)(he,2),be=ye[0],xe=ye[1],ve=y.a.get("role"),je=+y.a.get("id"),we=+y.a.get("agency_id"),Se=l.b.getQueryData(["agency"]),Oe=Object(l.d)(["perfiles",K,Z],c.fetchPerfiles,{refetchInterval:72e4,refetchOnMount:!1}),Ce=Oe.data,_e=Oe.status,Te=l.b.getQueryData(["operadores",K,Z]),De=Object(l.d)(["profiles-graphics",U,K,Z],C),Ie=De.data,ke=De.status,Me=null===Te||void 0===Te?void 0:Te.find((function(e){return e.id===je})),Pe=null===Se||void 0===Se?void 0:Se.find((function(e){return e.id===we})),Ae=Object(u.useContext)(f.b),Re=Object(u.useState)("bonus"),Le=Object(n.a)(Re,2),Fe=Le[0],Be=Le[1],Ne=Object(u.useState)("puntos"),Ee=Object(n.a)(Ne,2),We=Ee[0],ze=Ee[1],Ge=Object(u.useState)(!1),Je=Object(n.a)(Ge,2),He=Je[0],qe=Je[1],Qe=null===Ce||void 0===Ce||null===(i=Ce.filter((function(e){return e.country===pe||""===pe||"notCountry"===pe&&(null===e.country||""===e.country)})))||void 0===i||null===(t=i.filter((function(e){var i,t;return"admin"===ve||"supervisor"===ve||("admin"!==ve&&(null===(i=e.operador)||void 0===i?void 0:i.id)===je&&!(null===Me||void 0===Me?void 0:Me.pausado)||(null===(t=e.operadorDePausa)||void 0===t?void 0:t.id)===je||"admin"!==ve&&e.libre&&!(null===Me||void 0===Me?void 0:Me.pausado))}),[ve,je,Me]))||void 0===t||null===(o=t.filter((function(e){return!0===V?!0===e.hidden:!1===e.hidden})))||void 0===o||null===(s=o.filter((function(e){return"admin"===ve||"supervisor"===ve||(!0!==(null===Pe||void 0===Pe?void 0:Pe.viewonlyprofiles)||((null===Me||void 0===Me||null===(i=Me.assign_profiles)||void 0===i?void 0:i.includes(e.id))||(null===e||void 0===e||null===(t=e.operador)||void 0===t?void 0:t.id)===je));var i,t})))||void 0===s||null===(m=s.filter((function(e){return e.activo})))||void 0===m||null===(h=m.filter((function(e){return"offline"===H?!1===e.online:"online"!==H||!0===e.online}),[H]))||void 0===h||null===(w=h.filter((function(e){return"take"===X?null!==e.operador:"release"!==X||null===e.operador}),[X]))||void 0===w||null===(_=w.filter((function(e){return"pause"===J?!0===e.pausado:"notpause"===J?!1===e.pausado:e.nombre}),[J]))||void 0===_||null===(D=_.filter((function(e){return 1===we||we===e.agency_id}),[we]))||void 0===D?void 0:D.filter((function(e){if("agency"===L.entity){var i=L.id;if(e.agency_id!==i)return!1}return!0}));-1===oe&&"success"===_e&&re(null!==(R=null===Qe||void 0===Qe?void 0:Qe.length)&&void 0!==R?R:0);var Ye=function(){var e=Object(d.a)(r.a.mark((function e(i,t,a){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=i.currentTarget).disabled=!0,e.next=4,Object(c.customFetch)("/profiles/show-hidden",{headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t,method:a}),method:"POST"});case 4:return e.next=6,Object(c.refetchPerfil)(t);case 6:setTimeout((function(){n.disabled=!1}),2e3);case 7:case"end":return e.stop()}}),e)})));return function(i,t,a){return e.apply(this,arguments)}}(),Ue=function(){var e=Object(d.a)(r.a.mark((function e(i,t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return qe(!0),(a=i.currentTarget).disabled=!0,e.next=5,Object(c.customFetch)("/profiles/select",{headers:{"Content-Type":"application/json"},body:JSON.stringify({list_id:[t]}),method:"POST"});case 5:return n=e.sent,e.next=8,Object(c.refetchPerfil)(t);case 8:Object(c.errorPerfilesToast)(n,"toma"),setTimeout((function(){qe(!1),a.disabled=!1}),2e3);case 10:case"end":return e.stop()}}),e)})));return function(i,t){return e.apply(this,arguments)}}(),Ve=function(){var e=Object(d.a)(r.a.mark((function e(i,t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return qe(!0),(a=i.currentTarget).disabled=!0,e.next=5,Object(c.customFetch)("/profiles/release",{headers:{"Content-Type":"application/json"},body:JSON.stringify({list_id:[t]}),method:"POST"});case 5:return n=e.sent,e.next=8,Object(c.refetchPerfil)(t);case 8:Object(c.errorPerfilesToast)(n,"liberacion"),setTimeout((function(){qe(!1),a.disabled=!1}),2e3);case 10:case"end":return e.stop()}}),e)})));return function(i,t){return e.apply(this,arguments)}}(),Xe=Object(c.useFilterGraphFilter)();return"success"===_e&&"success"===ke&&be&&xe(!1),Object(v.jsx)(v.Fragment,{children:be?Object(v.jsx)(b.a,{}):Object(v.jsxs)(v.Fragment,{children:[U?Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(T,{children:[Object(v.jsxs)(O,{children:[Object(v.jsxs)(k,{children:["Diamantes",Object(v.jsx)("input",{type:"radio",name:"puntosorservicio",checked:"puntos"===We,onChange:function(){return ze("puntos")}})]}),Object(v.jsxs)(M,{children:["Cantidad",Object(v.jsx)("input",{type:"radio",name:"puntosorservicio",checked:"servicio"===We,onChange:function(){return ze("servicio")}})]})]}),Object(v.jsxs)(S,{children:[Object(v.jsxs)(P,{children:["Bonus",Object(v.jsx)("input",{type:"radio",name:"bonusorwriteoff",checked:"bonus"===Fe,onChange:function(){return Be("bonus")}})]}),Object(v.jsxs)(A,{children:["Writeoff",Object(v.jsx)("input",{type:"radio",name:"bonusorwriteoff",checked:"writeoff"===Fe,onChange:function(){return Be("writeoff")}})]})]}),("bonus"===Fe?c.bonusTypes:c.writeoffTypes).map((function(e,i){var t=e.name,a=e.value;return"todos"===a?null:Object(v.jsx)(x.a,{text:t,checked:Xe["show"+t.replace(/ /g,"")],setChecked:Xe["setShow"+t.replace(/ /g,"")],color:c.contrastingHexColors[i],service:a,filter:Xe,mode:"sm",total:"puntos"===We?Object(c.number_format)((null===Ie||void 0===Ie?void 0:Ie.reduce((function(e,i){var t=i.graphics_data,n=0;return Object.values(null!==t&&void 0!==t?t:{}).forEach((function(e){var i,t;n+=null!==(i=null===e||void 0===e||null===(t=e.points[Fe])||void 0===t?void 0:t[a])&&void 0!==i?i:0})),e+n}),0))/10,2,",","")+"\ud83d\udc8e":Math.floor(null===Ie||void 0===Ie?void 0:Ie.reduce((function(e,i){var t=i.graphics_data,n=0;return Object.values(null!==t&&void 0!==t?t:{}).forEach((function(e){var i,t;n+=null!==(i=null===e||void 0===e||null===(t=e.count[Fe])||void 0===t?void 0:t[a])&&void 0!==i?i:0})),e+n}),0))},t)}))]})}):null,Object(v.jsx)(j,{children:null===Qe||void 0===Qe?void 0:Qe.sort((function(e,i){var t=function(e){var i;return(null===(i=e.operador)||void 0===i?void 0:i.id)===je?2e6:0},a=function(e){return e.libre?1e6:0};return"points"===me?"dia"===F?i.progresoDia+t(i)+a(i)-(e.progresoDia+t(e)+a(e)):i.progresoMes+t(i)+a(i)-(e.progresoMes+t(e)+a(e)):"dialogs.messages:intervals"===me?"dia"===F?i.diaSummary.onlineChat+t(i)+a(i)-(e.diaSummary.onlineChat+t(e)+a(e)):i.mesSummary.onlineChat+t(i)+a(i)-(e.mesSummary.onlineChat+t(e)+a(e)):"dialogs.messages:messages"===me?"dia"===F?i.diaSummary.chatMessage+t(i)+a(i)-(e.diaSummary.chatMessage+t(e)+a(e)):i.mesSummary.chatMessage+t(i)+a(i)-(e.mesSummary.chatMessage+t(e)+a(e)):"dialogs.letters:send"===me?"dia"===F?i.diaSummary.cartasRecibidas+t(i)+a(i)-(e.diaSummary.cartasRecibidas+t(e)+a(e)):i.mesSummary.cartasRecibidas+t(i)+a(i)-(e.mesSummary.cartasRecibidas+t(e)+a(e)):"dialogs.letters:read"===me?"dia"===F?i.diaSummary.cartasEnviadas+t(i)+a(i)-(e.diaSummary.cartasEnviadas+t(e)+a(e)):i.mesSummary.cartasEnviadas+t(i)+a(i)-(e.mesSummary.cartasEnviadas+t(e)+a(e)):"dialogs.attachments"===me?"dia"===F?i.diaSummary.fotos+t(i)+a(i)-(e.diaSummary.fotos+t(e)+a(e)):i.mesSummary.fotos+t(i)+a(i)-(e.mesSummary.fotos+t(e)+a(e)):"cheers"===me?"dia"===F?i.diaSummary.gifs.puntos+t(i)+a(i)-(e.diaSummary.gifs.puntos+t(e)+a(e)):i.mesSummary.gifs.puntos+t(i)+a(i)-(e.mesSummary.gifs.puntos+t(e)+a(e)):"dialogs.media"===me?"dia"===F?i.diaSummary.llamadas+t(i)+a(i)-(e.diaSummary.llamadas+t(e)+a(e)):i.mesSummary.llamadas+t(i)+a(i)-(e.mesSummary.llamadas+t(e)+a(e)):"dialogs.attachments.audio"===me?"dia"===F?i.diaSummary.audios+t(i)+a(i)-(e.diaSummary.audios+t(e)+a(e)):i.mesSummary.audios+t(i)+a(i)-(e.mesSummary.audios+t(e)+a(e)):"listened-message"===me?"dia"===F?i.diaSummary.audio_listened+t(i)+a(i)-(e.diaSummary.audio_listened+t(e)+a(e)):i.mesSummary.audio_listened+t(i)+a(i)-(e.mesSummary.audio_listened+t(e)+a(e)):"received-message"===me?"dia"===F?i.diaSummary.audio_received+t(i)+a(i)-(e.diaSummary.audio_received+t(e)+a(e)):i.mesSummary.audio_received+t(i)+a(i)-(e.mesSummary.audio_received+t(e)+a(e)):"present"===me?"dia"===F?i.diaSummary.presents.puntos+t(i)+a(i)-(e.diaSummary.presents.puntos+t(e)+a(e)):i.mesSummary.presents.puntos+t(i)+a(i)-(e.mesSummary.presents.puntos+t(e)+a(e)):"porcentaje"===me?"dia"===F?(0===i.diaSummary.audio_listened||0===i.diaSummary.SuperBotAudioDeliveries?0:i.diaSummary.audio_listened/i.diaSummary.SuperBotAudioDeliveries*100)+t(i)+a(i)-((0===e.diaSummary.audio_listened||0===e.diaSummary.SuperBotAudioDeliveries?0:e.diaSummary.audio_listened/e.diaSummary.SuperBotAudioDeliveries*100)+t(e)+a(e)):(0===i.mesSummary.audio_listened||0===i.mesSummary.SuperBotAudioDeliveries?0:i.mesSummary.audio_listened/i.mesSummary.SuperBotAudioDeliveries*100)+t(i)+a(i)-((0===e.mesSummary.audio_listened||0===e.mesSummary.SuperBotAudioDeliveries?0:e.mesSummary.audio_listened/e.mesSummary.SuperBotAudioDeliveries*100)+t(e)+a(e)):"dia"===F?i.progresoDia+t(i)+a(i)-(e.progresoDia+t(e)+a(e)):i.progresoMes+t(i)+a(i)-(e.progresoMes+t(e)+a(e))})).map((function(e){for(var i,t,n,o,r,d,s=0,m=0;m<((null===Ae||void 0===Ae?void 0:Ae.length)||-1);m++)if(e.id===+Ae[m].perfilId&&"feeds"===Ae[m].tablename){var l=new Date(Ae[m].timestamp);s=Date.UTC(l.getFullYear(),l.getMonth(),l.getDate(),l.getHours(),l.getMinutes(),l.getSeconds(),l.getMilliseconds());break}return Object(v.jsxs)(u.Fragment,{children:[Object(v.jsx)(g.b,{id:""+e.id,children:He?Object(v.jsx)(b.a,{}):Object(v.jsx)(p.a,Object(a.a)(Object(a.a)({},Object(a.a)(Object(a.a)({},e),{},{contenidos:Y,summary1:e.diaSummary,summary2:e.mesSummary,puntos1:e.progresoDia,puntos2:e.progresoMes,latestFeedTimestamp:s,usarMultasOAvisos:B,setShowModal:q,setDataEntities:Q,typeWidth:N,modeGraphics:U,modeAsig:de,modeTom:se,botLetterLength:e.botLetterLength,graphics_data:{filter:Xe,data:null!==(i=null===Ie||void 0===Ie||null===(t=Ie.find((function(i){return+i.id===+e.id})))||void 0===t?void 0:t.graphics_data)&&void 0!==i?i:[],showPuntosOrServicio:We,showBonusOrWriteoff:Fe},modeResumen:fe,modeAgencia:ge})),{},{tipoEntidad:"perfil"}),e.id)}),+y.a.get("id")!==c.ghostAdminId?Object(v.jsxs)(I,{id:""+e.id,children:["admin"===ve?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(g.c,{onClick:function(){ie(!0),$(e.id)},children:"Configurar"}),Object(v.jsx)(g.c,{onClick:function(){G(!0),E("profile"),W(-1),z(e.id)},children:"Ficha Tecnica"}),Object(v.jsx)(g.c,{onClick:function(){ee(!0),$(e.id)},children:"Configurar Presentes"})]}):null,"admin"!==ve&&e.libre&&!(null===Me||void 0===Me?void 0:Me.pausado)?Object(v.jsx)(g.c,{onClick:function(i){return Ue(i,e.id)},children:"Tomar"}):null,"admin"===ve||(null===(n=e.operador)||void 0===n?void 0:n.id)!==je||(null===Me||void 0===Me?void 0:Me.pausado)?null:Object(v.jsx)(g.c,{onClick:function(i){return Ve(i,e.id)},children:"Liberar"}),(null===(o=e.operador)||void 0===o?void 0:o.id)===je?Object(v.jsx)(g.c,{onClick:function(){G(!0),E("profile"),W(-1),z(e.id)},children:"Ficha Tecnica"}):null,"admin"===ve||"supervisor"===ve||(null===(r=e.operador)||void 0===r?void 0:r.id)===je?Object(v.jsx)(g.c,{onClick:function(){te(!0),$(e.id)},children:"Configurar Token"}):null,"admin"===ve||"supervisor"===ve||(null===(d=e.operador)||void 0===d?void 0:d.id)===je?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(g.c,{onClick:function(){ce(e.id),le(!0)},children:"Clientes Punteados"}),Object(v.jsx)(g.c,{onClick:function(){ne(!0),$(e.id)},children:"Configurar Bot 24"}),Object(v.jsx)(g.c,{onClick:function(){ae(!0),$(e.id)},children:"Configurar Super Bot"}),Object(v.jsx)(g.c,{onClick:function(){ce(e.id),ue(!0)},children:"Reportes"}),Object(v.jsx)(g.c,{onClick:function(){return navigator.clipboard.writeText(e.amolatinaId)},children:"Copiar ID"}),"admin"===ve?Object(v.jsx)(v.Fragment,{children:!0===e.hidden?Object(v.jsx)(g.c,{onClick:function(i){"qaz"===prompt("Ingrese clave")&&Ye(i,e.id,"show")},children:"Mostrar"}):Object(v.jsx)(g.c,{onClick:function(i){"qaz"===prompt("Ingrese clave")&&Ye(i,e.id,"hidden")},children:"Ocultar"})}):null]}):null]}):null]},e.id)}))})]})})}}}]);