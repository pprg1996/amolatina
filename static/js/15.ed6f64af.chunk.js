(this.webpackJsonpivan=this.webpackJsonpivan||[]).push([[15],{110:function(e,t,i){"use strict";var n=i(9),a=i(99),s=i(0),r=i(1),o=Object(s.lazy)((function(){return Promise.all([i.e(0),i.e(11)]).then(i.bind(null,160))}));t.a=function(e){var t=e.id,i=e.nombre,d=e.foto,p=e.puntos1,u=e.puntos2,l=e.summary1,c=e.summary2,m=e.supervisorId,b=e.usarMultasOAvisos,j=e.noModal,f=e.tipoEntidad,O=e.amolatinaId,g=e.metaDia,h=e.metaMes,v=e.latestFeedTimestamp,x=e.fineCount,y=e.fineAlertCount,M=e.online,S=e.mingle,w=e.introductory,C=e.operador,I=e.operadorDePausa,T=e.operadoresAsignadosIds,k=e.missingMingleTimestamp,D=e.offlineTimestamp,A=e.unrepliedLettersTimestamps,F=e.token,_=e.perfiles,z=e.perfilesPausados,P=e.pausado,L=e.typeWidth,E=Object(s.useState)(!1),W=Object(n.a)(E,2),q=W[0],N=W[1];return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("button",{onClick:function(){return N(!0)},children:Object(r.jsx)(a.a,{typeWidth:L,id:t,nombre:i,foto:d,puntos1:p,puntos2:u,summary1:l,summary2:c,tipoEntidad:f,meta1:g,meta2:h,latestFeedTimestamp:v,usarMultasOAvisos:b,fineCount1:null===x||void 0===x?void 0:x.dia,fineAlertCount1:null===y||void 0===y?void 0:y.dia,fineCount2:null===x||void 0===x?void 0:x.mes,fineAlertCount2:null===y||void 0===y?void 0:y.mes,online:M,mingle:S,introductory:w,operador:C,operadorDePausa:I,operadoresAsignadosIds:T,missingMingleTimestamp:k,offlineTimestamp:D,unrepliedLettersTimestamps:A,token:F,perfiles:_,perfilesPausados:z,pausado:P})}),q&&!j?Object(r.jsx)(s.Suspense,{fallback:Object(r.jsx)("div",{children:"Loading..."}),children:Object(r.jsx)(o,{id:t,nombre:i,foto:d,setShowModal:N,supervisorId:m,tipoEntidad:f,amolatinaId:O})}):null]})}},411:function(e,t,i){"use strict";i.r(t);var n,a=i(4),s=i(9),r=i(2),o=i.n(r),d=i(8),p=i(10),u=i(5),l=i(78),c=i(6),m=i(11),b=i(110),j=i(0),f=i(104),O=i(159),g=i(1),h=Object(j.lazy)((function(){return i.e(19).then(i.bind(null,386))})),v=Object(j.lazy)((function(){return i.e(18).then(i.bind(null,387))})),x=u.d.div.withConfig({displayName:"Operadores__OperadoresDiv",componentId:"sc-1pye1q6-0"})([""," "," ",""],Object(u.c)(n||(n=Object(p.a)(["\n    @media (min-width: 2560px) {\n      padding-top: 20px !important;\n      padding-right: 10px !important;\n      padding-left: 16px !important;\n      grid-gap: 32px !important;\n    }\n  "]))),{marginTop:"12px",paddingBottom:"20px",gridTemplateColumns:"repeat(4, minmax(0, 1fr))",display:"grid",alignItems:"flex-start",overflowX:"hidden","@media (min-width: 768px)":{paddingTop:"5px",paddingRight:"2px",paddingLeft:"2px",gap:"8px"},"@media (min-width: 1024px)":{gap:"12px",paddingTop:"10px",paddingRight:"6px"}},l.b),y=function(){var e=Object(d.a)(o.a.mark((function e(t,i){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([Object(c.customFetch)("/feeds/all-operators-summary?tiempo=dia"),Object(c.customFetch)("/feeds/all-operators-summary?tiempo=mes")]);case 2:return n=e.sent,e.abrupt("return",Object(c.renombrarPropiedadesAnidadas)({summaryDia:n[0],summaryMes:n[1]}));case 4:case"end":return e.stop()}}),e)})));return function(t,i){return e.apply(this,arguments)}}(),M=Object(u.d)(O.a).withConfig({displayName:"Operadores___StyledContextMenu",componentId:"sc-1pye1q6-1"})(["@media (min-width:2560px){font-size:1rem !important;}"]),S=Object(u.d)(M).withConfig({displayName:"Operadores___Styled_StyledContextMenu",componentId:"sc-1pye1q6-2"})({"@media (min-width: 768px)":{fontSize:"0.3rem"},"@media (min-width: 1024px)":{fontSize:"0.5rem"},"@media (min-width: 1280px)":{fontSize:"0.7rem"}});t.default=function(e){var t=e.entidadSeleccionadaFeed,i=e.orden,n=e.multasOAvisos,r=e.typeWidth,o=Object(m.d)("operadores",c.fetchOperadores).data,d=Object(m.d)(["feedsSummary"],y).data,p=Object(j.useContext)(f.b),u=Object(j.useState)(!1),l=Object(s.a)(u,2),M=l[0],w=l[1],C=Object(j.useState)(!1),I=Object(s.a)(C,2),T=I[0],k=I[1],D=Object(j.useState)(0),A=Object(s.a)(D,2),F=A[0],_=A[1],z=Object(m.d)(["supervisores"],c.fetchSupervisores).data;return Object(g.jsxs)(x,{children:[null===o||void 0===o?void 0:o.sort((function(e,t){return"dia"===i?t.progresoDia-e.progresoDia:t.progresoMes-e.progresoMes})).map((function(e){if("supervisor"===t.entity){var i=t.ids;if(!i.includes(e.supervisorId)&&!i.includes(e.id)&&!(null!==z&&void 0!==z?z:[]).filter((function(e){return i.includes(e.id)})).map((function(e){return e.substitute})).includes(+e.id))return null}for(var s=0,o=0;o<((null===p||void 0===p?void 0:p.length)||-1);o++){var u;if(e.id===+(null!==(u=p[o].extraUserId)&&void 0!==u?u:p[o].userId)&&"feeds"===p[o].tablename){var l=new Date(p[o].timestamp);s=Date.UTC(l.getFullYear(),l.getMonth(),l.getDate(),l.getHours(),l.getMinutes(),l.getSeconds(),l.getMilliseconds());break}}return Object(g.jsxs)(j.Fragment,{children:[Object(g.jsx)(O.b,{id:""+e.id,children:Object(g.jsx)(b.a,Object(a.a)(Object(a.a)({typeWidth:r},Object(a.a)(Object(a.a)({},e),{},{summary1:null===d||void 0===d?void 0:d.summaryDia[e.id],summary2:null===d||void 0===d?void 0:d.summaryMes[e.id],puntos1:e.progresoDia,puntos2:e.progresoMes,latestFeedTimestamp:s,usarMultasOAvisos:n})),{},{tipoEntidad:"operador"}))}),Object(g.jsxs)(S,{id:""+e.id,children:[Object(g.jsx)(O.c,{onClick:function(){w(!0),_(e.id)},children:"Ver multas"}),Object(g.jsx)(O.c,{onClick:function(){k(!0),_(e.id)},children:"Ver progreso de metas"})]})]},e.id)})),M?Object(g.jsx)(j.Suspense,{fallback:Object(g.jsx)("div",{children:"Loading..."}),children:Object(g.jsx)(h,{operadorId:F,setShowMultasModal:w})}):null,T?Object(g.jsx)(j.Suspense,{fallback:Object(g.jsx)("div",{children:"Loading..."}),children:Object(g.jsx)(v,{operadorId:F,setShowMetasOperadorModal:k})}):null]})}}}]);