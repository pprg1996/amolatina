(this.webpackJsonpivan=this.webpackJsonpivan||[]).push([[27],{660:function(t,i,e){"use strict";e.r(i);var n,a=e(12),d=e(6),o=e(1),r=e.n(o),l=e(8),s=e(5),c=e(91),m=e(0),p=e.n(m),u=e(144),h=e(41),v=e(85),x=e(7),w=e(92),g=e(10),f=e.n(g),b=e(231),j=e(11),y=e(2),_=Object(s.d)(u.a).withConfig({displayName:"ModalListClients__CoronaSvg",componentId:"sc-1sozmlr-0"})(["",""],v.a),O=s.d.span.withConfig({displayName:"ModalListClients__Id",componentId:"sc-1sozmlr-1"})(["@media (min-width:2560px){font-size:0.75rem !important;}@media (min-height:1000px) and (min-width:651px) and (max-width:767px){font-size:0.975rem !important;}@media (min-height:1000px) and (min-width:451px) and (max-width:650px){font-size:0.75rem !important;}@media (min-width:651px) and (max-width:767px) and (max-height:999px){font-size:0.8rem !important;}@media (min-width:401px) and (max-width:650px) and (max-height:999px){font-size:0.7rem !important;}@media (max-width:400px) and (max-height:999px){font-size:0.4rem !important;}",""],{fontSize:"0.35rem","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",width:"8em",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",textAlign:"center","@media (min-width: 1024px)":{fontSize:"0.4rem"},"@media (min-width: 1280px)":{fontSize:"0.5rem"},"@media (min-width: 1536px)":{fontSize:"0.6rem"}}),C=Object(s.d)(O).withConfig({displayName:"ModalListClients___StyledId",componentId:"sc-1sozmlr-2"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(5, 150, 105, var(--tw-bg-opacity))",borderRadius:"1rem",width:"6em"}),z=function(){var t=Object(l.a)(r.a.mark((function t(i,e,n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(x.customFetch)("/profiles/list-clients-day?profileId=".concat(e,"&date=").concat(n));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(i,e,n){return t.apply(this,arguments)}}(),S=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv",componentId:"sc-1sozmlr-3"})({"--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",width:"40vw",height:"85vh",padding:"1.25rem"}),I=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv2",componentId:"sc-1sozmlr-4"})({height:"100%"}),D=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv3",componentId:"sc-1sozmlr-5"})({display:"flex",alignItems:"center",justifyContent:"space-between",gap:"0.5rem",marginTop:"0.5rem",marginBottom:"0.5rem"}),L=Object(s.d)("select").withConfig({displayName:"ModalListClients___StyledSelect",componentId:"sc-1sozmlr-6"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",padding:"0.25rem",borderRadius:"0.25rem"}),M=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv4",componentId:"sc-1sozmlr-7"})({"--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",fontWeight:"700",fontSize:"0.5rem","@media (min-width: 1024px)":{fontSize:"0.95rem"}}),N=Object(s.d)("input").withConfig({displayName:"ModalListClients___StyledInput",componentId:"sc-1sozmlr-8"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",padding:"0.25rem",borderRadius:"0.25rem"}),W=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv5",componentId:"sc-1sozmlr-9"})(["",""],(function(t){return t._css2})),R=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv6",componentId:"sc-1sozmlr-10"})(["",""],(function(t){return t._css3})),k=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv7",componentId:"sc-1sozmlr-11"})({display:"flex",justifyContent:"space-between",paddingTop:"0.5rem",alignItems:"center"}),T=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv8",componentId:"sc-1sozmlr-12"})({display:"flex",gap:"1rem"}),E=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv9",componentId:"sc-1sozmlr-13"})(["",""],(function(t){return t._css4})),F=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv10",componentId:"sc-1sozmlr-14"})({position:"relative",display:"flex"}),P=Object(s.d)("img").withConfig({displayName:"ModalListClients___StyledImg",componentId:"sc-1sozmlr-15"})({width:"4em",height:"4em",borderRadius:"9999px",objectFit:"cover"}),B=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv11",componentId:"sc-1sozmlr-16"})(["",""],(function(t){return t._css5})),H=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv12",componentId:"sc-1sozmlr-17"})({display:"flex",alignItems:"center"}),J=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv13",componentId:"sc-1sozmlr-18"})(["",""],(function(t){return t._css6})),Y=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv14",componentId:"sc-1sozmlr-19"})(["",""],(function(t){return t._css7})),U=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv15",componentId:"sc-1sozmlr-20"})({display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem","@media (min-width: 1024px)":{gap:"0.75rem"}}),A=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv16",componentId:"sc-1sozmlr-21"})({position:"relative",display:"flex"}),Q=Object(s.d)("img").withConfig({displayName:"ModalListClients___StyledImg2",componentId:"sc-1sozmlr-22"})({width:"4em",height:"4em",borderRadius:"9999px",objectFit:"cover"}),X=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv17",componentId:"sc-1sozmlr-23"})({"--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",fontWeight:"700",fontSize:"0.5rem","@media (min-width: 1024px)":{fontSize:"0.95rem"}}),q=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv18",componentId:"sc-1sozmlr-24"})({"--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",fontWeight:"700",fontSize:"0.5rem","@media (min-width: 1024px)":{fontSize:"0.95rem"}}),G=function(t){var i,e,n,a,o,r,l,s,c,m,u,h,v,g,j,z,S,I,D,L,M=t.client,N=t.typeWidth,W=t.useCopyTextOnClickSaveData,G=+f.a.get("id"),K=p.a.useRef(),V=W(K,null===M||void 0===M||null===(i=M.extradata)||void 0===i?void 0:i.amolatina_id,{profile_id:-1,user_id:G,client_id:null===M||void 0===M?void 0:M.client_id,action:"copy"}),Z=null,$=p.a.useState(null),tt=Object(d.a)($,2),it=tt[0],et=tt[1];null===it&&-1!==M.extradata.last_copy.user_id&&(Z=new Date(M.extradata.last_copy.timestamp),et(Date.UTC(Z.getFullYear(),Z.getMonth(),Z.getDate(),Z.getHours(),Z.getMinutes(),Z.getSeconds(),Z.getMilliseconds())));var nt=p.a.useState([]),at=Object(d.a)(nt,2),dt=at[0],ot=at[1],rt=p.a.useState(0),lt=Object(d.a)(rt,2),st=lt[0],ct=lt[1];p.a.useEffect((function(){var t,i;if("md"===N||"sm"===N||""===N)ot(Object(x.organizadorRadial)(_,4,8,11,null!==(t=null===M||void 0===M||null===(i=M.extradata)||void 0===i?void 0:i.crowns)&&void 0!==t?t:0,11.25));else if("lg"===N){var e,n;ot(Object(x.organizadorRadial)(_,5,13,16,null!==(e=null===M||void 0===M||null===(n=M.extradata)||void 0===n?void 0:n.crowns)&&void 0!==e?e:0,11.25))}else if("xl"===N){var a,d;ot(Object(x.organizadorRadial)(_,10,21,27,null!==(a=null===M||void 0===M||null===(d=M.extradata)||void 0===d?void 0:d.crowns)&&void 0!==a?a:0,11.25))}else if("2xl"===N){var o,r;ot(Object(x.organizadorRadial)(_,10,22,28,null!==(o=null===M||void 0===M||null===(r=M.extradata)||void 0===r?void 0:r.crowns)&&void 0!==o?o:0,11.25))}else{var l,s;ot(Object(x.organizadorRadial)(_,12,32,42,null!==(l=null===M||void 0===M||null===(s=M.extradata)||void 0===s?void 0:s.crowns)&&void 0!==l?l:0,11.25))}}),[null===M||void 0===M||null===(e=M.extradata)||void 0===e?void 0:e.crowns,N]),p.a.useEffect((function(){if(it){var t=setInterval((function(){it&&ct(Date.now()-it)}),333);return function(){return clearInterval(t)}}}),[st,it]);var mt=Object(b.a)(st);return Object(y.jsx)(R,{_css3:[{padding:"0.25rem",borderWidth:"2px","--tw-border-opacity":"1",borderColor:"rgba(107, 114, 128, var(--tw-border-opacity))",borderRadius:"20px",alignItems:"center"},"@media (min-width: 2560px) { padding: 1.25rem !important;  }","@media (min-height: 1000px) and (max-width: 767px) { padding: 1.25rem !important; }","@media (max-height: 999px) and (max-width: 767px) { padding: 1.25rem !important; }"],children:Object(y.jsxs)(k,{children:[Object(y.jsxs)(T,{children:[Object(y.jsxs)(E,{ref:K,_css4:[{display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem"},V],children:[Object(y.jsxs)(F,{children:[dt,Object(y.jsx)(P,{src:null!==(n=null===M||void 0===M||null===(a=M.extradata)||void 0===a?void 0:a.photo)&&void 0!==n?n:w.a,onError:function(t){var i=t.currentTarget;i.onerror=null,i.src=w.a},alt:"..."}),Object(y.jsx)(B,{_css5:[{position:"absolute",bottom:"-10px",right:"-7px"},"@media (min-width: 2560px) { bottom: -10px !important; right: -10px !important; }"],children:Object(y.jsx)(H,{children:Object(y.jsx)(J,{_css6:[{display:"flex",justifyContent:"center",gap:"0.125rem","--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))",paddingTop:"0.15rem",paddingBottom:"0.15rem",minWidth:"1rem","@media (min-width: 768px)":{width:"2rem",paddingLeft:"0.25rem",paddingRight:"0.25rem",borderRadius:"0.375rem"},"@media (min-width: 1024px)":{width:"2.9rem",borderRadius:"0.5rem"},"@media (min-width: 1280px)":{borderRadius:"0.75rem"},"@media (min-width: 1536px)":{borderRadius:"1rem"}},"@media (min-width: 2560px) { padding-right: 0.5rem  !important; padding-left: 0.5rem  !important; width: 5rem !important;  }","@media (min-height: 1000px) and (max-width: 767px) { padding-right: 0.5rem  !important; padding-left: 0.5rem  !important; border-radius: 1rem !important; width: 5rem !important; }","@media (max-height: 999px) and (max-width: 767px) { padding-right: 0.5rem  !important; padding-left: 0.5rem  !important; border-radius: 1rem !important; width: 5rem !important; }"],children:Object(y.jsx)(Y,{_css7:[{fontSize:"0.2rem","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))","@media (min-width: 1024px)":{fontSize:"0.25rem"},"@media (min-width: 1280px)":{fontSize:"0.35rem"},"@media (min-width: 1536px)":{fontSize:"0.4rem"}},"@media (min-width: 2560px) { font-size: 0.75rem !important; line-height: 1rem !important; }","@media (min-height: 1000px) and (max-width: 767px) { font-size: 0.75rem !important; line-height: 1rem !important; }","@media (max-height: 999px) and (max-width: 767px) { font-size: 0.375rem !important;  }"],children:(isNaN(Math.round(((new Date).getTime()-new Date(null!==(o=null===M||void 0===M||null===(r=M.extradata)||void 0===r?void 0:r.first_point)&&void 0!==o?o:"").getTime())/864e5))?0:null!==(l=Math.round(((new Date).getTime()-new Date(null!==(s=null===M||void 0===M||null===(c=M.extradata)||void 0===c?void 0:c.first_point)&&void 0!==s?s:"").getTime())/864e5))&&void 0!==l?l:0)+" D"})})})})]}),Object(y.jsx)(O,{title:null===M||void 0===M||null===(m=M.extradata)||void 0===m?void 0:m.name,children:null===M||void 0===M||null===(u=M.extradata)||void 0===u?void 0:u.name})]}),-1!==(null===M||void 0===M||null===(h=M.extradata)||void 0===h||null===(v=h.last_copy)||void 0===v?void 0:v.user_id)?Object(y.jsxs)(U,{children:[Object(y.jsx)(A,{children:Object(y.jsx)(Q,{src:null!==(g=null===M||void 0===M||null===(j=M.extradata)||void 0===j||null===(z=j.last_copy)||void 0===z?void 0:z.photo)&&void 0!==g?g:w.a,onError:function(t){var i=t.currentTarget;i.onerror=null,i.src=w.a},alt:"..."})}),Object(y.jsx)(C,{title:null===M||void 0===M||null===(S=M.extradata)||void 0===S||null===(I=S.last_copy)||void 0===I?void 0:I.name,children:null===M||void 0===M||null===(D=M.extradata)||void 0===D||null===(L=D.last_copy)||void 0===L?void 0:L.name})]}):null]}),"00"!==mt?Object(y.jsxs)(X,{children:["Copiado hace ",mt]}):null,Object(y.jsxs)(q,{children:[null===M||void 0===M?void 0:M.cant," Punteadas"]})]})},"".concat(null===M||void 0===M?void 0:M.client_id))};i.default=function(t){var i=t.setShowListClients,e=t.profileId,o=p.a.useState("30"),m=Object(d.a)(o,2),u=m[0],w=m[1],g=p.a.useState(0),f=Object(d.a)(g,2),b=f[0],_=f[1],O=p.a.useState(""),C=Object(d.a)(O,2),R=C[0],k=C[1],T=function(t,i,e){var d=Object(s.c)(n||(n=Object(a.a)(["\n      cursor: pointer;\n      transition: transform 0.12s linear;\n\n      :hover {\n        transform: translateY(-6px);\n      }\n\n      :active {\n        transform: translateY(3px);\n      }\n    "])));return p.a.useEffect((function(){var n=t.current;if(n){var a=function(){var t=Object(l.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return navigator.clipboard.writeText(i),t.next=3,Object(x.customFetch)("/agency/history",{method:"POST",body:JSON.stringify({profile_id:e.profile_id,user_id:e.user_id,client_id:e.client_id,action:e.action}),headers:{"content-type":"application/json"}});case 3:j.b.invalidateQueries(["clientPointsDay"]),_(b+1);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return n.addEventListener("click",a),function(){return n.removeEventListener("click",a)}}}),[t,i,e]),d},E=Object(j.d)(["clientPointsDay",e,u,b],z),F=E.data,P=E.status,B=p.a.useState(window.innerWidth>=2560?"4k":window.innerWidth>=1536?"2xl":window.innerWidth>=1280?"xl":window.innerWidth>=1024?"lg":window.innerWidth>=768?"md":window.innerWidth<768&&window.innerHeight>=1e3?"4k":"sm"),H=Object(d.a)(B,2),J=H[0],Y=H[1];p.a.useEffect((function(){var t=function(){window.innerWidth>=2560?Y("4k"):window.innerWidth>=1536?Y("2xl"):window.innerWidth>=1280?Y("xl"):window.innerWidth>=1024?Y("lg"):window.innerWidth>=768?Y("md"):window.innerWidth<768&&window.innerHeight>=1e3?Y("4k"):Y("sm")};return window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}}),[]);var U=null===F||void 0===F?void 0:F.filter((function(t){var i,e,n;return null===t||void 0===t||null===(i=t.extradata)||void 0===i||null===(e=i.name)||void 0===e||null===(n=e.toLowerCase())||void 0===n?void 0:n.includes(null===R||void 0===R?void 0:R.toLowerCase())}));return Object(y.jsx)(c.a,{setShowModal:i,children:Object(y.jsx)(S,{children:"loading"===P?Object(y.jsx)(h.a,{}):Object(y.jsxs)(I,{children:[Object(y.jsxs)(D,{children:[Object(y.jsxs)("label",{children:["Ultimos dias:"," ",Object(y.jsxs)(L,{type:"date",value:u,onChange:function(t){return w(t.target.value)},children:[Object(y.jsx)("option",{value:30,children:"30"}),Object(y.jsx)("option",{value:60,children:"60"})]})]}),Object(y.jsxs)(M,{children:[U.length," Clientes"]}),Object(y.jsx)(N,{name:"idInput",placeholder:"Buscar",value:R,onChange:function(t){return k(t.target.value)}})]}),Object(y.jsx)(W,{_css2:[{display:"flex",flexDirection:"column",overflowX:"hidden",height:"90%",width:"100%",padding:"0.5rem",gap:"0.5rem"},v.b],children:U.map((function(t){return Object(y.jsx)(G,{client:t,typeWidth:J,useCopyTextOnClickSaveData:T})}))})]})})})}}}]);