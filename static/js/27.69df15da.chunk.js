(this.webpackJsonpivan=this.webpackJsonpivan||[]).push([[27],{660:function(t,e,i){"use strict";i.r(e);var n,a=i(12),o=i(6),d=i(2),r=i.n(d),l=i(8),s=i(3),c=i(92),m=i(0),p=i.n(m),u=i(145),h=i(41),v=i(86),x=i(7),w=i(93),g=i(10),f=i.n(g),b=i(232),j=i(11),y=i(167),_=i(1),O=Object(s.d)(u.a).withConfig({displayName:"ModalListClients__CoronaSvg",componentId:"sc-1sozmlr-0"})(["",""],v.a),C=function(){var t=Object(l.a)(r.a.mark((function t(e,i){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==i){t.next=2;break}return t.abrupt("return");case 2:return t.t0=x.renombrarPropiedadesAnidadas,t.next=5,Object(x.customFetch)("/clients/info?id=".concat(i));case 5:return t.t1=t.sent.data,t.abrupt("return",(0,t.t0)(t.t1));case 7:case"end":return t.stop()}}),t)})));return function(e,i){return t.apply(this,arguments)}}();function z(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return"".concat(t.getUTCFullYear(),"-").concat(t.getUTCMonth()+1<10?"0".concat(t.getUTCMonth()+1):t.getUTCMonth()+1,"-").concat(t.getUTCDate()<10?"0".concat(t.getUTCDate()):t.getUTCDate())}function S(t,e){return t.setUTCDate(t.getUTCDate()+e),t}var I=s.d.span.withConfig({displayName:"ModalListClients__Id",componentId:"sc-1sozmlr-1"})(["@media (min-width:2560px){font-size:0.75rem !important;}@media (min-height:1000px) and (min-width:651px) and (max-width:767px){font-size:0.975rem !important;}@media (min-height:1000px) and (min-width:451px) and (max-width:650px){font-size:0.75rem !important;}@media (min-width:651px) and (max-width:767px) and (max-height:999px){font-size:0.8rem !important;}@media (min-width:401px) and (max-width:650px) and (max-height:999px){font-size:0.7rem !important;}@media (max-width:400px) and (max-height:999px){font-size:0.4rem !important;}",""],{fontSize:"0.35rem","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",width:"8em",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",textAlign:"center","@media (min-width: 1024px)":{fontSize:"0.4rem"},"@media (min-width: 1280px)":{fontSize:"0.5rem"},"@media (min-width: 1536px)":{fontSize:"0.6rem"}}),D=Object(s.d)(I).withConfig({displayName:"ModalListClients___StyledId",componentId:"sc-1sozmlr-2"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(5, 150, 105, var(--tw-bg-opacity))",borderRadius:"1rem",width:"6em"}),L=function(){var t=Object(l.a)(r.a.mark((function t(e,i,n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(x.customFetch)("/profiles/list-clients-day?profileId=".concat(i,"&date=").concat(n));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,i,n){return t.apply(this,arguments)}}(),M=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv",componentId:"sc-1sozmlr-3"})({"--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",width:"40vw",height:"85vh",padding:"1.25rem"}),N=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv2",componentId:"sc-1sozmlr-4"})({height:"100%"}),T=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv3",componentId:"sc-1sozmlr-5"})({display:"flex",alignItems:"center",justifyContent:"space-between",gap:"0.5rem",marginTop:"0.5rem",marginBottom:"0.5rem"}),W=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv4",componentId:"sc-1sozmlr-6"})({"--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",fontWeight:"700",fontSize:"0.5rem","@media (min-width: 1024px)":{fontSize:"0.95rem"}}),k=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv5",componentId:"sc-1sozmlr-7"})({display:"flex",justifyContent:"center",alignItems:"center",gap:"0.5rem"}),R=Object(s.d)(y.a).withConfig({displayName:"ModalListClients___StyledLeftSvg",componentId:"sc-1sozmlr-8"})({width:"1rem",height:"1rem"}),E=Object(s.d)("input").withConfig({displayName:"ModalListClients___StyledInput",componentId:"sc-1sozmlr-9"})({"--tw-text-opacity":"1",color:"rgba(23, 23, 28, var(--tw-text-opacity))",padding:"0.25rem",borderRadius:"0.25rem"}),U=Object(s.d)(y.a).withConfig({displayName:"ModalListClients___StyledLeftSvg2",componentId:"sc-1sozmlr-10"})({width:"1rem",height:"1rem"}),F=Object(s.d)("input").withConfig({displayName:"ModalListClients___StyledInput2",componentId:"sc-1sozmlr-11"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",padding:"0.25rem",borderRadius:"0.25rem"}),P=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv6",componentId:"sc-1sozmlr-12"})(["",""],(function(t){return t._css2})),H=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv7",componentId:"sc-1sozmlr-13"})(["",""],(function(t){return t._css3})),Y=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv8",componentId:"sc-1sozmlr-14"})({display:"flex",justifyContent:"space-between",paddingTop:"0.5rem",alignItems:"center"}),J=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv9",componentId:"sc-1sozmlr-15"})({position:"relative",display:"flex",width:"100%",minHeight:"60px"}),A=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv10",componentId:"sc-1sozmlr-16"})({display:"flex",gap:"1rem"}),B=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv11",componentId:"sc-1sozmlr-17"})(["",""],(function(t){return t._css4})),X=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv12",componentId:"sc-1sozmlr-18"})({position:"relative",display:"flex"}),q=Object(s.d)("img").withConfig({displayName:"ModalListClients___StyledImg",componentId:"sc-1sozmlr-19"})({width:"4em",height:"4em",borderRadius:"9999px",objectFit:"cover"}),G=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv13",componentId:"sc-1sozmlr-20"})(["",""],(function(t){return t._css5})),K=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv14",componentId:"sc-1sozmlr-21"})(["",""],(function(t){return t._css6})),Q=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv15",componentId:"sc-1sozmlr-22"})(["",""],(function(t){return t._css7})),V=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv16",componentId:"sc-1sozmlr-23"})({display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem","@media (min-width: 1024px)":{gap:"0.75rem"}}),Z=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv17",componentId:"sc-1sozmlr-24"})({position:"relative",display:"flex"}),$=Object(s.d)("img").withConfig({displayName:"ModalListClients___StyledImg2",componentId:"sc-1sozmlr-25"})({width:"4em",height:"4em",borderRadius:"9999px",objectFit:"cover"}),tt=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv18",componentId:"sc-1sozmlr-26"})({"--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",fontWeight:"700",fontSize:"0.5rem","@media (min-width: 1024px)":{fontSize:"0.95rem"}}),et=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv19",componentId:"sc-1sozmlr-27"})({"--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",fontWeight:"700",fontSize:"0.5rem","@media (min-width: 1024px)":{fontSize:"0.95rem"}}),it=function(t){var e,i,d,c,m,u,v,g,y,z,S,L,M=t.client,N=t.typeWidth,T=p.a.useState(0),W=Object(o.a)(T,2),k=W[0],R=W[1],E=Object(j.d)(["cliente-ListC",null===M||void 0===M?void 0:M.client_id,k],C),U=E.data,F=E.status,P=+f.a.get("id"),it=f.a.get("role"),nt=p.a.useRef(),at=function(t,e,i){var o=Object(s.c)(n||(n=Object(a.a)(["\n      cursor: pointer;\n      transition: transform 0.12s linear;\n\n      :hover {\n        transform: translateY(-6px);\n      }\n\n      :active {\n        transform: translateY(3px);\n      }\n    "])));return p.a.useEffect((function(){var n=t.current;if(n){var a=function(){var t=Object(l.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return navigator.clipboard.writeText(e),t.next=3,Object(x.customFetch)("/agency/history",{method:"POST",body:JSON.stringify({profile_id:i.profile_id,user_id:i.user_id,client_id:i.client_id,action:i.action}),headers:{"content-type":"application/json"}});case 3:st(null),R(k+1);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return n.addEventListener("click",a),function(){return n.removeEventListener("click",a)}}}),[t,e,i]),o}(nt,null===M||void 0===M||null===(e=M.extradata)||void 0===e?void 0:e.amolatina_id,{profile_id:-1,user_id:P,client_id:null===M||void 0===M?void 0:M.client_id,action:"copy"}),ot=null,dt=p.a.useState(null),rt=Object(o.a)(dt,2),lt=rt[0],st=rt[1];U&&null===lt&&-1!==U.last_copy.userId&&(ot=new Date(U.last_copy.timestamp),st(Date.UTC(ot.getFullYear(),ot.getMonth(),ot.getDate(),ot.getHours(),ot.getMinutes(),ot.getSeconds(),ot.getMilliseconds())));var ct=p.a.useState([]),mt=Object(o.a)(ct,2),pt=mt[0],ut=mt[1],ht=p.a.useState(0),vt=Object(o.a)(ht,2),xt=vt[0],wt=vt[1];p.a.useEffect((function(){var t,e;if("md"===N||"sm"===N||""===N)ut(Object(x.organizadorRadial)(O,4,8,11,null!==(t=null===M||void 0===M||null===(e=M.extradata)||void 0===e?void 0:e.crowns)&&void 0!==t?t:0,11.25));else if("lg"===N){var i,n;ut(Object(x.organizadorRadial)(O,5,13,16,null!==(i=null===M||void 0===M||null===(n=M.extradata)||void 0===n?void 0:n.crowns)&&void 0!==i?i:0,11.25))}else if("xl"===N){var a,o;ut(Object(x.organizadorRadial)(O,10,21,27,null!==(a=null===M||void 0===M||null===(o=M.extradata)||void 0===o?void 0:o.crowns)&&void 0!==a?a:0,11.25))}else if("2xl"===N){var d,r;ut(Object(x.organizadorRadial)(O,10,22,28,null!==(d=null===M||void 0===M||null===(r=M.extradata)||void 0===r?void 0:r.crowns)&&void 0!==d?d:0,11.25))}else{var l,s;ut(Object(x.organizadorRadial)(O,12,32,42,null!==(l=null===M||void 0===M||null===(s=M.extradata)||void 0===s?void 0:s.crowns)&&void 0!==l?l:0,11.25))}}),[null===M||void 0===M||null===(i=M.extradata)||void 0===i?void 0:i.crowns,N]),p.a.useEffect((function(){if(lt){var t=setInterval((function(){lt&&wt(Date.now()-lt)}),333);return function(){return clearInterval(t)}}}),[xt,lt]);var gt=Object(b.a)(xt);return Object(_.jsx)(H,{_css3:[{padding:"0.25rem",borderWidth:"2px","--tw-border-opacity":"1",borderColor:"rgba(107, 114, 128, var(--tw-border-opacity))",borderRadius:"20px",alignItems:"center"},"@media (min-width: 2560px) { padding: 1.25rem !important;  }","@media (min-height: 1000px) and (max-width: 767px) { padding: 1.25rem !important; }","@media (max-height: 999px) and (max-width: 767px) { padding: 1.25rem !important; }"],children:Object(_.jsx)(Y,{children:"loading"===F?Object(_.jsx)(J,{children:Object(_.jsx)(h.a,{pixelSize:32})}):Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)(A,{children:[Object(_.jsxs)(B,{ref:nt,_css4:[{display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem"},at],children:[Object(_.jsxs)(X,{children:[pt,Object(_.jsx)(q,{src:null!==(d=null===M||void 0===M||null===(c=M.extradata)||void 0===c?void 0:c.photo)&&void 0!==d?d:w.a,onError:function(t){var e=t.currentTarget;e.onerror=null,e.src=w.a},alt:"..."}),Object(_.jsx)(G,{_css5:[{position:"absolute",bottom:"-4px",right:"-4px"},"@media (min-width: 2560px) { bottom: -10px !important; right: -10px !important; }"],children:Object(_.jsxs)(K,{_css6:[{display:"flex",alignItems:"center",justifyContent:"center","--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))",gap:"0.25rem",paddingLeft:"0.25rem",paddingRight:"0.25rem",minWidth:"1rem","@media (min-width: 768px)":{width:"2rem",borderRadius:"0.375rem"},"@media (min-width: 1024px)":{width:"2.9rem",borderRadius:"0.5rem"},"@media (min-width: 1280px)":{borderRadius:"0.75rem"},"@media (min-width: 1536px)":{borderRadius:"1rem"}},"@media (min-width: 2560px) { padding-right: 0.5rem  !important; padding-left: 0.5rem  !important; width: 5rem !important;  }","@media (min-height: 1000px) and (max-width: 767px) { padding-right: 0.5rem  !important; padding-left: 0.5rem  !important; border-radius: 1rem !important; width: 5rem !important; }","@media (max-height: 999px) and (max-width: 767px) { padding-right: 0.5rem  !important; padding-left: 0.5rem  !important; border-radius: 1rem !important; width: 5rem !important; }"],children:[Object(_.jsxs)(Q,{_css7:[{fontSize:"0.2rem","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",fontWeight:"700","@media (min-width: 1024px)":{fontSize:"0.25rem"},"@media (min-width: 1280px)":{fontSize:"0.5rem"},"@media (min-width: 1536px)":{fontSize:"0.5rem"}},"@media (min-width: 2560px) { font-size: 0.75rem !important; line-height: 1rem !important; }","@media (min-height: 1000px) and (max-width: 767px) { font-size: 0.75rem !important; line-height: 1rem !important; }","@media (max-height: 999px) and (max-width: 767px) { font-size: 0.375rem !important;  }"],children:[" ",isNaN(Math.round(((new Date).getTime()-new Date(null!==(m=null===M||void 0===M||null===(u=M.extradata)||void 0===u?void 0:u.first_point)&&void 0!==m?m:"").getTime())/864e5))?0:null!==(v=Math.round(((new Date).getTime()-new Date(null!==(g=null===M||void 0===M||null===(y=M.extradata)||void 0===y?void 0:y.first_point)&&void 0!==g?g:"").getTime())/864e5))&&void 0!==v?v:0]}),Object(_.jsx)(x.FlagPut,{role:it,country:null===M||void 0===M?void 0:M.extradata.country})]})})]}),Object(_.jsx)(I,{title:null===M||void 0===M||null===(z=M.extradata)||void 0===z?void 0:z.name,children:null===M||void 0===M||null===(S=M.extradata)||void 0===S?void 0:S.name})]}),-1!==U.last_copy.userId?Object(_.jsxs)(V,{children:[Object(_.jsx)(Z,{children:Object(_.jsx)($,{src:null!==(L=U.last_copy.foto)&&void 0!==L?L:w.a,onError:function(t){var e=t.currentTarget;e.onerror=null,e.src=w.a},alt:"..."})}),Object(_.jsx)(D,{title:U.last_copy.nombre,children:U.last_copy.nombre})]}):null]}),"00"!==gt?Object(_.jsxs)(tt,{children:["Copiado hace ",gt]}):null,Object(_.jsxs)(et,{children:[null===M||void 0===M?void 0:M.cant," Punteadas"]})]})})},"".concat(null===M||void 0===M?void 0:M.client_id))};e.default=function(t){var e,i=t.setShowListClients,n=t.profileId,a=p.a.useState(z()),d=Object(o.a)(a,2),r=d[0],l=d[1],s=p.a.useState(""),m=Object(o.a)(s,2),u=m[0],h=m[1],x=Object(j.d)(["clientPointsDay",n,r],L),w=x.data,g=(x.status,p.a.useState(window.innerWidth>=2560?"4k":window.innerWidth>=1536?"2xl":window.innerWidth>=1280?"xl":window.innerWidth>=1024?"lg":window.innerWidth>=768?"md":window.innerWidth<768&&window.innerHeight>=1e3?"4k":"sm")),f=Object(o.a)(g,2),b=f[0],y=f[1];p.a.useEffect((function(){var t=function(){window.innerWidth>=2560?y("4k"):window.innerWidth>=1536?y("2xl"):window.innerWidth>=1280?y("xl"):window.innerWidth>=1024?y("lg"):window.innerWidth>=768?y("md"):window.innerWidth<768&&window.innerHeight>=1e3?y("4k"):y("sm")};return window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}}),[]);var O=null===w||void 0===w?void 0:w.filter((function(t){var e,i,n;return null===t||void 0===t||null===(e=t.extradata)||void 0===e||null===(i=e.name)||void 0===i||null===(n=i.toLowerCase())||void 0===n?void 0:n.includes(null===u||void 0===u?void 0:u.toLowerCase())}));return Object(_.jsx)(c.a,{setShowModal:i,children:Object(_.jsx)(M,{children:Object(_.jsxs)(N,{children:[Object(_.jsxs)(T,{children:[Object(_.jsxs)(W,{children:[null!==(e=null===O||void 0===O?void 0:O.length)&&void 0!==e?e:0," Clientes"]}),Object(_.jsxs)(k,{children:[Object(_.jsx)("button",{type:"button",onClick:function(){var t=new Date(r);l(z(S(t,-1)))},children:Object(_.jsx)(R,{transform:"scale(1,1)"})}),Object(_.jsx)("label",{children:Object(_.jsx)(E,{type:"date",value:r,onChange:function(t){l(t.target.value)}})}),Object(_.jsx)("button",{type:"button",onClick:function(){var t=new Date(r);l(z(S(t,1)))},children:Object(_.jsx)(U,{transform:"scale(-1,1)"})})]}),Object(_.jsx)(F,{name:"idInput",placeholder:"Buscar",value:u,onChange:function(t){return h(t.target.value)}})]}),Object(_.jsx)(P,{_css2:[{display:"flex",flexDirection:"column",overflowX:"hidden",height:"90%",width:"100%",padding:"0.5rem",gap:"0.5rem"},v.b],children:null===O||void 0===O?void 0:O.map((function(t){return Object(_.jsx)(it,{client:t,typeWidth:b})}))})]})})})}}}]);