(this.webpackJsonpivan=this.webpackJsonpivan||[]).push([[28],{659:function(e,t,i){"use strict";i.r(t);var n=i(6),r=i(2),o=i.n(r),a=i(8),d=i(3),c=i(92),l=i(0),p=i.n(l),s=i(7),u=i(145),m=i(11),b=i(41),h=i(42),g=i(86),v=i(10),j=i.n(v),f=i(108),x=i(167),w=i(93),y=i(1);function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return"".concat(e.getUTCFullYear(),"-").concat(e.getUTCMonth()+1<10?"0".concat(e.getUTCMonth()+1):e.getUTCMonth()+1,"-").concat(e.getUTCDate()<10?"0".concat(e.getUTCDate()):e.getUTCDate())}var O=Object(d.d)(u.a).withConfig({displayName:"ModalReport__CoronaSvg",componentId:"sc-1p0e5u-0"})(["",""],g.a),C=d.d.span.withConfig({displayName:"ModalReport__Id",componentId:"sc-1p0e5u-1"})(["@media (min-width:2560px){font-size:0.75rem !important;}@media (min-height:1000px) and (min-width:651px) and (max-width:767px){font-size:0.975rem !important;}@media (min-height:1000px) and (min-width:451px) and (max-width:650px){font-size:0.75rem !important;}@media (min-width:651px) and (max-width:767px) and (max-height:999px){font-size:0.8rem !important;}@media (min-width:401px) and (max-width:650px) and (max-height:999px){font-size:0.7rem !important;}@media (max-width:400px) and (max-height:999px){font-size:0.4rem !important;}",""],{fontSize:"0.35rem","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",width:"8em",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",textAlign:"center","@media (min-width: 1024px)":{fontSize:"0.4rem"},"@media (min-width: 1280px)":{fontSize:"0.5rem"},"@media (min-width: 1536px)":{fontSize:"0.6rem"}}),S=Object(d.d)(C).withConfig({displayName:"ModalReport___StyledId",componentId:"sc-1p0e5u-2"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(5, 150, 105, var(--tw-bg-opacity))",borderRadius:"1rem",width:"6em"});function R(e,t){return e.setUTCDate(e.getUTCDate()+t),e}var I=function(){var e=Object(a.a)(o.a.mark((function e(t,i,n,r,a,d,c){var l,p,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=+j.a.get("id"),p=j.a.get("role"),u="supervisor"===p?"&supervisorId=".concat(l):"",1!==a||"admin"!==p){e.next=5;break}return e.abrupt("return",[]);case 5:if(2!==a||"operator"!==p&&"support"!==p){e.next=7;break}return e.abrupt("return",[]);case 7:if(3!==a||"operator"!==p&&"support"!==p||null!==i&&"general"!==c){e.next=9;break}return e.abrupt("return",[]);case 9:return null===r&&(r=_()),e.next=12,Object(s.customFetch)("/operators/list-clients-report?operadorId=".concat(i,"&agencyId=").concat(n,"&date=").concat(r,"&type=").concat(a,"&shift=").concat(d).concat(u));case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e)})));return function(t,i,n,r,o,a,d){return e.apply(this,arguments)}}(),D=function(){var e=Object(a.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.customFetch)("/agency/list");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv",componentId:"sc-1p0e5u-3"})({"--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",width:"95vw",height:"85vh",padding:"1.25rem"}),N=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv2",componentId:"sc-1p0e5u-4"})({display:"flex",justifyContent:"center",marginBottom:"0.5rem"}),W=Object(d.d)(f.a).withConfig({displayName:"ModalReport___StyledToggleGroup",componentId:"sc-1p0e5u-5"})({alignSelf:"center"}),T=Object(d.d)(f.b).withConfig({displayName:"ModalReport___StyledToggleGroupItem",componentId:"sc-1p0e5u-6"})(["",""],(function(e){return e._css})),F=Object(d.d)(f.b).withConfig({displayName:"ModalReport___StyledToggleGroupItem2",componentId:"sc-1p0e5u-7"})(["",""],(function(e){return e._css2})),k=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv3",componentId:"sc-1p0e5u-8"})({height:"100%"}),z=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv4",componentId:"sc-1p0e5u-9"})({display:"flex",alignItems:"center",gap:"0.5rem",marginTop:"0.5rem",marginBottom:"0.5rem"}),E=Object(d.d)("select").withConfig({displayName:"ModalReport___StyledSelect",componentId:"sc-1p0e5u-10"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",padding:"0.25rem",borderRadius:"0.25rem"}),L=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv5",componentId:"sc-1p0e5u-11"})(["",""],(function(e){return e._css3})),U=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv6",componentId:"sc-1p0e5u-12"})({borderWidth:"2px","--tw-border-opacity":"1",borderColor:"rgba(220, 38, 38, var(--tw-border-opacity))",padding:"0.5rem",gap:"0.5rem",borderRadius:"1rem"}),G=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv7",componentId:"sc-1p0e5u-13"})({borderWidth:"2px","--tw-border-opacity":"1",borderColor:"rgba(5, 150, 105, var(--tw-border-opacity))",padding:"0.5rem",gap:"0.5rem",borderRadius:"1rem"}),B=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv8",componentId:"sc-1p0e5u-14"})({display:"flex",alignItems:"center",gap:"0.5rem",marginTop:"0.5rem",marginBottom:"0.5rem"}),H=Object(d.d)(x.a).withConfig({displayName:"ModalReport___StyledLeftSvg",componentId:"sc-1p0e5u-15"})({height:"1.5rem",width:"1.5rem"}),Q=Object(d.d)("select").withConfig({displayName:"ModalReport___StyledSelect2",componentId:"sc-1p0e5u-16"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",padding:"0.25rem",borderRadius:"0.25rem"}),V=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv9",componentId:"sc-1p0e5u-17"})({display:"flex",justifyContent:"center",alignItems:"center",gap:"0.5rem"}),A=Object(d.d)(x.a).withConfig({displayName:"ModalReport___StyledLeftSvg2",componentId:"sc-1p0e5u-18"})({width:"1rem",height:"1rem"}),P=Object(d.d)("input").withConfig({displayName:"ModalReport___StyledInput",componentId:"sc-1p0e5u-19"})({"--tw-text-opacity":"1",color:"rgba(23, 23, 28, var(--tw-text-opacity))",padding:"0.25rem",borderRadius:"0.25rem"}),Y=Object(d.d)(x.a).withConfig({displayName:"ModalReport___StyledLeftSvg3",componentId:"sc-1p0e5u-20"})({width:"1rem",height:"1rem"}),J=Object(d.d)("select").withConfig({displayName:"ModalReport___StyledSelect3",componentId:"sc-1p0e5u-21"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",padding:"0.25rem",borderRadius:"0.25rem"}),X=Object(d.d)("select").withConfig({displayName:"ModalReport___StyledSelect4",componentId:"sc-1p0e5u-22"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",padding:"0.25rem",borderRadius:"0.25rem"}),q=Object(d.d)("select").withConfig({displayName:"ModalReport___StyledSelect5",componentId:"sc-1p0e5u-23"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",padding:"0.25rem",borderRadius:"0.25rem"}),K=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv10",componentId:"sc-1p0e5u-24"})(["",""],(function(e){return e._css4})),Z=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv11",componentId:"sc-1p0e5u-25"})({borderWidth:"2px","--tw-border-opacity":"1",borderColor:"rgba(220, 38, 38, var(--tw-border-opacity))",padding:"0.5rem",gap:"0.5rem",borderRadius:"1rem"}),$=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv12",componentId:"sc-1p0e5u-26"})({borderWidth:"2px","--tw-border-opacity":"1",borderColor:"rgba(5, 150, 105, var(--tw-border-opacity))",padding:"0.5rem",gap:"0.5rem",borderRadius:"1rem"}),ee=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv13",componentId:"sc-1p0e5u-27"})({borderWidth:"2px","--tw-border-opacity":"1",borderColor:"rgba(220, 38, 38, var(--tw-border-opacity))",padding:"0.5rem",gap:"0.5rem",borderRadius:"1rem"}),te=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv14",componentId:"sc-1p0e5u-28"})({borderWidth:"2px","--tw-border-opacity":"1",borderColor:"rgba(5, 150, 105, var(--tw-border-opacity))",padding:"0.5rem",gap:"0.5rem",borderRadius:"1rem"}),ie=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv15",componentId:"sc-1p0e5u-29"})({borderWidth:"2px","--tw-border-opacity":"1",borderColor:"rgba(220, 38, 38, var(--tw-border-opacity))",padding:"0.5rem",gap:"0.5rem",borderRadius:"1rem"}),ne=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv16",componentId:"sc-1p0e5u-30"})({borderWidth:"2px","--tw-border-opacity":"1",borderColor:"rgba(5, 150, 105, var(--tw-border-opacity))",padding:"0.5rem",gap:"0.5rem",borderRadius:"1rem"}),re=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv17",componentId:"sc-1p0e5u-31"})(["",""],(function(e){return e._css5})),oe=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv18",componentId:"sc-1p0e5u-32"})({width:"100%",display:"flex",justifyContent:"flex-end"}),ae=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv19",componentId:"sc-1p0e5u-33"})({display:"flex",justifyContent:"space-between",padding:"0.5rem",alignItems:"center"}),de=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv20",componentId:"sc-1p0e5u-34"})({display:"flex",gap:"0.5rem",paddingRight:"0.75rem"}),ce=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv21",componentId:"sc-1p0e5u-35"})(["",""],(function(e){return e._css6})),le=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv22",componentId:"sc-1p0e5u-36"})({position:"relative",display:"flex"}),pe=Object(d.d)("img").withConfig({displayName:"ModalReport___StyledImg",componentId:"sc-1p0e5u-37"})({width:"4em",height:"4em",borderRadius:"9999px",objectFit:"cover"}),se=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv23",componentId:"sc-1p0e5u-38"})(["",""],(function(e){return e._css7})),ue=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv24",componentId:"sc-1p0e5u-39"})(["",""],(function(e){return e._css8})),me=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv25",componentId:"sc-1p0e5u-40"})(["",""],(function(e){return e._css9})),be=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv26",componentId:"sc-1p0e5u-41"})(["",""],(function(e){return e._css10})),he=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv27",componentId:"sc-1p0e5u-42"})({position:"relative",display:"flex"}),ge=Object(d.d)("img").withConfig({displayName:"ModalReport___StyledImg2",componentId:"sc-1p0e5u-43"})({width:"4em",height:"4em",borderRadius:"9999px",objectFit:"cover"}),ve=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv28",componentId:"sc-1p0e5u-44"})({display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem","@media (min-width: 1024px)":{gap:"0.75rem"}}),je=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv29",componentId:"sc-1p0e5u-45"})({position:"relative",display:"flex"}),fe=Object(d.d)("img").withConfig({displayName:"ModalReport___StyledImg3",componentId:"sc-1p0e5u-46"})({width:"4em",height:"4em",borderRadius:"9999px",objectFit:"cover"}),xe=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv30",componentId:"sc-1p0e5u-47"})({width:"100%",display:"flex",gap:"0.5rem",alignItems:"center",justifyContent:"center",marginTop:"0.25rem"}),we=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv31",componentId:"sc-1p0e5u-48"})({display:"flex",flexDirection:"column",width:"100%",gap:"0.5rem"}),ye=Object(d.d)("textarea").withConfig({displayName:"ModalReport___StyledTextarea",componentId:"sc-1p0e5u-49"})(["",""],(function(e){return e._css11})),_e=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv32",componentId:"sc-1p0e5u-50"})(["",""],(function(e){return e._css12})),Oe=function(e){var t,i,r,d,c,l,u,b,v,f,x=e.client,_=e.setIsLoading,R=e.disabled,I=e.flush,D=e.setFlush,M=e.typeWidth,N=+j.a.get("id"),W=j.a.get("role"),T=p.a.useRef(),F=p.a.useRef(),k=Object(s.useCopyTextOnClick)(T,x.client_amolatina_id),z=Object(s.useCopyTextOnClick)(F,x.profile_amolatina_id),E=p.a.useState(null!==x.cvec_id||!1===x.active?x.cvec_text:""),L=Object(n.a)(E,2),U=L[0],G=L[1],B=p.a.useState([]),H=Object(n.a)(B,2),Q=H[0],V=H[1],A=p.a.useState(!1),P=Object(n.a)(A,2),Y=P[0],J=P[1],X=(f="[object Date]"===Object.prototype.toString.call(new Date(x.timestamp))?isNaN(new Date(x.timestamp))?new Date(x.timestamp):Object(s.converterDateAct)(new Date(x.timestamp)):new Date(x.timestamp)).getHours(),q=f.getDate();q=q<10?"0".concat(q):q;var K=f.getMinutes();K=K<10?"0".concat(K):K;var Z=Object(s.mesDelYear)(f.getMonth()),$=f.getFullYear(),ee=X<12?"am":"pm";return p.a.useEffect((function(){var e,t;if("md"===M||"sm"===M||""===M)V(Object(s.organizadorRadial)(O,4,8,11,null!==(e=null===x||void 0===x||null===(t=x.extradata)||void 0===t?void 0:t.crowns)&&void 0!==e?e:0,11.25));else if("lg"===M){var i,n;V(Object(s.organizadorRadial)(O,5,13,16,null!==(i=null===x||void 0===x||null===(n=x.extradata)||void 0===n?void 0:n.crowns)&&void 0!==i?i:0,11.25))}else if("xl"===M){var r,o;V(Object(s.organizadorRadial)(O,10,21,27,null!==(r=null===x||void 0===x||null===(o=x.extradata)||void 0===o?void 0:o.crowns)&&void 0!==r?r:0,11.25))}else if("2xl"===M){var a,d;V(Object(s.organizadorRadial)(O,10,22,28,null!==(a=null===x||void 0===x||null===(d=x.extradata)||void 0===d?void 0:d.crowns)&&void 0!==a?a:0,11.25))}else{var c,l;V(Object(s.organizadorRadial)(O,12,32,42,null!==(c=null===x||void 0===x||null===(l=x.extradata)||void 0===l?void 0:l.crowns)&&void 0!==c?c:0,11.25))}}),[null===x||void 0===x||null===(t=x.extradata)||void 0===t?void 0:t.crowns,M]),Object(y.jsxs)(re,{_css5:[{padding:"0.5rem",borderWidth:"2px","--tw-border-opacity":"1",borderColor:"rgba(107, 114, 128, var(--tw-border-opacity))",borderRadius:"20px",alignItems:"center"},"@media (min-width: 2560px) { padding: 1.25rem !important;  }","@media (min-height: 1000px) and (max-width: 767px) { padding: 1.25rem !important; }","@media (max-height: 999px) and (max-width: 767px) { padding: 1.25rem !important; }"],children:[null!==x.cvec_id?Object(y.jsxs)(oe,{children:[q," de ",Z," del ",$," - ",X<13?X:X-12,":",K," ",ee]}):null,Object(y.jsxs)(ae,{children:[Object(y.jsxs)(de,{children:[Object(y.jsxs)(ce,{ref:T,_css6:[{display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem","@media (min-width: 1024px)":{gap:"0.75rem"}},k],children:[Object(y.jsxs)(le,{children:[Q,Object(y.jsx)(pe,{src:null!==(i=null===x||void 0===x?void 0:x.client_photo)&&void 0!==i?i:w.a,onError:function(e){var t=e.currentTarget;t.onerror=null,t.src=w.a},alt:"..."}),Object(y.jsx)(se,{_css7:[{position:"absolute",bottom:"-4px",right:"-4px"},"@media (min-width: 2560px) { bottom: -10px !important; right: -10px !important; }"],children:Object(y.jsxs)(ue,{_css8:[{display:"flex",alignItems:"center",justifyContent:"center","--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))",gap:"0.25rem",paddingLeft:"0.25rem",paddingRight:"0.25rem",minWidth:"1rem","@media (min-width: 768px)":{width:"2rem",borderRadius:"0.375rem"},"@media (min-width: 1024px)":{width:"2.9rem",borderRadius:"0.5rem"},"@media (min-width: 1280px)":{borderRadius:"0.75rem"},"@media (min-width: 1536px)":{borderRadius:"1rem"}},"@media (min-width: 2560px) { padding-right: 0.5rem  !important; padding-left: 0.5rem  !important; width: 5rem !important;  }","@media (min-height: 1000px) and (max-width: 767px) { padding-right: 0.5rem  !important; padding-left: 0.5rem  !important; border-radius: 1rem !important; width: 5rem !important; }","@media (max-height: 999px) and (max-width: 767px) { padding-right: 0.5rem  !important; padding-left: 0.5rem  !important; border-radius: 1rem !important; width: 5rem !important; }"],children:[Object(y.jsxs)(me,{_css9:[{fontSize:"0.2rem","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",fontWeight:"700","@media (min-width: 1024px)":{fontSize:"0.25rem"},"@media (min-width: 1280px)":{fontSize:"0.5rem"},"@media (min-width: 1536px)":{fontSize:"0.5rem"}},"@media (min-width: 2560px) { font-size: 0.75rem !important; line-height: 1rem !important; }","@media (min-height: 1000px) and (max-width: 767px) { font-size: 0.75rem !important; line-height: 1rem !important; }","@media (max-height: 999px) and (max-width: 767px) { font-size: 0.375rem !important;  }"],children:[" ",isNaN(Math.round(((new Date).getTime()-new Date(null!==(r=null===x||void 0===x||null===(d=x.extradata)||void 0===d?void 0:d.first_point)&&void 0!==r?r:"").getTime())/864e5))?0:null!==(c=Math.round(((new Date).getTime()-new Date(null!==(l=null===x||void 0===x||null===(u=x.extradata)||void 0===u?void 0:u.first_point)&&void 0!==l?l:"").getTime())/864e5))&&void 0!==c?c:0]}),Object(y.jsx)(s.FlagPut,{role:W,country:null===x||void 0===x?void 0:x.extradata.country})]})})]}),Object(y.jsx)(C,{title:x.client_name,children:x.client_name})]}),Object(y.jsxs)(be,{ref:F,_css10:[{display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem","@media (min-width: 1024px)":{gap:"0.75rem"}},z],children:[Object(y.jsx)(he,{children:Object(y.jsx)(ge,{src:null!==(b=null===x||void 0===x?void 0:x.profile_photo)&&void 0!==b?b:w.a,onError:function(e){var t=e.currentTarget;t.onerror=null,t.src=w.a},alt:"..."})}),Object(y.jsx)(C,{title:x.profile_name,children:x.profile_name})]}),Object(y.jsxs)(ve,{children:[Object(y.jsx)(je,{children:Object(y.jsx)(fe,{src:null!==(v=null===x||void 0===x?void 0:x.user_photo)&&void 0!==v?v:w.a,onError:function(e){var t=e.currentTarget;t.onerror=null,t.src=w.a},alt:"..."})}),Object(y.jsx)(S,{title:x.user_name,children:x.user_name})]})]}),Object(y.jsxs)(xe,{children:[Object(y.jsxs)(we,{children:[Object(y.jsx)(ye,{value:U,onChange:function(e){return G(e.target.value)},placeholder:"Escribe el reporte diario....",disabled:!0===R?"disabled":null,_css11:[{resize:"none",borderRadius:"0.375rem",padding:"0.5rem",width:"100%",flexGrow:"1","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",fontWeight:"700","--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))",borderWidth:"2px",borderColor:"#4c4c3f",height:"100px"},g.b,!0===Y?{borderWidth:"2px","--tw-border-opacity":"1",borderColor:"rgba(220, 38, 38, var(--tw-border-opacity))"}:null]}),Object(y.jsx)(_e,{_css12:[{textAlign:"right"},!0===Y?{"--tw-text-opacity":"1",color:"rgba(239, 68, 68, var(--tw-text-opacity))"}:null],children:150-Object(s.contarCaracteresV1)(U)>0?"Restantes ".concat(150-Object(s.contarCaracteresV1)(U)," caracteres"):null})]}),!1===R?Object(y.jsx)(y.Fragment,{children:null===x.cvec_id?Object(y.jsx)(h.b,{type:"button",onClick:function(e){if(e.preventDefault(),150-Object(s.contarCaracteresV1)(U)>0)return J(!0),!1;J(!1),ze({text:U,type:"client",Id:x.client_id,operator:N,profileId:x.profile_id,editExplicitContent:-1,setIsLoading:_,flush:I,setFlush:D})},primario:!0,children:"Enviar"}):Object(y.jsx)(h.b,{type:"button",onClick:function(e){if(e.preventDefault(),150-Object(s.contarCaracteresV1)(U)>0)return J(!0),!1;J(!1),ze({text:U,type:"client",Id:x.client_id,operator:N,profileId:x.profile_id,editExplicitContent:x.cvec_id,setIsLoading:_,flush:I,setFlush:D})},green:!0,children:"Actualizar"})}):null!==x.cvec_id&&!0===x.active?Object(y.jsx)(h.b,{type:"button",onClick:function(){var e=Object(a.a)(o.a.mark((function e(t){var i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(i=prompt("Ingrese razon de la multa"))){e.next=10;break}return _(!0),e.next=6,Object(s.customFetch)("/operators/fines-report",{headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"desc=".concat(i,"&userId=").concat(N,"&id=").concat(x.cvec_id),method:"POST"});case 6:m.b.invalidateQueries("reportOp-Report"),m.b.invalidateQueries("reportExtra"),m.b.invalidateQueries("reportGeneral"),_(!1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),cancel:!0,children:"Multar"}):null]})]})]},"".concat(x.client_id,"-").concat(x.profile_id,"-").concat(x.user_id))},Ce=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv33",componentId:"sc-1p0e5u-51"})({display:"flex",justifyContent:"space-between",padding:"0.5rem",borderWidth:"2px","--tw-border-opacity":"1",borderColor:"rgba(107, 114, 128, var(--tw-border-opacity))",borderRadius:"20px",alignItems:"center",gap:"0.5rem"}),Se=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv34",componentId:"sc-1p0e5u-52"})({display:"flex",gap:"0.5rem",alignItems:"center",justifyContent:"center"}),Re=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv35",componentId:"sc-1p0e5u-53"})(["",""],(function(e){return e._css13})),Ie=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv36",componentId:"sc-1p0e5u-54"})({position:"relative",display:"flex"}),De=Object(d.d)("img").withConfig({displayName:"ModalReport___StyledImg4",componentId:"sc-1p0e5u-55"})({width:"4em",height:"4em",borderRadius:"9999px",objectFit:"cover"}),Me=Object(d.d)("h1").withConfig({displayName:"ModalReport___StyledH",componentId:"sc-1p0e5u-56"})({fontWeight:"700",fontSize:"1rem"}),Ne=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv37",componentId:"sc-1p0e5u-57"})({"--tw-text-opacity":"1",color:"rgba(59, 130, 246, var(--tw-text-opacity))"}),We=Object(d.d)("h1").withConfig({displayName:"ModalReport___StyledH2",componentId:"sc-1p0e5u-58"})({fontWeight:"700",fontSize:"1rem"}),Te=Object(d.d)("div").withConfig({displayName:"ModalReport___StyledDiv38",componentId:"sc-1p0e5u-59"})({"--tw-text-opacity":"1",color:"rgba(239, 68, 68, var(--tw-text-opacity))"}),Fe=Object(d.d)("h1").withConfig({displayName:"ModalReport___StyledH3",componentId:"sc-1p0e5u-60"})({fontWeight:"700",fontSize:"1rem"}),ke=function(e){var t,i=e.client,n=e.setSelectId,r=e.setFilterStatus,o=e.setSelectShift,a=j.a.get("role"),d=0;return i.clients.forEach((function(e){d+=e.explicitcontent})),Object(y.jsxs)(Ce,{children:[Object(y.jsx)(Se,{children:Object(y.jsxs)(Re,{onClick:function(){"admin"===a&&o(i.user_shift),r("all"),n(i.user_id)},_css13:[{display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem","@media (min-width: 1024px)":{gap:"0.75rem"}},"cursor: pointer; transition: transform 0.12s linear; :hover { transform: translateY(-6px); } :active { transform: translateY(3px); }"],children:[Object(y.jsx)(Ie,{children:Object(y.jsx)(De,{src:null!==(t=null===i||void 0===i?void 0:i.user_photo)&&void 0!==t?t:w.a,onError:function(e){var t=e.currentTarget;t.onerror=null,t.src=w.a},alt:"..."})}),Object(y.jsx)(C,{title:i.user_name,children:i.user_name})]})}),Object(y.jsx)("div",{children:Object(y.jsxs)(Me,{children:["Clientes: ",i.clients.length]})}),Object(y.jsx)(Ne,{children:Object(y.jsxs)(We,{children:["Reportes Realizados: ",d]})}),Object(y.jsx)(Te,{children:Object(y.jsxs)(Fe,{children:["Reportes Faltantes: ",i.clients.length-d]})})]},"".concat(i.user_id))},ze=function(){var e=Object(a.a)(o.a.mark((function e(t){var i,n,r,a,d,c,l,p,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.text,n=t.type,r=t.Id,a=t.operator,d=t.profileId,c=t.editExplicitContent,l=t.setIsLoading,p=t.flush,u=t.setFlush,l(!0),e.prev=2,e.next=5,Object(s.customFetch)("/operators/save-content-explicit",{headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"text=".concat(i,"&type=").concat(n,"&Id=").concat(r,"&operator=").concat(a,"&profileId=").concat(d,"&editExplicitContent=").concat(c),method:"POST"});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:l(!1),m.b.invalidateQueries("reportOp-Report"),m.b.invalidateQueries("reportExtra"),m.b.invalidateQueries("reportGeneral"),u(p+1);case 15:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}();t.default=function(e){var t=e.setShowReport,i=+j.a.get("id"),r=+j.a.get("agency_id"),o=j.a.get("role"),a=Object(m.d)(["agency-report"],D),d=a.data,l=a.status,u=Object(m.d)(["operadores-report"],s.fetchOperadores),h=u.data,v=u.status,f=p.a.useState(1===r?"2":""+r),x=Object(n.a)(f,2),w=x[0],O=x[1],C=p.a.useState(null),S=Object(n.a)(C,2),re=S[0],oe=S[1],ae=p.a.useState("all"),de=Object(n.a)(ae,2),ce=de[0],le=de[1],pe=p.a.useState(_()),se=Object(n.a)(pe,2),ue=se[0],me=se[1],be=p.a.useState(!1),he=Object(n.a)(be,2),ge=he[0],ve=he[1],je=p.a.useState(0),fe=Object(n.a)(je,2),xe=fe[0],we=fe[1],ye=p.a.useState("admin"===o?"all":null),_e=Object(n.a)(ye,2),Ce=_e[0],Se=_e[1],Re=p.a.useState("operator"),Ie=Object(n.a)(Re,2),De=Ie[0],Me=Ie[1];if("admin"!==o&&"success"===v){var Ne,We=null===h||void 0===h||null===(Ne=h.find((function(e){return e.id===i})))||void 0===Ne?void 0:Ne.shift;null===Ce&&Se(We)}var Te=Object(m.d)(["reportOp-Report","admin"!==o?i:null,w,null,1,Ce,De,xe],I),Fe=Te.data,ze=Te.status,Ee=Object(m.d)(["reportGeneral",re,w,ue,2,Ce,De,xe],I),Le=Ee.data,Ue=Ee.status,Ge=Object(m.d)(["reportExtra",re,w,ue,3,Ce,De,xe],I),Be=Ge.data,He=Ge.status,Qe=p.a.useState("admin"===o||"supervisor"===o?"reportes":"diario"),Ve=Object(n.a)(Qe,2),Ae=Ve[0],Pe=Ve[1],Ye=p.a.useState(window.innerWidth>=2560?"4k":window.innerWidth>=1536?"2xl":window.innerWidth>=1280?"xl":window.innerWidth>=1024?"lg":window.innerWidth>=768?"md":window.innerWidth<768&&window.innerHeight>=1e3?"4k":"sm"),Je=Object(n.a)(Ye,2),Xe=Je[0],qe=Je[1];return p.a.useEffect((function(){var e=function(){window.innerWidth>=2560?qe("4k"):window.innerWidth>=1536?qe("2xl"):window.innerWidth>=1280?qe("xl"):window.innerWidth>=1024?qe("lg"):window.innerWidth>=768?qe("md"):window.innerWidth<768&&window.innerHeight>=1e3?qe("4k"):qe("sm")};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),Object(y.jsx)(c.a,{setShowModal:t,children:Object(y.jsx)(M,{children:"loading"===ze||"loading"===l||"loading"===Ue||"loading"===He||"loading"===v||ge?Object(y.jsx)(b.a,{}):Object(y.jsxs)(y.Fragment,{children:["supervisor"===o?Object(y.jsx)(N,{children:Object(y.jsxs)(W,{type:"single",value:Ae,onValueChange:function(e){le("all"),e&&Pe(e)},children:[Object(y.jsx)(T,{value:"diario",_css:[{paddingRight:"0.75rem",paddingTop:"0.5rem",paddingBottom:"0.5rem",paddingLeft:"1rem","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",fontWeight:"700",borderTopLeftRadius:"1rem",borderBottomLeftRadius:"1rem",borderWidth:"1px",borderColor:"#4c4c3f",borderStyle:"solid"},"diario"===Ae?{"--tw-bg-opacity":"1",backgroundColor:"rgba(76, 76, 63, var(--tw-bg-opacity))"}:{"--tw-bg-opacity":"1",backgroundColor:"rgba(31, 31, 38, var(--tw-bg-opacity))"}],children:"Reportes Pendientes"}),Object(y.jsx)(F,{value:"reportes",_css2:[{paddingRight:"1rem",paddingTop:"0.5rem",paddingBottom:"0.5rem",paddingLeft:"0.75rem","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",fontWeight:"700",borderTopRightRadius:"1rem",borderBottomRightRadius:"1rem",borderWidth:"1px",borderColor:"#4c4c3f",borderStyle:"solid"},"reportes"===Ae?{"--tw-bg-opacity":"1",backgroundColor:"rgba(76, 76, 63, var(--tw-bg-opacity))"}:{"--tw-bg-opacity":"1",backgroundColor:"rgba(31, 31, 38, var(--tw-bg-opacity))"}],children:"Supervisados"})]})}):null,"diario"===Ae?Object(y.jsxs)(k,{children:[Object(y.jsx)(z,{children:Object(y.jsxs)("label",{children:["Estado:"," ",Object(y.jsxs)(E,{value:ce,onChange:function(e){le(e.target.value)},children:[Object(y.jsx)("option",{value:"all",children:"Todos"}),Object(y.jsx)("option",{value:"completed",children:"Completados"}),Object(y.jsx)("option",{value:"not-completed",children:"No Completados"})]})]})}),Object(y.jsx)(L,{_css3:[{display:"flex",flexDirection:"column",overflowX:"hidden",height:"90%",width:"100%",padding:"0.5rem",gap:"0.5rem"},g.b],children:Object(y.jsxs)(y.Fragment,{children:[("all"===ce||"not-completed"===ce)&&(null===Fe||void 0===Fe?void 0:Fe.filter((function(e){return null===e.cvec_id||!1===e.active})).length)>0?Object(y.jsx)(U,{children:null===Fe||void 0===Fe?void 0:Fe.filter((function(e){return null===e.cvec_id||!1===e.active})).map((function(e){return Object(y.jsx)(Oe,{client:e,setIsLoading:ve,disabled:!1,flush:xe,setFlush:we,typeWidth:Xe})}))}):null,("all"===ce||"completed"===ce)&&(null===Fe||void 0===Fe?void 0:Fe.filter((function(e){return null!==e.cvec_id&&!0===e.active})).length)>0?Object(y.jsx)(G,{children:null===Fe||void 0===Fe?void 0:Fe.filter((function(e){return null!==e.cvec_id&&!0===e.active})).map((function(e){return Object(y.jsx)(Oe,{client:e,setIsLoading:ve,disabled:!1,flush:xe,setFlush:we,typeWidth:Xe})}))}):null]})})]}):null,"reportes"===Ae?Object(y.jsxs)(y.Fragment,{children:["admin"===o||"supervisor"===o?Object(y.jsxs)(B,{children:[null!==re&&"operator"===De?Object(y.jsx)("button",{type:"button",onClick:function(){"admin"===o&&Se("all"),le("all"),oe(null)},children:Object(y.jsx)(H,{})}):null,1===r&&"admin"===o?Object(y.jsxs)("label",{children:["Agencias:"," ",Object(y.jsx)(Q,{value:w,onChange:function(e){O(e.target.value)},children:d.filter((function(e){return!0===e.isSub})).map((function(e){return Object(y.jsx)("option",{value:e.id,children:e.name})}))})]}):null,Object(y.jsxs)(V,{children:[Object(y.jsx)("button",{type:"button",onClick:function(){var e=new Date(ue);me(_(R(e,-1)))},children:Object(y.jsx)(A,{transform:"scale(1,1)"})}),Object(y.jsx)("label",{children:Object(y.jsx)(P,{type:"date",value:ue,onChange:function(e){return me(e.target.value)}})}),Object(y.jsx)("button",{type:"button",onClick:function(){var e=new Date(ue);me(_(R(e,1)))},children:Object(y.jsx)(Y,{transform:"scale(-1,1)"})})]}),Object(y.jsxs)("label",{children:["Estado:"," ",Object(y.jsxs)(J,{value:ce,onChange:function(e){le(e.target.value)},children:[Object(y.jsx)("option",{value:"all",children:"Todos"}),Object(y.jsx)("option",{value:"completed",children:"Completados"}),Object(y.jsx)("option",{value:"not-completed",children:"No Completados"})]})]}),Object(y.jsxs)("label",{children:["Vista:"," ",Object(y.jsxs)(X,{value:De,onChange:function(e){Me(e.target.value),le("all"),oe(null)},children:[Object(y.jsx)("option",{value:"operator",children:"Por Operadores"}),Object(y.jsx)("option",{value:"general",children:"General"})]})]}),"admin"===o&&null===re?Object(y.jsxs)("label",{children:["Turno:"," ",Object(y.jsxs)(q,{value:Ce,onChange:function(e){Se(e.target.value)},children:[Object(y.jsx)("option",{value:"all",children:"Todos"}),Object(y.jsx)("option",{value:0,children:"Dia"}),Object(y.jsx)("option",{value:2,children:"Tarde"}),Object(y.jsx)("option",{value:1,children:"Noche"})]})]}):null]}):null,Object(y.jsx)(K,{_css4:[{display:"flex",flexDirection:"column",overflowX:"hidden",height:"90%",width:"100%",padding:"0.5rem",gap:"0.5rem"},g.b],children:"operator"===De?Object(y.jsx)(y.Fragment,{children:null===re?Object(y.jsxs)(y.Fragment,{children:[("all"===ce||"not-completed"===ce)&&(null===Le||void 0===Le?void 0:Le.filter((function(e){var t=0;return e.clients.forEach((function(e){t+=e.explicitcontent})),0!==e.clients.length-t})).length)>0?Object(y.jsx)(Z,{children:null===Le||void 0===Le?void 0:Le.filter((function(e){var t=0;return e.clients.forEach((function(e){t+=e.explicitcontent})),0!==e.clients.length-t})).map((function(e){return Object(y.jsx)(ke,{client:e,setSelectId:oe,setFilterStatus:le,setSelectShift:Se})}))}):null,("all"===ce||"completed"===ce)&&(null===Le||void 0===Le?void 0:Le.filter((function(e){var t=0;return e.clients.forEach((function(e){t+=e.explicitcontent})),0===e.clients.length-t})).length)>0?Object(y.jsx)($,{children:null===Le||void 0===Le?void 0:Le.filter((function(e){var t=0;return e.clients.forEach((function(e){t+=e.explicitcontent})),0===e.clients.length-t})).map((function(e){return Object(y.jsx)(ke,{client:e,setSelectId:oe,setFilterStatus:le,setSelectShift:Se})}))}):null]}):Object(y.jsxs)(y.Fragment,{children:[("all"===ce||"not-completed"===ce)&&(null===Be||void 0===Be?void 0:Be.filter((function(e){return null===e.cvec_id||!1===e.active})).length)>0?Object(y.jsx)(ee,{children:null===Be||void 0===Be?void 0:Be.filter((function(e){return null===e.cvec_id||!1===e.active})).map((function(e){return Object(y.jsx)(Oe,{client:e,setIsLoading:ve,disabled:!0,flush:xe,setFlush:we,typeWidth:Xe})}))}):null,("all"===ce||"completed"===ce)&&(null===Be||void 0===Be?void 0:Be.filter((function(e){return null!==e.cvec_id&&!0===e.active})).length)>0?Object(y.jsx)(te,{children:null===Be||void 0===Be?void 0:Be.filter((function(e){return null!==e.cvec_id&&!0===e.active})).map((function(e){return Object(y.jsx)(Oe,{client:e,setIsLoading:ve,disabled:!0,flush:xe,setFlush:we,typeWidth:Xe})}))}):null]})}):Object(y.jsxs)(y.Fragment,{children:[("all"===ce||"not-completed"===ce)&&(null===Be||void 0===Be?void 0:Be.filter((function(e){return null===e.cvec_id||!1===e.active})).length)>0?Object(y.jsx)(ie,{children:null===Be||void 0===Be?void 0:Be.filter((function(e){return null===e.cvec_id||!1===e.active})).map((function(e){return Object(y.jsx)(Oe,{client:e,setIsLoading:ve,disabled:!0,flush:xe,setFlush:we,typeWidth:Xe})}))}):null,("all"===ce||"completed"===ce)&&(null===Be||void 0===Be?void 0:Be.filter((function(e){return null!==e.cvec_id&&!0===e.active})).length)>0?Object(y.jsx)(ne,{children:null===Be||void 0===Be?void 0:Be.filter((function(e){return null!==e.cvec_id&&!0===e.active})).map((function(e){return Object(y.jsx)(Oe,{client:e,setIsLoading:ve,disabled:!0,flush:xe,setFlush:we,typeWidth:Xe})}))}):null]})})]}):null]})})})}}}]);