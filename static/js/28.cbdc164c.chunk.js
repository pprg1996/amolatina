(this.webpackJsonpivan=this.webpackJsonpivan||[]).push([[28],{658:function(e,t,i){"use strict";i.r(t);var n=i(6),o=i(1),r=i.n(o),d=i(8),a=i(5),l=i(91),c=i(0),p=i.n(c),s=i(7),m=i(144),u=i(11),h=i(41),b=i(42),g=i(85),x=i(10),v=i.n(x),f=i(107),j=i(217),w=i(92),_=i(2),y=Object(a.d)(m.a).withConfig({displayName:"ModalReport__CoronaSvg",componentId:"sc-1p0e5u-0"})(["",""],g.a),O=a.d.span.withConfig({displayName:"ModalReport__Id",componentId:"sc-1p0e5u-1"})(["@media (min-width:2560px){font-size:0.75rem !important;}@media (min-height:1000px) and (min-width:651px) and (max-width:767px){font-size:0.975rem !important;}@media (min-height:1000px) and (min-width:451px) and (max-width:650px){font-size:0.75rem !important;}@media (min-width:651px) and (max-width:767px) and (max-height:999px){font-size:0.8rem !important;}@media (min-width:401px) and (max-width:650px) and (max-height:999px){font-size:0.7rem !important;}@media (max-width:400px) and (max-height:999px){font-size:0.4rem !important;}",""],{fontSize:"0.35rem","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",width:"8em",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",textAlign:"center","@media (min-width: 1024px)":{fontSize:"0.4rem"},"@media (min-width: 1280px)":{fontSize:"0.5rem"},"@media (min-width: 1536px)":{fontSize:"0.6rem"}}),C=Object(a.d)(O).withConfig({displayName:"ModalReport___StyledId",componentId:"sc-1p0e5u-2"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(5, 150, 105, var(--tw-bg-opacity))",borderRadius:"1rem",width:"6em"}),R=function(){var e=Object(d.a)(r.a.mark((function e(t,i,n,o,d,a){var l,c,p;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=+v.a.get("id"),c=v.a.get("role"),p="supervisor"===c?"&supervisorId=".concat(l):"",1!==d||"admin"!==c){e.next=5;break}return e.abrupt("return",[]);case 5:if(2!==d||"operator"!==c&&"support"!==c){e.next=7;break}return e.abrupt("return",[]);case 7:if(3!==d||"operator"!==c&&"support"!==c&&null!==i){e.next=9;break}return e.abrupt("return",[]);case 9:return null===o&&(o=Object(s.DateConvert)()),e.next=12,Object(s.customFetch)("/operators/list-clients-report?operadorId=".concat(i,"&agencyId=").concat(n,"&date=").concat(o,"&type=").concat(d,"&shift=").concat(a).concat(p));case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e)})));return function(t,i,n,o,r,d){return e.apply(this,arguments)}}(),S=function(){var e=Object(d.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.customFetch)("/agency/list");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=Object(a.d)("div").withConfig({displayName:"ModalReport___StyledDiv",componentId:"sc-1p0e5u-3"})({"--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",width:"95vw",height:"85vh",padding:"1.25rem"}),N=Object(a.d)("div").withConfig({displayName:"ModalReport___StyledDiv2",componentId:"sc-1p0e5u-4"})({display:"flex",justifyContent:"center",marginBottom:"0.5rem"}),D=Object(a.d)(f.a).withConfig({displayName:"ModalReport___StyledToggleGroup",componentId:"sc-1p0e5u-5"})({alignSelf:"center"}),M=Object(a.d)(f.b).withConfig({displayName:"ModalReport___StyledToggleGroupItem",componentId:"sc-1p0e5u-6"})(["",""],(function(e){return e._css})),W=Object(a.d)(f.b).withConfig({displayName:"ModalReport___StyledToggleGroupItem2",componentId:"sc-1p0e5u-7"})(["",""],(function(e){return e._css2})),z=Object(a.d)("div").withConfig({displayName:"ModalReport___StyledDiv3",componentId:"sc-1p0e5u-8"})({height:"100%"}),T=Object(a.d)("div").withConfig({displayName:"ModalReport___StyledDiv4",componentId:"sc-1p0e5u-9"})({display:"flex",alignItems:"center",gap:"0.5rem",marginTop:"0.5rem",marginBottom:"0.5rem"}),F=Object(a.d)("select").withConfig({displayName:"ModalReport___StyledSelect",componentId:"sc-1p0e5u-10"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",padding:"0.25rem",borderRadius:"0.25rem"}),k=Object(a.d)("div").withConfig({displayName:"ModalReport___StyledDiv5",componentId:"sc-1p0e5u-11"})(["",""],(function(e){return e._css3})),E=Object(a.d)("div").withConfig({displayName:"ModalReport___StyledDiv6",componentId:"sc-1p0e5u-12"})({borderWidth:"2px","--tw-border-opacity":"1",borderColor:"rgba(220, 38, 38, var(--tw-border-opacity))",padding:"0.5rem",gap:"0.5rem",borderRadius:"1rem"}),L=Object(a.d)("div").withConfig({displayName:"ModalReport___StyledDiv7",componentId:"sc-1p0e5u-13"})({borderWidth:"2px","--tw-border-opacity":"1",borderColor:"rgba(5, 150, 105, var(--tw-border-opacity))",padding:"0.5rem",gap:"0.5rem",borderRadius:"1rem"}),B=Object(a.d)("div").withConfig({displayName:"ModalReport___StyledDiv8",componentId:"sc-1p0e5u-14"})({display:"flex",alignItems:"center",gap:"0.5rem",marginTop:"0.5rem",marginBottom:"0.5rem"}),G=Object(a.d)(j.a).withConfig({displayName:"ModalReport___StyledLeftSvg",componentId:"sc-1p0e5u-15"})({height:"1.5rem",width:"1.5rem"}),H=Object(a.d)("select").withConfig({displayName:"ModalReport___StyledSelect2",componentId:"sc-1p0e5u-16"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",padding:"0.25rem",borderRadius:"0.25rem"}),A=Object(a.d)("input").withConfig({displayName:"ModalReport___StyledInput",componentId:"sc-1p0e5u-17"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",padding:"0.25rem",borderRadius:"0.25rem"}),Y=Object(a.d)("select").withConfig({displayName:"ModalReport___StyledSelect3",componentId:"sc-1p0e5u-18"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",padding:"0.25rem",borderRadius:"0.25rem"}),Q=Object(a.d)("select").withConfig({displayName:"ModalReport___StyledSelect4",componentId:"sc-1p0e5u-19"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",padding:"0.25rem",borderRadius:"0.25rem"}),J=Object(a.d)("div").withConfig({displayName:"ModalReport___StyledDiv9",componentId:"sc-1p0e5u-20"})(["",""],(function(e){return e._css4})),P=Object(a.d)("div").withConfig({displayName:"ModalReport___StyledDiv10",componentId:"sc-1p0e5u-21"})({borderWidth:"2px","--tw-border-opacity":"1",borderColor:"rgba(220, 38, 38, var(--tw-border-opacity))",padding:"0.5rem",gap:"0.5rem",borderRadius:"1rem"}),X=Object(a.d)("div").withConfig({displayName:"ModalReport___StyledDiv11",componentId:"sc-1p0e5u-22"})({borderWidth:"2px","--tw-border-opacity":"1",borderColor:"rgba(5, 150, 105, var(--tw-border-opacity))",padding:"0.5rem",gap:"0.5rem",borderRadius:"1rem"}),V=Object(a.d)("div").withConfig({displayName:"ModalReport___StyledDiv12",componentId:"sc-1p0e5u-23"})({borderWidth:"2px","--tw-border-opacity":"1",borderColor:"rgba(220, 38, 38, var(--tw-border-opacity))",padding:"0.5rem",gap:"0.5rem",borderRadius:"1rem"}),q=Object(a.d)("div").withConfig({displayName:"ModalReport___StyledDiv13",componentId:"sc-1p0e5u-24"})({borderWidth:"2px","--tw-border-opacity":"1",borderColor:"rgba(5, 150, 105, var(--tw-border-opacity))",padding:"0.5rem",gap:"0.5rem",borderRadius:"1rem"}),K=Object(a.d)("div").withConfig({displayName:"ModalReport___StyledDiv14",componentId:"sc-1p0e5u-25"})(["",""],(function(e){return e._css5})),U=Object(a.d)("div").withConfig({displayName:"ModalReport___StyledDiv15",componentId:"sc-1p0e5u-26"})({width:"100%",display:"flex",justifyContent:"flex-end"}),Z=Object(a.d)("div").withConfig({displayName:"ModalReport___StyledDiv16",componentId:"sc-1p0e5u-27"})({display:"flex",justifyContent:"space-between",padding:"0.5rem",alignItems:"center"}),$=Object(a.d)("div").withConfig({displayName:"ModalReport___StyledDiv17",componentId:"sc-1p0e5u-28"})({display:"flex",gap:"0.5rem",paddingRight:"0.75rem"}),ee=Object(a.d)("div").withConfig({displayName:"ModalReport___StyledDiv18",componentId:"sc-1p0e5u-29"})(["",""],(function(e){return e._css6})),te=Object(a.d)("div").withConfig({displayName:"ModalReport___StyledDiv19",componentId:"sc-1p0e5u-30"})({position:"relative",display:"flex"}),ie=Object(a.d)("img").withConfig({displayName:"ModalReport___StyledImg",componentId:"sc-1p0e5u-31"})({width:"4em",height:"4em",borderRadius:"9999px",objectFit:"cover"}),ne=Object(a.d)("div").withConfig({displayName:"ModalReport___StyledDiv20",componentId:"sc-1p0e5u-32"})(["",""],(function(e){return e._css7})),oe=Object(a.d)("div").withConfig({displayName:"ModalReport___StyledDiv21",componentId:"sc-1p0e5u-33"})({display:"flex",alignItems:"center"}),re=Object(a.d)("div").withConfig({displayName:"ModalReport___StyledDiv22",componentId:"sc-1p0e5u-34"})(["",""],(function(e){return e._css8})),de=Object(a.d)("div").withConfig({displayName:"ModalReport___StyledDiv23",componentId:"sc-1p0e5u-35"})(["",""],(function(e){return e._css9})),ae=Object(a.d)("div").withConfig({displayName:"ModalReport___StyledDiv24",componentId:"sc-1p0e5u-36"})(["",""],(function(e){return e._css10})),le=Object(a.d)("div").withConfig({displayName:"ModalReport___StyledDiv25",componentId:"sc-1p0e5u-37"})({position:"relative",display:"flex"}),ce=Object(a.d)("img").withConfig({displayName:"ModalReport___StyledImg2",componentId:"sc-1p0e5u-38"})({width:"4em",height:"4em",borderRadius:"9999px",objectFit:"cover"}),pe=Object(a.d)("div").withConfig({displayName:"ModalReport___StyledDiv26",componentId:"sc-1p0e5u-39"})({display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem","@media (min-width: 1024px)":{gap:"0.75rem"}}),se=Object(a.d)("div").withConfig({displayName:"ModalReport___StyledDiv27",componentId:"sc-1p0e5u-40"})({position:"relative",display:"flex"}),me=Object(a.d)("img").withConfig({displayName:"ModalReport___StyledImg3",componentId:"sc-1p0e5u-41"})({width:"4em",height:"4em",borderRadius:"9999px",objectFit:"cover"}),ue=Object(a.d)("div").withConfig({displayName:"ModalReport___StyledDiv28",componentId:"sc-1p0e5u-42"})({width:"100%",display:"flex",gap:"0.5rem",alignItems:"center",justifyContent:"center",marginTop:"0.25rem"}),he=Object(a.d)("div").withConfig({displayName:"ModalReport___StyledDiv29",componentId:"sc-1p0e5u-43"})({display:"flex",flexDirection:"column",width:"100%",gap:"0.5rem"}),be=Object(a.d)("textarea").withConfig({displayName:"ModalReport___StyledTextarea",componentId:"sc-1p0e5u-44"})(["",""],(function(e){return e._css11})),ge=Object(a.d)("div").withConfig({displayName:"ModalReport___StyledDiv30",componentId:"sc-1p0e5u-45"})(["",""],(function(e){return e._css12})),xe=function(e){var t,i,o,r,d,a,l,c,m,u,h=e.client,x=e.setIsLoading,f=e.disabled,j=e.flush,R=e.setFlush,S=e.typeWidth,I=+v.a.get("id"),N=p.a.useRef(),D=p.a.useRef(),M=Object(s.useCopyTextOnClick)(N,h.client_amolatina_id),W=Object(s.useCopyTextOnClick)(D,h.profile_amolatina_id),z=p.a.useState(null!==h.cvec_id?h.cvec_text:""),T=Object(n.a)(z,2),F=T[0],k=T[1],E=p.a.useState([]),L=Object(n.a)(E,2),B=L[0],G=L[1],H=p.a.useState(!1),A=Object(n.a)(H,2),Y=A[0],Q=A[1],J=(u="[object Date]"===Object.prototype.toString.call(new Date(h.timestamp))?isNaN(new Date(h.timestamp))?new Date(h.timestamp):Object(s.converterDateAct)(new Date(h.timestamp)):new Date(h.timestamp)).getHours(),P=u.getDate();P=P<10?"0".concat(P):P;var X=u.getMinutes();X=X<10?"0".concat(X):X;var V=Object(s.mesDelYear)(u.getMonth()),q=u.getFullYear(),xe=J<12?"am":"pm";return p.a.useEffect((function(){var e,t;if("md"===S||"sm"===S||""===S)G(Object(s.organizadorRadial)(y,4,8,11,null!==(e=null===h||void 0===h||null===(t=h.extradata)||void 0===t?void 0:t.crowns)&&void 0!==e?e:0,11.25));else if("lg"===S){var i,n;G(Object(s.organizadorRadial)(y,5,13,16,null!==(i=null===h||void 0===h||null===(n=h.extradata)||void 0===n?void 0:n.crowns)&&void 0!==i?i:0,11.25))}else if("xl"===S){var o,r;G(Object(s.organizadorRadial)(y,10,21,27,null!==(o=null===h||void 0===h||null===(r=h.extradata)||void 0===r?void 0:r.crowns)&&void 0!==o?o:0,11.25))}else if("2xl"===S){var d,a;G(Object(s.organizadorRadial)(y,10,22,28,null!==(d=null===h||void 0===h||null===(a=h.extradata)||void 0===a?void 0:a.crowns)&&void 0!==d?d:0,11.25))}else{var l,c;G(Object(s.organizadorRadial)(y,12,32,42,null!==(l=null===h||void 0===h||null===(c=h.extradata)||void 0===c?void 0:c.crowns)&&void 0!==l?l:0,11.25))}}),[null===h||void 0===h||null===(t=h.extradata)||void 0===t?void 0:t.crowns,S]),Object(_.jsxs)(K,{_css5:[{padding:"0.5rem",borderWidth:"2px","--tw-border-opacity":"1",borderColor:"rgba(107, 114, 128, var(--tw-border-opacity))",borderRadius:"20px",alignItems:"center"},"@media (min-width: 2560px) { padding: 1.25rem !important;  }","@media (min-height: 1000px) and (max-width: 767px) { padding: 1.25rem !important; }","@media (max-height: 999px) and (max-width: 767px) { padding: 1.25rem !important; }"],children:[null!==h.cvec_id?Object(_.jsxs)(U,{children:[P," de ",V," del ",q," - ",J<13?J:J-12,":",X," ",xe]}):null,Object(_.jsxs)(Z,{children:[Object(_.jsxs)($,{children:[Object(_.jsxs)(ee,{ref:N,_css6:[{display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem","@media (min-width: 1024px)":{gap:"0.75rem"}},M],children:[Object(_.jsxs)(te,{children:[B,Object(_.jsx)(ie,{src:null!==(i=null===h||void 0===h?void 0:h.client_photo)&&void 0!==i?i:w.a,onError:function(e){var t=e.currentTarget;t.onerror=null,t.src=w.a},alt:"..."}),Object(_.jsx)(ne,{_css7:[{position:"absolute",bottom:"-10px",right:"-7px"},"@media (min-width: 2560px) { bottom: -10px !important; right: -10px !important; }"],children:Object(_.jsx)(oe,{children:Object(_.jsx)(re,{_css8:[{display:"flex",justifyContent:"center",gap:"0.125rem","--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))",paddingTop:"0.15rem",paddingBottom:"0.15rem",minWidth:"1rem","@media (min-width: 768px)":{width:"2rem",paddingLeft:"0.25rem",paddingRight:"0.25rem",borderRadius:"0.375rem"},"@media (min-width: 1024px)":{width:"2.9rem",borderRadius:"0.5rem"},"@media (min-width: 1280px)":{borderRadius:"0.75rem"},"@media (min-width: 1536px)":{borderRadius:"1rem"}},"@media (min-width: 2560px) { padding-right: 0.5rem  !important; padding-left: 0.5rem  !important; width: 5rem !important;  }","@media (min-height: 1000px) and (max-width: 767px) { padding-right: 0.5rem  !important; padding-left: 0.5rem  !important; border-radius: 1rem !important; width: 5rem !important; }","@media (max-height: 999px) and (max-width: 767px) { padding-right: 0.5rem  !important; padding-left: 0.5rem  !important; border-radius: 1rem !important; width: 5rem !important; }"],children:Object(_.jsx)(de,{_css9:[{fontSize:"0.2rem","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))","@media (min-width: 1024px)":{fontSize:"0.25rem"},"@media (min-width: 1280px)":{fontSize:"0.35rem"},"@media (min-width: 1536px)":{fontSize:"0.4rem"}},"@media (min-width: 2560px) { font-size: 0.75rem !important; line-height: 1rem !important; }","@media (min-height: 1000px) and (max-width: 767px) { font-size: 0.75rem !important; line-height: 1rem !important; }","@media (max-height: 999px) and (max-width: 767px) { font-size: 0.375rem !important;  }"],children:(isNaN(Math.round(((new Date).getTime()-new Date(null!==(o=null===h||void 0===h||null===(r=h.extradata)||void 0===r?void 0:r.first_point)&&void 0!==o?o:"").getTime())/864e5))?0:null!==(d=Math.round(((new Date).getTime()-new Date(null!==(a=null===h||void 0===h||null===(l=h.extradata)||void 0===l?void 0:l.first_point)&&void 0!==a?a:"").getTime())/864e5))&&void 0!==d?d:0)+" D"})})})})]}),Object(_.jsx)(O,{title:h.client_name,children:h.client_name})]}),Object(_.jsxs)(ae,{ref:D,_css10:[{display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem","@media (min-width: 1024px)":{gap:"0.75rem"}},W],children:[Object(_.jsx)(le,{children:Object(_.jsx)(ce,{src:null!==(c=null===h||void 0===h?void 0:h.profile_photo)&&void 0!==c?c:w.a,onError:function(e){var t=e.currentTarget;t.onerror=null,t.src=w.a},alt:"..."})}),Object(_.jsx)(O,{title:h.profile_name,children:h.profile_name})]}),Object(_.jsxs)(pe,{children:[Object(_.jsx)(se,{children:Object(_.jsx)(me,{src:null!==(m=null===h||void 0===h?void 0:h.user_photo)&&void 0!==m?m:w.a,onError:function(e){var t=e.currentTarget;t.onerror=null,t.src=w.a},alt:"..."})}),Object(_.jsx)(C,{title:h.user_name,children:h.user_name})]})]}),Object(_.jsxs)(ue,{children:[Object(_.jsxs)(he,{children:[Object(_.jsx)(be,{value:F,onChange:function(e){return k(e.target.value)},placeholder:"Escribe el reporte diario....",disabled:!0===f?"disabled":null,_css11:[{resize:"none",borderRadius:"0.375rem",padding:"0.5rem",width:"100%",flexGrow:"1","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",fontWeight:"700","--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))",borderWidth:"2px",borderColor:"#4c4c3f",height:"100px"},g.b,!0===Y?{borderWidth:"2px","--tw-border-opacity":"1",borderColor:"rgba(220, 38, 38, var(--tw-border-opacity))"}:null]}),Object(_.jsx)(ge,{_css12:[{textAlign:"right"},!0===Y?{"--tw-text-opacity":"1",color:"rgba(239, 68, 68, var(--tw-text-opacity))"}:null],children:150-String(F).trim().length>0?"Restantes ".concat(150-String(F).trim().length," caracteres"):null})]}),!1===f?Object(_.jsx)(_.Fragment,{children:null===h.cvec_id?Object(_.jsx)(b.b,{type:"button",onClick:function(e){if(e.preventDefault(),150-String(F).trim().length>0)return Q(!0),!1;Q(!1),Ne({text:F,type:"client",Id:h.client_id,operator:I,profileId:h.profile_id,editExplicitContent:-1,setIsLoading:x,flush:j,setFlush:R})},primario:!0,children:"Enviar"}):Object(_.jsx)(b.b,{type:"button",onClick:function(e){if(e.preventDefault(),150-String(F).trim().length>0)return Q(!0),!1;Q(!1),Ne({text:F,type:"client",Id:h.client_id,operator:I,profileId:h.profile_id,editExplicitContent:h.cvec_id,setIsLoading:x,flush:j,setFlush:R})},green:!0,children:"Actualizar"})}):null]})]})]},"".concat(h.client_id,"-").concat(h.profile_id,"-").concat(h.user_id))},ve=Object(a.d)("div").withConfig({displayName:"ModalReport___StyledDiv31",componentId:"sc-1p0e5u-46"})({display:"flex",justifyContent:"space-between",padding:"0.5rem",borderWidth:"2px","--tw-border-opacity":"1",borderColor:"rgba(107, 114, 128, var(--tw-border-opacity))",borderRadius:"20px",alignItems:"center",gap:"0.5rem"}),fe=Object(a.d)("div").withConfig({displayName:"ModalReport___StyledDiv32",componentId:"sc-1p0e5u-47"})({display:"flex",gap:"0.5rem",alignItems:"center",justifyContent:"center"}),je=Object(a.d)("div").withConfig({displayName:"ModalReport___StyledDiv33",componentId:"sc-1p0e5u-48"})(["",""],(function(e){return e._css13})),we=Object(a.d)("div").withConfig({displayName:"ModalReport___StyledDiv34",componentId:"sc-1p0e5u-49"})({position:"relative",display:"flex"}),_e=Object(a.d)("img").withConfig({displayName:"ModalReport___StyledImg4",componentId:"sc-1p0e5u-50"})({width:"4em",height:"4em",borderRadius:"9999px",objectFit:"cover"}),ye=Object(a.d)("h1").withConfig({displayName:"ModalReport___StyledH",componentId:"sc-1p0e5u-51"})({fontWeight:"700",fontSize:"1rem"}),Oe=Object(a.d)("div").withConfig({displayName:"ModalReport___StyledDiv35",componentId:"sc-1p0e5u-52"})({"--tw-text-opacity":"1",color:"rgba(59, 130, 246, var(--tw-text-opacity))"}),Ce=Object(a.d)("h1").withConfig({displayName:"ModalReport___StyledH2",componentId:"sc-1p0e5u-53"})({fontWeight:"700",fontSize:"1rem"}),Re=Object(a.d)("div").withConfig({displayName:"ModalReport___StyledDiv36",componentId:"sc-1p0e5u-54"})({"--tw-text-opacity":"1",color:"rgba(239, 68, 68, var(--tw-text-opacity))"}),Se=Object(a.d)("h1").withConfig({displayName:"ModalReport___StyledH3",componentId:"sc-1p0e5u-55"})({fontWeight:"700",fontSize:"1rem"}),Ie=function(e){var t,i=e.client,n=e.setSelectId,o=e.setFilterStatus,r=0;return i.clients.forEach((function(e){r+=e.explicitcontent})),Object(_.jsxs)(ve,{children:[Object(_.jsx)(fe,{children:Object(_.jsxs)(je,{onClick:function(){o("all"),n(i.user_id)},_css13:[{display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem","@media (min-width: 1024px)":{gap:"0.75rem"}},"cursor: pointer; transition: transform 0.12s linear; :hover { transform: translateY(-6px); } :active { transform: translateY(3px); }"],children:[Object(_.jsx)(we,{children:Object(_.jsx)(_e,{src:null!==(t=null===i||void 0===i?void 0:i.user_photo)&&void 0!==t?t:w.a,onError:function(e){var t=e.currentTarget;t.onerror=null,t.src=w.a},alt:"..."})}),Object(_.jsx)(O,{title:i.user_name,children:i.user_name})]})}),Object(_.jsx)("div",{children:Object(_.jsxs)(ye,{children:["Clientes: ",i.clients.length]})}),Object(_.jsx)(Oe,{children:Object(_.jsxs)(Ce,{children:["Reportes Realizados: ",r]})}),Object(_.jsx)(Re,{children:Object(_.jsxs)(Se,{children:["Reportes Faltantes: ",i.clients.length-r]})})]},"".concat(i.user_id))},Ne=function(){var e=Object(d.a)(r.a.mark((function e(t){var i,n,o,d,a,l,c,p,m;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.text,n=t.type,o=t.Id,d=t.operator,a=t.profileId,l=t.editExplicitContent,c=t.setIsLoading,p=t.flush,m=t.setFlush,c(!0),e.prev=2,e.next=5,Object(s.customFetch)("/operators/save-content-explicit",{headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"text=".concat(i,"&type=").concat(n,"&Id=").concat(o,"&operator=").concat(d,"&profileId=").concat(a,"&editExplicitContent=").concat(l),method:"POST"});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:c(!1),u.b.invalidateQueries("reportOp-Report"),u.b.invalidateQueries("reportExtra"),u.b.invalidateQueries("reportGeneral"),m(p+1);case 15:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}();t.default=function(e){var t=e.setShowReport,i=+v.a.get("id"),o=+v.a.get("agency_id"),r=v.a.get("role"),d=Object(u.d)(["agency-report"],S),a=d.data,c=d.status,m=Object(u.d)(["operadores-report"],s.fetchOperadores),b=m.data,x=m.status,f=p.a.useState(1===o?"2":""+o),j=Object(n.a)(f,2),w=j[0],y=j[1],O=p.a.useState(null),C=Object(n.a)(O,2),K=C[0],U=C[1],Z=p.a.useState("all"),$=Object(n.a)(Z,2),ee=$[0],te=$[1],ie=p.a.useState(Object(s.DateConvert)()),ne=Object(n.a)(ie,2),oe=ne[0],re=ne[1],de=p.a.useState(!1),ae=Object(n.a)(de,2),le=ae[0],ce=ae[1],pe=p.a.useState(0),se=Object(n.a)(pe,2),me=se[0],ue=se[1],he=p.a.useState("admin"===r?0:null),be=Object(n.a)(he,2),ge=be[0],ve=be[1];if("admin"!==r&&"success"===x){var fe,je=null===b||void 0===b||null===(fe=b.find((function(e){return e.id===i})))||void 0===fe?void 0:fe.shift;null===ge&&ve(je)}var we=Object(u.d)(["reportOp-Report","admin"!==r?i:null,w,null,1,ge,me],R),_e=we.data,ye=we.status,Oe=Object(u.d)(["reportGeneral",K,w,oe,2,ge,me],R),Ce=Oe.data,Re=Oe.status,Se=Object(u.d)(["reportExtra",K,w,oe,3,ge,me],R),Ne=Se.data,De=Se.status,Me=p.a.useState("admin"===r||"supervisor"===r?"reportes":"diario"),We=Object(n.a)(Me,2),ze=We[0],Te=We[1],Fe=p.a.useState(window.innerWidth>=2560?"4k":window.innerWidth>=1536?"2xl":window.innerWidth>=1280?"xl":window.innerWidth>=1024?"lg":window.innerWidth>=768?"md":window.innerWidth<768&&window.innerHeight>=1e3?"4k":"sm"),ke=Object(n.a)(Fe,2),Ee=ke[0],Le=ke[1];return p.a.useEffect((function(){var e=function(){window.innerWidth>=2560?Le("4k"):window.innerWidth>=1536?Le("2xl"):window.innerWidth>=1280?Le("xl"):window.innerWidth>=1024?Le("lg"):window.innerWidth>=768?Le("md"):window.innerWidth<768&&window.innerHeight>=1e3?Le("4k"):Le("sm")};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),Object(_.jsx)(l.a,{setShowModal:t,children:Object(_.jsx)(I,{children:"loading"===ye||"loading"===c||"loading"===Re||"loading"===De||"loading"===x||le?Object(_.jsx)(h.a,{}):Object(_.jsxs)(_.Fragment,{children:["supervisor"===r?Object(_.jsx)(N,{children:Object(_.jsxs)(D,{type:"single",value:ze,onValueChange:function(e){te("all"),e&&Te(e)},children:[Object(_.jsx)(M,{value:"diario",_css:[{paddingRight:"0.75rem",paddingTop:"0.5rem",paddingBottom:"0.5rem",paddingLeft:"1rem","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",fontWeight:"700",borderTopLeftRadius:"1rem",borderBottomLeftRadius:"1rem",borderWidth:"1px",borderColor:"#4c4c3f",borderStyle:"solid"},"diario"===ze?{"--tw-bg-opacity":"1",backgroundColor:"rgba(76, 76, 63, var(--tw-bg-opacity))"}:{"--tw-bg-opacity":"1",backgroundColor:"rgba(31, 31, 38, var(--tw-bg-opacity))"}],children:"Reportes Pendientes"}),Object(_.jsx)(W,{value:"reportes",_css2:[{paddingRight:"1rem",paddingTop:"0.5rem",paddingBottom:"0.5rem",paddingLeft:"0.75rem","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",fontWeight:"700",borderTopRightRadius:"1rem",borderBottomRightRadius:"1rem",borderWidth:"1px",borderColor:"#4c4c3f",borderStyle:"solid"},"reportes"===ze?{"--tw-bg-opacity":"1",backgroundColor:"rgba(76, 76, 63, var(--tw-bg-opacity))"}:{"--tw-bg-opacity":"1",backgroundColor:"rgba(31, 31, 38, var(--tw-bg-opacity))"}],children:"Supervisados"})]})}):null,"diario"===ze?Object(_.jsxs)(z,{children:[Object(_.jsx)(T,{children:Object(_.jsxs)("label",{children:["Estado:"," ",Object(_.jsxs)(F,{value:ee,onChange:function(e){te(e.target.value)},children:[Object(_.jsx)("option",{value:"all",children:"Todos"}),Object(_.jsx)("option",{value:"completed",children:"Completados"}),Object(_.jsx)("option",{value:"not-completed",children:"No Completados"})]})]})}),Object(_.jsx)(k,{_css3:[{display:"flex",flexDirection:"column",overflowX:"hidden",height:"90%",width:"100%",padding:"0.5rem",gap:"0.5rem"},g.b],children:Object(_.jsxs)(_.Fragment,{children:[("all"===ee||"not-completed"===ee)&&(null===_e||void 0===_e?void 0:_e.filter((function(e){return null===e.cvec_id})).length)>0?Object(_.jsx)(E,{children:null===_e||void 0===_e?void 0:_e.filter((function(e){return null===e.cvec_id})).map((function(e){return Object(_.jsx)(xe,{client:e,setIsLoading:ce,disabled:!1,flush:me,setFlush:ue,typeWidth:Ee})}))}):null,("all"===ee||"completed"===ee)&&(null===_e||void 0===_e?void 0:_e.filter((function(e){return null!==e.cvec_id})).length)>0?Object(_.jsx)(L,{children:null===_e||void 0===_e?void 0:_e.filter((function(e){return null!==e.cvec_id})).map((function(e){return Object(_.jsx)(xe,{client:e,setIsLoading:ce,disabled:!1,flush:me,setFlush:ue,typeWidth:Ee})}))}):null]})})]}):null,"reportes"===ze?Object(_.jsxs)(_.Fragment,{children:["admin"===r||"supervisor"===r?Object(_.jsxs)(B,{children:[null!==K?Object(_.jsx)("button",{type:"button",onClick:function(){te("all"),U(null)},children:Object(_.jsx)(G,{})}):null,1===o&&"admin"===r?Object(_.jsxs)("label",{children:["Agencias:"," ",Object(_.jsx)(H,{value:w,onChange:function(e){y(e.target.value)},children:a.filter((function(e){return!0===e.isSub})).map((function(e){return Object(_.jsx)("option",{value:e.id,children:e.name})}))})]}):null,Object(_.jsxs)("label",{children:["Fecha:"," ",Object(_.jsx)(A,{type:"date",value:oe,onChange:function(e){return re(e.target.value)}})]}),Object(_.jsxs)("label",{children:["Estado:"," ",Object(_.jsxs)(Y,{value:ee,onChange:function(e){te(e.target.value)},children:[Object(_.jsx)("option",{value:"all",children:"Todos"}),Object(_.jsx)("option",{value:"completed",children:"Completados"}),Object(_.jsx)("option",{value:"not-completed",children:"No Completados"})]})]}),"admin"===r?Object(_.jsxs)("label",{children:["Turno:"," ",Object(_.jsxs)(Q,{value:ge,onChange:function(e){ve(e.target.value)},children:[Object(_.jsx)("option",{value:0,children:"Dia"}),Object(_.jsx)("option",{value:2,children:"Tarde"}),Object(_.jsx)("option",{value:1,children:"Noche"})]})]}):null]}):null,Object(_.jsx)(J,{_css4:[{display:"flex",flexDirection:"column",overflowX:"hidden",height:"90%",width:"100%",padding:"0.5rem",gap:"0.5rem"},g.b],children:null===K?Object(_.jsxs)(_.Fragment,{children:[("all"===ee||"not-completed"===ee)&&(null===Ce||void 0===Ce?void 0:Ce.filter((function(e){var t=0;return e.clients.forEach((function(e){t+=e.explicitcontent})),0!==e.clients.length-t})).length)>0?Object(_.jsx)(P,{children:null===Ce||void 0===Ce?void 0:Ce.filter((function(e){var t=0;return e.clients.forEach((function(e){t+=e.explicitcontent})),0!==e.clients.length-t})).map((function(e){return Object(_.jsx)(Ie,{client:e,setSelectId:U,setFilterStatus:te})}))}):null,("all"===ee||"completed"===ee)&&(null===Ce||void 0===Ce?void 0:Ce.filter((function(e){var t=0;return e.clients.forEach((function(e){t+=e.explicitcontent})),0===e.clients.length-t})).length)>0?Object(_.jsx)(X,{children:null===Ce||void 0===Ce?void 0:Ce.filter((function(e){var t=0;return e.clients.forEach((function(e){t+=e.explicitcontent})),0===e.clients.length-t})).map((function(e){return Object(_.jsx)(Ie,{client:e,setSelectId:U,setFilterStatus:te})}))}):null]}):Object(_.jsxs)(_.Fragment,{children:[("all"===ee||"not-completed"===ee)&&(null===Ne||void 0===Ne?void 0:Ne.filter((function(e){return null===e.cvec_id})).length)>0?Object(_.jsx)(V,{children:null===Ne||void 0===Ne?void 0:Ne.filter((function(e){return null===e.cvec_id})).map((function(e){return Object(_.jsx)(xe,{client:e,setIsLoading:ce,disabled:!0,flush:me,setFlush:ue,typeWidth:Ee})}))}):null,("all"===ee||"completed"===ee)&&(null===Ne||void 0===Ne?void 0:Ne.filter((function(e){return null!==e.cvec_id})).length)>0?Object(_.jsx)(q,{children:null===Ne||void 0===Ne?void 0:Ne.filter((function(e){return null!==e.cvec_id})).map((function(e){return Object(_.jsx)(xe,{client:e,setIsLoading:ce,disabled:!0,flush:me,setFlush:ue,typeWidth:Ee})}))}):null]})})]}):null]})})})}}}]);