(this.webpackJsonpivan=this.webpackJsonpivan||[]).push([[19],{218:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var i,r,n,o,c,d=a(0),p=["title","titleId"];function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},s.apply(this,arguments)}function l(e,t){if(null==e)return{};var a,i,r=function(e,t){if(null==e)return{};var a,i,r={},n=Object.keys(e);for(i=0;i<n.length;i++)a=n[i],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)a=n[i],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function m(e,t){var a=e.title,m=e.titleId,u=l(e,p);return d.createElement("svg",s({id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 1023.6 1023.6",style:{enableBackground:"new 0 0 1023.6 1023.6"},xmlSpace:"preserve",ref:t,"aria-labelledby":m},u),a?d.createElement("title",{id:m},a):null,i||(i=d.createElement("style",{type:"text/css"},"\n\t.st0{fill:#17171C;}\n\t.st1{fill:#1F1F26;}\n")),r||(r=d.createElement("circle",{className:"st0",cx:511.8,cy:511.8,r:511.8})),n||(n=d.createElement("path",{className:"st1",d:"M499.8,495.2c33.9,0,63.2-12.2,87.2-36.1c24-24,36.1-53.3,36.1-87.2s-12.2-63.2-36.1-87.2 c-24-24-53.3-36.1-87.2-36.1s-63.2,12.2-87.2,36.1s-36.2,53.3-36.2,87.2s12.2,63.2,36.1,87.2C436.5,483.1,465.9,495.2,499.8,495.2z  M433.8,305.9c18.4-18.4,40-27.3,66-27.3s47.6,8.9,66,27.3c18.4,18.4,27.3,40,27.3,66s-8.9,47.6-27.3,66c-18.4,18.4-40,27.3-66,27.3 s-47.6-8.9-66-27.3s-27.3-40-27.3-66C406.4,345.9,415.4,324.3,433.8,305.9z"})),o||(o=d.createElement("path",{className:"st1",d:"M715.5,642.3c-0.7-10-2.1-20.9-4.1-32.4c-2.1-11.6-4.8-22.5-8-32.5c-3.3-10.3-7.8-20.6-13.4-30.3 c-5.8-10.2-12.6-19-20.2-26.3c-8-7.6-17.7-13.7-29-18.2c-11.2-4.4-23.7-6.7-37-6.7c-5.2,0-10.3,2.1-20,8.5c-6,3.9-13,8.4-20.9,13.5 c-6.7,4.3-15.8,8.3-27,11.9c-10.9,3.5-22.1,5.3-33,5.3c-11,0-22.1-1.8-33-5.3c-11.2-3.6-20.3-7.6-27-11.9c-7.8-5-14.8-9.5-20.9-13.5 c-9.8-6.4-14.8-8.5-20-8.5c-13.3,0-25.8,2.3-37,6.7c-11.3,4.5-21,10.6-29,18.2c-7.6,7.3-14.4,16.1-20.2,26.3 c-5.6,9.8-10.1,20-13.4,30.3c-3.2,10-5.9,20.9-8,32.5c-2.1,11.5-3.5,22.4-4.1,32.4c-0.7,9.8-1,20-1,30.2c0,26.7,8.5,48.4,25.3,64.3 c16.6,15.8,38.5,23.8,65.1,23.8h246.5c26.6,0,48.5-8,65.1-23.7c16.8-15.9,25.3-37.6,25.3-64.3C716.6,662.2,716.2,652.1,715.5,642.3z  M670.6,715.1c-10.9,10.4-25.4,15.5-44.4,15.5H379.7c-18.9,0-33.4-5.1-44.4-15.5c-10.7-10.2-15.9-24.1-15.9-42.6 c0-9.6,0.3-19.1,0.9-28.2c0.6-8.9,1.9-18.7,3.8-29.1c1.8-10.3,4.2-19.9,7-28.7c2.7-8.4,6.3-16.7,10.9-24.7 c4.3-7.6,9.3-14.2,14.8-19.4c5.1-4.9,11.6-9,19.3-12c7.1-2.8,15-4.3,23.6-4.6c1.1,0.6,2.9,1.6,6,3.6c6.2,4,13.3,8.6,21.1,13.6 c8.9,5.6,20.3,10.8,33.9,15.2c13.9,4.5,28.2,6.8,42.3,6.8c14.1,0,28.3-2.3,42.3-6.8c13.6-4.4,25.1-9.5,33.9-15.2 c8-5.1,15-9.6,21.1-13.6c3-2,4.9-3,6-3.6c8.6,0.2,16.6,1.8,23.6,4.6c7.6,3,14.1,7.1,19.3,12c5.5,5.3,10.5,11.8,14.8,19.4 c4.5,8,8.2,16.3,10.9,24.7c2.8,8.8,5.2,18.4,7,28.7c1.9,10.4,3.1,20.2,3.8,29.1l0,0c0.6,9.1,1,18.5,1,28.1 C686.6,691,681.3,704.9,670.6,715.1z"})),c||(c=d.createElement("g",null,d.createElement("g",null,d.createElement("path",{className:"st1",d:"M599.3,505.1c-74.4,0-134.9,60.4-134.9,134.9s60.3,135,134.9,135s134.9-60.4,134.9-134.9 S673.8,505.1,599.3,505.1z M678.1,645.5c0,3.1-2.5,5.6-5.6,5.6h-61.9v61.8c0,3.1-2.5,5.6-5.6,5.6h-11.3c-3.1,0-5.6-2.5-5.6-5.6 v-61.8h-61.8c-3.1,0-5.6-2.5-5.6-5.6v-11.3c0-3.1,2.5-5.6,5.6-5.6h61.8v-61.8c0-3.1,2.5-5.6,5.6-5.6H605c3.1,0,5.6,2.5,5.6,5.6 v61.8h61.7c3.1,0,5.6,2.5,5.6,5.6v11.3H678.1z"})))))}var u=d.forwardRef(m);a.p},645:function(e,t,a){"use strict";a.r(t);var i=a(7),r=a(1),n=a.n(r),o=a(8),c=a(5),d=a(218),p=a(42),s=a(52),l=a(41),m=a(50),u=a(0),f=a(11),g=a(19),x=a(44),b=a(46),h=a(6),j=a(10),w=a.n(j),O=a(2),y=c.d.div.withConfig({displayName:"RegistrarOperadorModal__OuterDiv",componentId:"sc-1fbq6qq-0"})([""," top:0;left:0;background-color:rgba(23,23,28,0.7);"],{display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",width:"100vw",height:"100vh"}),v=c.d.form.withConfig({displayName:"RegistrarOperadorModal__RegistroForm",componentId:"sc-1fbq6qq-1"})(["@media (min-width:2560px){min-width:1000px !important;}",""],{marginTop:"32px",padding:"0 16px",display:"flex",flexDirection:"column","@media (min-width: 768px)":{minWidth:"300px"}}),q=c.d.div.withConfig({displayName:"RegistrarOperadorModal__RegistroFields",componentId:"sc-1fbq6qq-2"})(["@media (min-width:2560px){margin-bottom:8rem !important;grid-gap:7rem !important;}",' grid-template-columns:1fr 1fr;grid-template-rows:repeat(6,32px);grid-template-areas:"agencia    agencia" "tipo       tipo" "nombre     apellido" "cedula     foto" "dia        foto" "mes        foto" "year       foto" "pass1  pass2";'],{display:"grid","@media (min-width: 768px)":{marginBottom:"24px",gap:"12px"},"@media (min-width: 1024px)":{gap:"14px"},"@media (min-width: 1280px)":{gap:"16px"},"@media (min-width: 1536px)":{marginBottom:"48px",gap:"24px"}}),C=Object(c.d)(s.a).withConfig({displayName:"RegistrarOperadorModal__Input",componentId:"sc-1fbq6qq-3"})(["@media (min-width:2560px){font-size:2rem !important;padding:3rem 2rem !important;}"," &.nombre{grid-area:nombre;}&.apellido{grid-area:apellido;}&.pass1{grid-area:pass1;}&.pass2{grid-area:pass2;}"],{"@media (min-width: 768px)":{fontSize:"0.4rem",padding:"5px 8px"},"@media (min-width: 1024px)":{fontSize:"0.5rem",padding:"6px 9px"},"@media (min-width: 1280px)":{fontSize:"0.6rem",padding:"6px 10px"},"@media (min-width: 1536px)":{fontSize:"0.8rem",padding:"12px 16px"}}),R=c.d.select.withConfig({displayName:"RegistrarOperadorModal__Select",componentId:"sc-1fbq6qq-4"})(['background-color:#17171c;border:none;border-radius:2px;padding:11px 16px;color:white;letter-spacing:0.1em;font-size:12px;&::placeholder{font-family:"Montserrat",sans-serif;color:lightgray;letter-spacing:0.1em;}&::-webkit-inner-spin-button,&::-webkit-outer-spin-button{-webkit-appearance:none;margin:0;}@media (min-width:2560px){font-size:2rem !important;padding:3rem 2rem !important;}'," &.tipo{grid-area:tipo;}&.agencia{grid-area:agencia;}"],{"@media (min-width: 768px)":{fontSize:"0.4rem",padding:"5px 8px"},"@media (min-width: 1024px)":{fontSize:"0.5rem",padding:"6px 9px"},"@media (min-width: 1280px)":{fontSize:"0.6rem",padding:"6px 10px"},"@media (min-width: 1536px)":{fontSize:"0.8rem",padding:"12px 16px"}}),S=c.d.label.withConfig({displayName:"RegistrarOperadorModal__Label",componentId:"sc-1fbq6qq-5"})(["@media (min-width:2560px){padding:0 4rem !important;}"," grid-area:foto;& .st1{display:initial;transition:fill 0.2s ease-in-out;}&:hover .st1{fill:#3346ff;}"],{cursor:"pointer",position:"relative","@media (min-width: 768px)":{padding:"0 4px"},"@media (min-width: 1024px)":{padding:"0 6px"},"@media (min-width: 1280px)":{padding:"0 20px"},"@media (min-width: 1536px)":{padding:"0 28px"}}),_=c.d.span.withConfig({displayName:"RegistrarOperadorModal__SubirFotoTxt",componentId:"sc-1fbq6qq-6"})(["@media (min-width:2560px){font-size:2rem !important;}",""],{fontWeight:"500","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",display:"block",textAlign:"center",marginTop:"12px","@media (min-width: 768px)":{fontSize:"0.4rem"},"@media (min-width: 1024px)":{fontSize:"0.5rem"},"@media (min-width: 1280px)":{fontSize:"0.6rem"},"@media (min-width: 1536px)":{fontSize:"0.7rem"}}),z=c.d.img.withConfig({displayName:"RegistrarOperadorModal__Foto",componentId:"sc-1fbq6qq-7"})(["@media (min-width:2560px){padding:0 12px !important;}"," left:0;top:0;border-radius:100%;object-fit:cover;object-position:center;"],{position:"absolute",width:"100%",height:"75%","@media (min-width: 768px)":{padding:"0 4px"},"@media (min-width: 1024px)":{padding:"0 6px"},"@media (min-width: 1280px)":{padding:"0 8px"},"@media (min-width: 1536px)":{padding:"0 10px",height:"95%"}}),N=c.d.div({display:"flex",gap:"0.25rem",justifyContent:"center"}),k=c.d.span({marginBottom:"16px","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",textAlign:"center"}),I=function(){var e=Object(o.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.customFetch)("/agency/list");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=Object(c.d)(p.b).withConfig({displayName:"RegistrarOperadorModal___StyledButton",componentId:"sc-1fbq6qq-8"})(["",""],(function(e){return e._css})),F=Object(c.d)(p.b).withConfig({displayName:"RegistrarOperadorModal___StyledButton2",componentId:"sc-1fbq6qq-9"})(["",""],(function(e){return e._css2}));t.default=function(){var e=Object(u.useRef)(),t=Object(u.useRef)(),a=Object(u.useRef)(),r=Object(u.useRef)(),c=Object(u.useRef)(),p=Object(u.useRef)(),s=Object(u.useRef)(),j=Object(u.useRef)(),E=Object(u.useRef)(),B=Object(u.useRef)(),D=Object(u.useRef)(),A=+w.a.get("agency_id"),L=Object(u.useState)(1===A?"2":""+A),T=Object(i.a)(L,2),P=T[0],H=T[1],U=Object(u.useRef)(),J=Object(u.useState)(""),W=Object(i.a)(J,2),Q=W[0],X=W[1],G=Object(u.useCallback)((function(){var e=new FileReader;e.onload=function(e){var t=new Image;t.src=e.target.result;var a=e.target.result.split(":")[1].split(";")[0];t.onload=function(){var e=document.createElement("canvas"),i=t.width,r=t.height;i>r?i>200&&(r*=200/i,i=200):r>200&&(i*=200/r,r=200),e.width=i,e.height=r,e.getContext("2d").drawImage(t,0,0,i,r),X(e.toDataURL(a))},j.current.height=j.current.width},E.current.files[0]&&e.readAsDataURL(E.current.files[0])}),[]),K=Object(f.d)(["agency"],I),V=K.data,Y=K.status,Z=Object(g.i)(),$=Object(u.useState)(!1),ee=Object(i.a)($,2),te=ee[0],ae=ee[1],ie=Object(u.useState)(""),re=Object(i.a)(ie,2),ne=re[0],oe=re[1],ce=Object(f.e)(),de=function(){var e=Object(o.a)(n.a.mark((function e(t){var a,i,r,o,c,d,p,s,l;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.nombre,i=t.apellido,r=t.cedula,o=t.dia,c=t.mes,d=t.year,p=t.fotoBase64,s=t.type,l=t.agencia,ae(!0),p=encodeURIComponent(p),e.prev=3,e.next=6,Object(h.customFetch)("/operators/register",{headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"name=".concat(a,"&surname=").concat(i,"&username=").concat(r,"&type=").concat(s,"&dob=").concat(o,"/").concat(c,"/").concat(d,"&photo=").concat(p,"&agency_id=").concat(l,"&password=").concat(Object(m.sha256)(B.current.value)),method:"POST"});case 6:ce.invalidateQueries("operadores"),Z(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsx)(y,{onClick:function(e){e.target===U.current&&Z()},ref:U,children:Object(O.jsx)(x.a,{children:te||"loading"===Y?Object(O.jsx)(l.a,{}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(b.a,{position:"left",txt:"Registrar Operador"}),Object(O.jsxs)(v,{onSubmit:function(i){i.preventDefault(),B.current.value===D.current.value?de({nombre:e.current.value,apellido:t.current.value,cedula:r.current.value,dia:c.current.value,mes:p.current.value,year:s.current.value,fotoBase64:Q,password:B.current.value,type:a.current.value,agencia:P}):oe("Las contrase\xf1as deben ser iguales")},children:[Object(O.jsxs)(q,{children:[1===A?Object(O.jsx)(R,{value:P,name:"agencia",autoComplete:"off",className:"agencia",onChange:function(e){return H(e.target.value)},children:V.filter((function(e){return!0===e.isSub})).map((function(e){return Object(O.jsx)("option",{value:e.id,children:e.name})}))}):null,Object(O.jsxs)(R,{ref:a,name:"type",autoComplete:"off",className:"tipo",children:[Object(O.jsx)("option",{value:"full-time",children:"Operador"}),Object(O.jsx)("option",{value:"soporte",children:"Soporte"})]}),Object(O.jsx)(C,{ref:t,required:!0,name:"apellido",placeholder:"Nombre y Apellido",autoComplete:"off",className:"nombre"}),Object(O.jsx)(C,{ref:e,required:!0,name:"nombre",placeholder:"Apodo",autoComplete:"off",className:"apellido"}),Object(O.jsx)(C,{ref:r,required:!0,name:"cedula",type:"number",placeholder:"Cedula",autoComplete:"off"}),Object(O.jsx)(C,{ref:c,required:!0,name:"dia",type:"number",min:1,max:31,placeholder:"Dia",autoComplete:"off"}),Object(O.jsx)(C,{ref:p,required:!0,name:"mes",type:"number",min:1,max:12,placeholder:"Mes",autoComplete:"off"}),Object(O.jsx)(C,{ref:s,required:!0,name:"year",type:"number",placeholder:"A\xf1o",autoComplete:"off"}),Object(O.jsx)(C,{required:!0,ref:E,onChange:G,name:"foto",id:"foto",type:"file",accept:"image/png, image/jpeg"}),Object(O.jsxs)(S,{id:"fotolabel",htmlFor:"foto",children:[Object(O.jsx)(d.a,{}),Object(O.jsx)(_,{children:"Subir Foto"}),Object(O.jsx)(z,{ref:j,id:"foto-perfil",src:Q})]}),Object(O.jsx)(C,{ref:B,required:!0,className:"pass1",type:"password",placeholder:"Contrase\xf1a",autoComplete:"new-password"}),Object(O.jsx)(C,{ref:D,required:!0,className:"pass2",type:"password",placeholder:"Repetir Contrase\xf1a",autoComplete:"new-password"})]}),ne?Object(O.jsx)(k,{children:ne}):null,Object(O.jsxs)(N,{children:[Object(O.jsx)(M,{type:"submit",primario:!0,_css:["@media (min-width: 2560px) { font-size: 2rem !important; width:18rem !important; height:6rem !important;}"],children:"Registrar"}),Object(O.jsx)(F,{cancel:!0,onClick:function(e){e.preventDefault(),Z()},_css2:["@media (min-width: 2560px) { font-size: 2rem !important; width:18rem !important; height:6rem !important;}"],children:"Cancelar"})]})]})]})})})}}}]);