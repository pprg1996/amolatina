(this.webpackJsonpivan=this.webpackJsonpivan||[]).push([[29],{658:function(e,t,i){"use strict";i.r(t);var r=i(1),n=i.n(r),o=i(6),d=i(9),a=i(0),s=i(85),l=i(42),c=i(10),p=i(41),u=i(7),m=i(13),b=i.n(m),v=i(83),g=i(5),f=i(118),h=i(2),j=g.d.div.withConfig({displayName:"SupervisoresModal__PicAndDecor",componentId:"q0gn5f-0"})({position:"relative",display:"flex"}),x=g.d.img.withConfig({displayName:"SupervisoresModal__Foto",componentId:"q0gn5f-1"})({width:"4em",height:"4em",borderRadius:"9999px",objectFit:"cover"}),y=g.d.span.withConfig({displayName:"SupervisoresModal__Id",componentId:"q0gn5f-2"})(["@media (min-width:2560px){font-size:0.75rem !important;}@media (min-height:1000px) and (min-width:651px) and (max-width:767px){font-size:0.975rem !important;}@media (min-height:1000px) and (min-width:451px) and (max-width:650px){font-size:0.75rem !important;}@media (min-width:651px) and (max-width:767px) and (max-height:999px){font-size:0.8rem !important;}@media (min-width:401px) and (max-width:650px) and (max-height:999px){font-size:0.7rem !important;}@media (max-width:400px) and (max-height:999px){font-size:0.4rem !important;}",""],{fontSize:"0.35rem","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",width:"8em",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",textAlign:"center","@media (min-width: 1024px)":{fontSize:"0.4rem"},"@media (min-width: 1280px)":{fontSize:"0.5rem"},"@media (min-width: 1536px)":{fontSize:"0.6rem"}}),w=Object(g.d)("div").withConfig({displayName:"SupervisoresModal___StyledDiv",componentId:"q0gn5f-3"})({padding:"1rem","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",display:"flex",flexDirection:"column",gap:"1rem",width:"80vw",height:"80vh",alignItems:"center",position:"relative"}),O=Object(g.d)("div").withConfig({displayName:"SupervisoresModal___StyledDiv2",componentId:"q0gn5f-4"})({display:"flex",flexDirection:"column",overflowX:"hidden",height:"100%",width:"100%",padding:"0.5rem",gap:"0.5rem"}),_=Object(g.d)("div").withConfig({displayName:"SupervisoresModal___StyledDiv3",componentId:"q0gn5f-5"})({width:"100%",display:"flex",justifyContent:"space-between",gap:"0.5rem"}),S=Object(g.d)("div").withConfig({displayName:"SupervisoresModal___StyledDiv4",componentId:"q0gn5f-6"})({display:"flex",gap:"1rem"}),I=Object(g.d)("select").withConfig({displayName:"SupervisoresModal___StyledSelect",componentId:"q0gn5f-7"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",padding:"0.25rem",borderRadius:"1rem"}),C=Object(g.d)("select").withConfig({displayName:"SupervisoresModal___StyledSelect2",componentId:"q0gn5f-8"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",padding:"0.25rem",borderRadius:"1rem"}),N=Object(g.d)("input").withConfig({displayName:"SupervisoresModal___StyledInput",componentId:"q0gn5f-9"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",padding:"0.25rem",borderRadius:"1rem"}),M=Object(g.d)("div").withConfig({displayName:"SupervisoresModal___StyledDiv5",componentId:"q0gn5f-10"})({display:"flex",justifyContent:"center",gap:"1rem"}),D=Object(g.d)(f.a).withConfig({displayName:"SupervisoresModal___StyledToggleGroup",componentId:"q0gn5f-11"})({alignSelf:"center"}),q=Object(g.d)(f.b).withConfig({displayName:"SupervisoresModal___StyledToggleGroupItem",componentId:"q0gn5f-12"})(["",""],(function(e){return e._css})),k=Object(g.d)(f.b).withConfig({displayName:"SupervisoresModal___StyledToggleGroupItem2",componentId:"q0gn5f-13"})(["",""],(function(e){return e._css2})),T=Object(g.d)("div").withConfig({displayName:"SupervisoresModal___StyledDiv6",componentId:"q0gn5f-14"})(["",""],(function(e){return e._css3})),R=Object(g.d)("div").withConfig({displayName:"SupervisoresModal___StyledDiv7",componentId:"q0gn5f-15"})({display:"flex",flexDirection:"column",overflowX:"hidden",height:"100%",width:"100%",padding:"0.5rem",gap:"0.5rem"}),L=Object(g.d)("div").withConfig({displayName:"SupervisoresModal___StyledDiv8",componentId:"q0gn5f-16"})({width:"100%",display:"flex",justifyContent:"space-between"}),B=Object(g.d)("input").withConfig({displayName:"SupervisoresModal___StyledInput2",componentId:"q0gn5f-17"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",padding:"0.25rem",borderRadius:"0.25rem"}),A=Object(g.d)("div").withConfig({displayName:"SupervisoresModal___StyledDiv9",componentId:"q0gn5f-18"})(["",""],(function(e){return e._css4})),F=function(e){var t,i,r=e.operadores,n=e.perfiles,o=e.setIsLoading,s=e.role,l=e.id,c=e.supervisores,p=Object(a.useState)(""),u=Object(d.a)(p,2),m=u[0],b=u[1];return Object(h.jsxs)(R,{children:[Object(h.jsxs)(L,{children:[Object(h.jsx)("div",{}),Object(h.jsx)("div",{children:Object(h.jsx)(B,{placeholder:"Buscar",value:m,onChange:function(e){return b(e.target.value)}})})]}),Object(h.jsx)(A,{_css4:[{display:"flex",flexDirection:"column",overflowX:"hidden",height:"100%",width:"100%",padding:"0.5rem",gap:"0.5rem"},v.b],children:null===n||void 0===n||null===(t=n.filter((function(e){return!1===e.hidden})))||void 0===t||null===(i=t.filter((function(e){return e.activo})))||void 0===i?void 0:i.filter((function(e){return e.nombre.toLowerCase().includes(m.toLowerCase())})).map((function(e){return Object(h.jsx)($,{perfil:e,operadores:r,setIsLoading:o,role:s,id:l,supervisores:c})}))})]})},z=Object(g.d)("div").withConfig({displayName:"SupervisoresModal___StyledDiv10",componentId:"q0gn5f-19"})({display:"flex",justifyContent:"space-between",padding:"0.5rem",borderWidth:"2px","--tw-border-opacity":"1",borderColor:"rgba(107, 114, 128, var(--tw-border-opacity))",borderRadius:"20px",alignItems:"center"}),Q=Object(g.d)("div").withConfig({displayName:"SupervisoresModal___StyledDiv11",componentId:"q0gn5f-20"})({display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem","@media (min-width: 1024px)":{gap:"0.75rem"}}),P=Object(g.d)("div").withConfig({displayName:"SupervisoresModal___StyledDiv12",componentId:"q0gn5f-21"})({display:"flex",justifyContent:"center",gap:"0.5rem","@media (min-width: 1024px)":{gap:"0.75rem"}}),J=Object(g.d)("div").withConfig({displayName:"SupervisoresModal___StyledDiv13",componentId:"q0gn5f-22"})({display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem","@media (min-width: 1024px)":{gap:"0.75rem"}}),W=Object(g.d)("div").withConfig({displayName:"SupervisoresModal___StyledDiv14",componentId:"q0gn5f-23"})({display:"flex",alignItems:"center"}),H=Object(g.d)("select").withConfig({displayName:"SupervisoresModal___StyledSelect3",componentId:"q0gn5f-24"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",padding:"0.375rem",width:"100%",borderRadius:"1rem 0 0 1rem"}),X=Object(g.d)("button").withConfig({displayName:"SupervisoresModal___StyledButton",componentId:"q0gn5f-25"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))",":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgba(56, 56, 69, var(--tw-bg-opacity))"},fontWeight:"700",paddingTop:"0.5rem",paddingBottom:"0.5rem",paddingLeft:"0.5rem",paddingRight:"0.5rem",borderRadius:"0 1rem 1rem 0"}),E=Object(g.d)("div").withConfig({displayName:"SupervisoresModal___StyledDiv15",componentId:"q0gn5f-26"})({display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem","@media (min-width: 1024px)":{gap:"0.75rem"}}),Y=Object(g.d)("div").withConfig({displayName:"SupervisoresModal___StyledDiv16",componentId:"q0gn5f-27"})({display:"flex",alignItems:"center"}),G=Object(g.d)("select").withConfig({displayName:"SupervisoresModal___StyledSelect4",componentId:"q0gn5f-28"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",padding:"0.375rem",width:"100%",borderRadius:"1rem 0 0 1rem"}),V=Object(g.d)("button").withConfig({displayName:"SupervisoresModal___StyledButton2",componentId:"q0gn5f-29"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))",":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgba(56, 56, 69, var(--tw-bg-opacity))"},fontWeight:"700",paddingTop:"0.5rem",paddingBottom:"0.5rem",paddingLeft:"0.5rem",paddingRight:"0.5rem",borderRadius:"0 1rem 1rem 0"}),K=Object(g.d)("div").withConfig({displayName:"SupervisoresModal___StyledDiv17",componentId:"q0gn5f-30"})({display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem","@media (min-width: 1024px)":{gap:"0.75rem"}}),U=Object(g.d)("div").withConfig({displayName:"SupervisoresModal___StyledDiv18",componentId:"q0gn5f-31"})({display:"flex",alignItems:"center"}),Z=Object(g.d)("select").withConfig({displayName:"SupervisoresModal___StyledSelect5",componentId:"q0gn5f-32"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",padding:"0.375rem",width:"100%",borderRadius:"1rem"}),$=function(e){var t,i,r,s,l,p,m,b,v,g,f=e.perfil,w=e.operadores,O=e.setIsLoading,_=e.role,S=e.id,I=e.supervisores,C=Object(a.useState)("-1"),N=Object(d.a)(C,2),M=N[0],D=N[1],q=Object(a.useState)("-1"),k=Object(d.a)(q,2),T=k[0],R=k[1],L=Object(a.useState)(null!==(t=null===f||void 0===f||null===(i=f.operador)||void 0===i?void 0:i.id)&&void 0!==t?t:0),B=Object(d.a)(L,2),A=B[0],F=B[1];return Object(h.jsxs)(z,{children:[Object(h.jsxs)(Q,{children:[Object(h.jsx)(j,{children:Object(h.jsx)(x,{src:null===f||void 0===f?void 0:f.foto})}),Object(h.jsx)(y,{title:null===f||void 0===f?void 0:f.nombre,children:null===f||void 0===f?void 0:f.nombre})]}),Object(h.jsxs)(P,{children:[Object(h.jsxs)(J,{children:[Object(h.jsx)("div",{children:"Operadores"}),Object(h.jsxs)(W,{children:[Object(h.jsxs)(H,{value:M,onChange:function(e){return D(e.target.value)},children:[Object(h.jsx)("option",{value:-1,children:"Seleccionar"}),null===w||void 0===w||null===(r=w.filter((function(e){return!1===e.hidden})))||void 0===r||null===(s=r.filter((function(e){return 0===f.operadoresAsignadosIds.length||!f.operadoresAsignadosIds.includes(e.id)})))||void 0===s||null===(l=s.filter((function(e){return"admin"===_||"supervisor"===_&&((null===I||void 0===I?void 0:I.every((function(e){return e.substitute!==S})))?e.supervisorId===S:e.supervisorId===(null===I||void 0===I?void 0:I.find((function(e){return e.substitute===S})).id))})))||void 0===l?void 0:l.map((function(e){return Object(h.jsx)("option",{value:e.id,children:e.nombre})}))]}),Object(h.jsx)(X,{onClick:Object(o.a)(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("-1"!==M){e.next=2;break}return e.abrupt("return");case 2:return O(!0),e.next=5,Object(u.customFetch)("/profiles/assign-operator",{method:"POST",body:JSON.stringify({profileId:f.id,operatorId:+M}),headers:{"Content-Type":"application/json"}});case 5:c.b.invalidateQueries(["perfiles"]),c.b.invalidateQueries(["operadores"]),O(!1);case 8:case"end":return e.stop()}}),e)}))),children:Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-right",viewBox:"0 0 16 16",children:Object(h.jsx)("path",{"fill-rule":"evenodd",d:"M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"})})})]})]}),Object(h.jsxs)(E,{children:[Object(h.jsx)("div",{children:"Asignados"}),Object(h.jsxs)(Y,{children:[Object(h.jsxs)(G,{value:T,onChange:function(e){return R(e.target.value)},children:[Object(h.jsx)("option",{value:-1,children:"Seleccionar"}),null===w||void 0===w||null===(p=w.filter((function(e){return!1===e.hidden})))||void 0===p||null===(m=p.filter((function(e){return f.operadoresAsignadosIds.includes(e.id)})))||void 0===m||null===(b=m.filter((function(e){return"admin"===_||"supervisor"===_&&((null===I||void 0===I?void 0:I.every((function(e){return e.substitute!==S})))?e.supervisorId===S:e.supervisorId===(null===I||void 0===I?void 0:I.find((function(e){return e.substitute===S})).id))})))||void 0===b?void 0:b.map((function(e){return Object(h.jsx)("option",{value:e.id,children:e.nombre})}))]}),Object(h.jsx)(V,{onClick:Object(o.a)(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("-1"!==T){e.next=2;break}return e.abrupt("return");case 2:return O(!0),e.next=5,Object(u.customFetch)("/profiles/remove-assigned-operator",{method:"POST",body:JSON.stringify({profileId:f.id,operatorId:+T}),headers:{"Content-Type":"application/json"}});case 5:c.b.invalidateQueries(["perfiles"]),c.b.invalidateQueries(["operadores"]),O(!1);case 8:case"end":return e.stop()}}),e)}))),children:Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-left",viewBox:"0 0 16 16",children:Object(h.jsx)("path",{"fill-rule":"evenodd",d:"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"})})})]})]}),Object(h.jsxs)(K,{children:[Object(h.jsx)("div",{children:"Tomado"}),Object(h.jsx)(U,{children:Object(h.jsxs)(Z,{value:A,onChange:function(){var e=Object(o.a)(n.a.mark((function e(t){var i,r,o,d;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O(!0),0!==+t.target.value){e.next=8;break}return e.next=4,Object(u.customFetch)("/profiles/release",{headers:{"Content-Type":"application/json"},body:JSON.stringify({list_id:[f.id],operatorId:A,force:!0}),method:"POST"});case 4:"success"===(null===(i=e.sent)||void 0===i?void 0:i.status)&&F(+t.target.value),e.next=23;break;case 8:if(0===A||0===+t.target.value){e.next=19;break}return e.next=11,Object(u.customFetch)("/profiles/release",{headers:{"Content-Type":"application/json"},body:JSON.stringify({list_id:[f.id],operatorId:A,force:!0}),method:"POST"});case 11:if("success"!==(null===(r=e.sent)||void 0===r?void 0:r.status)){e.next=17;break}return e.next=15,Object(u.customFetch)("/profiles/select",{headers:{"Content-Type":"application/json"},body:JSON.stringify({list_id:[f.id],operatorId:+t.target.value,force:!0}),method:"POST"});case 15:"success"===(null===(o=e.sent)||void 0===o?void 0:o.status)&&F(+t.target.value);case 17:e.next=23;break;case 19:return e.next=21,Object(u.customFetch)("/profiles/select",{headers:{"Content-Type":"application/json"},body:JSON.stringify({list_id:[f.id],operatorId:+t.target.value,force:!0}),method:"POST"});case 21:"success"===(null===(d=e.sent)||void 0===d?void 0:d.status)&&F(+t.target.value);case 23:c.b.invalidateQueries(["perfiles"]),c.b.invalidateQueries(["operadores"]),O(!1);case 26:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[Object(h.jsx)("option",{value:0,children:"Sin Asignar"}),null===w||void 0===w||null===(v=w.filter((function(e){return!1===e.hidden})))||void 0===v||null===(g=v.filter((function(e){return"admin"===_||"supervisor"===_&&((null===I||void 0===I?void 0:I.every((function(e){return e.substitute!==S})))?e.supervisorId===S?f.operadoresAsignadosIds.includes(e.id):+A===e.id:e.supervisorId===(null===I||void 0===I?void 0:I.find((function(e){return e.substitute===S})).id)?f.operadoresAsignadosIds.includes(e.id):+A===e.id)})))||void 0===g?void 0:g.map((function(e){return Object(h.jsx)("option",{value:e.id,children:e.nombre})}))]})})]})]})]},f.amolatina_id)},ee=Object(g.d)("div").withConfig({displayName:"SupervisoresModal___StyledDiv19",componentId:"q0gn5f-33"})({display:"flex",justifyContent:"space-between",gap:"0.5rem",padding:"0.5rem",borderWidth:"2px","--tw-border-opacity":"1",borderColor:"rgba(107, 114, 128, var(--tw-border-opacity))",borderRadius:"20px",alignItems:"center"}),te=Object(g.d)("div").withConfig({displayName:"SupervisoresModal___StyledDiv20",componentId:"q0gn5f-34"})({display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem",width:"10em"}),ie=Object(g.d)("div").withConfig({displayName:"SupervisoresModal___StyledDiv21",componentId:"q0gn5f-35"})({position:"relative",display:"flex"}),re=Object(g.d)("img").withConfig({displayName:"SupervisoresModal___StyledImg",componentId:"q0gn5f-36"})({width:"5em",height:"5em",borderRadius:"9999px",objectFit:"cover"}),ne=Object(g.d)("div").withConfig({displayName:"SupervisoresModal___StyledDiv22",componentId:"q0gn5f-37"})({display:"flex",gap:"1rem",alignItems:"center"}),oe=Object(g.d)("div").withConfig({displayName:"SupervisoresModal___StyledDiv23",componentId:"q0gn5f-38"})({display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem"}),de=Object(g.d)("div").withConfig({displayName:"SupervisoresModal___StyledDiv24",componentId:"q0gn5f-39"})({display:"flex",alignItems:"center"}),ae=Object(g.d)("select").withConfig({displayName:"SupervisoresModal___StyledSelect6",componentId:"q0gn5f-40"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",padding:"0.375rem",width:"100%",borderRadius:"1rem"}),se=Object(g.d)("div").withConfig({displayName:"SupervisoresModal___StyledDiv25",componentId:"q0gn5f-41"})({display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem"}),le=Object(g.d)("div").withConfig({displayName:"SupervisoresModal___StyledDiv26",componentId:"q0gn5f-42"})({display:"flex",alignItems:"center"}),ce=Object(g.d)("select").withConfig({displayName:"SupervisoresModal___StyledSelect7",componentId:"q0gn5f-43"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",padding:"0.375rem",width:"100%",borderRadius:"1rem"}),pe=Object(g.d)("div").withConfig({displayName:"SupervisoresModal___StyledDiv27",componentId:"q0gn5f-44"})({display:"flex",gap:"1rem",alignItems:"center"}),ue=Object(g.d)("div").withConfig({displayName:"SupervisoresModal___StyledDiv28",componentId:"q0gn5f-45"})({display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem"}),me=Object(g.d)("div").withConfig({displayName:"SupervisoresModal___StyledDiv29",componentId:"q0gn5f-46"})({display:"flex",alignItems:"center"}),be=Object(g.d)("select").withConfig({displayName:"SupervisoresModal___StyledSelect8",componentId:"q0gn5f-47"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",padding:"0.375rem",width:"100%",borderRadius:"1rem 0 0 1rem"}),ve=Object(g.d)("button").withConfig({displayName:"SupervisoresModal___StyledButton3",componentId:"q0gn5f-48"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))",":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgba(56, 56, 69, var(--tw-bg-opacity))"},fontWeight:"700",paddingTop:"0.5rem",paddingBottom:"0.5rem",paddingLeft:"0.5rem",paddingRight:"0.5rem",borderRadius:"0 1rem 1rem 0"}),ge=Object(g.d)("div").withConfig({displayName:"SupervisoresModal___StyledDiv30",componentId:"q0gn5f-49"})({display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem"}),fe=Object(g.d)("div").withConfig({displayName:"SupervisoresModal___StyledDiv31",componentId:"q0gn5f-50"})({display:"flex",alignItems:"center"}),he=Object(g.d)("select").withConfig({displayName:"SupervisoresModal___StyledSelect9",componentId:"q0gn5f-51"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",padding:"0.375rem",width:"100%",borderRadius:"1rem 0 0 1rem"}),je=Object(g.d)("button").withConfig({displayName:"SupervisoresModal___StyledButton4",componentId:"q0gn5f-52"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))",":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgba(56, 56, 69, var(--tw-bg-opacity))"},fontWeight:"700",paddingTop:"0.5rem",paddingBottom:"0.5rem",paddingLeft:"0.5rem",paddingRight:"0.5rem",borderRadius:"0 1rem 1rem 0"}),xe=Object(g.d)(l.a).withConfig({displayName:"SupervisoresModal___StyledButton5",componentId:"q0gn5f-53"})({width:"auto",marginRight:"0px","@media (min-width: 768px)":{paddingTop:"0.25rem",paddingBottom:"0.25rem",paddingLeft:"0.25rem",paddingRight:"0.25rem"},"@media (min-width: 1024px)":{paddingLeft:"0.5rem",paddingRight:"0.5rem"}}),ye=function(e){var t,i,r,s,l=e.supervisor,m=e.cambiarTurnoDeSupervisor,b=e.cambiarTipoDeSupervisor,v=e.supervisores,g=e.operadores,f=e.setIsLoading,j=e.manipulandoSupervisor,x=e.removerSupervisor,y=e.role,w=Object(a.useState)("-1"),O=Object(d.a)(w,2),_=O[0],S=O[1],I=Object(a.useState)("-1"),C=Object(d.a)(I,2),N=C[0],M=C[1];return Object(h.jsxs)(ee,{children:[Object(h.jsxs)(te,{children:[Object(h.jsx)(ie,{children:Object(h.jsx)(re,{src:l.foto,alt:"..."})}),Object(h.jsx)("span",{children:l.nombre})]}),"admin"===y?Object(h.jsxs)(ne,{children:[Object(h.jsxs)(oe,{children:[Object(h.jsx)("div",{children:"Turnos"}),Object(h.jsx)(de,{children:Object(h.jsxs)(ae,{defaultValue:l.shift,onChange:function(e){return m(l.id,+e.target.value)},children:[Object(h.jsx)("option",{value:0,children:"Dia"}),Object(h.jsx)("option",{value:2,children:"Tarde"}),Object(h.jsx)("option",{value:1,children:"Noche"})]})})]}),Object(h.jsx)(se,{children:(null===v||void 0===v?void 0:v.every((function(e){return e.substitute!==l.id})))?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{children:"Suplentes"}),Object(h.jsx)(le,{children:Object(h.jsxs)(ce,{defaultValue:l.substitute,onChange:function(e){return b(l.id,+e.target.value)},children:[Object(h.jsx)("option",{value:0,children:"Sin suplente"}),null===v||void 0===v?void 0:v.map((function(e){return l.id===e.id||e.substitute||l.substitute!==e.id&&!(null===v||void 0===v?void 0:v.every((function(t){return t.substitute!==e.id})))?null:Object(h.jsx)("option",{value:e.id,children:e.nombre},e.id)}))]})})]}):Object(h.jsxs)("span",{children:["Suplente de ",null===v||void 0===v?void 0:v.find((function(e){return e.substitute===l.id})).nombre]})})]}):null,(null===v||void 0===v?void 0:v.every((function(e){return e.substitute!==l.id})))?Object(h.jsxs)(pe,{children:[Object(h.jsxs)(ue,{children:[Object(h.jsx)("div",{children:"Operadores"}),Object(h.jsxs)(me,{children:[Object(h.jsxs)(be,{value:_,onChange:function(e){return S(e.target.value)},children:[Object(h.jsx)("option",{value:-1,children:"Seleccionar"}),null===g||void 0===g||null===(t=g.filter((function(e){return!1===e.hidden})))||void 0===t||null===(i=t.filter((function(e){return"operator"===e.role&&null===e.supervisorId})))||void 0===i?void 0:i.map((function(e){return Object(h.jsx)("option",{value:e.id,children:e.nombre})}))]}),Object(h.jsx)(ve,{onClick:Object(o.a)(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("-1"!==_){e.next=2;break}return e.abrupt("return");case 2:return f(!0),e.next=5,Object(u.customFetch)("/supervisors/assign-operator",{method:"POST",body:JSON.stringify({supervisorId:l.id,operatorId:+_}),headers:{"content-type":"application/json"}});case 5:c.b.invalidateQueries(["operadores"]),c.b.invalidateQueries(["supervisores"]),f(!1);case 8:case"end":return e.stop()}}),e)}))),children:Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-right",viewBox:"0 0 16 16",children:Object(h.jsx)("path",{"fill-rule":"evenodd",d:"M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"})})})]})]}),Object(h.jsxs)(ge,{children:[Object(h.jsx)("div",{children:"Asignados"}),Object(h.jsxs)(fe,{children:[Object(h.jsxs)(he,{value:N,onChange:function(e){return M(e.target.value)},children:[Object(h.jsx)("option",{value:-1,children:"Seleccionar"}),null===g||void 0===g||null===(r=g.filter((function(e){return!1===e.hidden})))||void 0===r||null===(s=r.filter((function(e){return e.supervisorId===l.id&&"operator"===e.role})))||void 0===s?void 0:s.map((function(e){return Object(h.jsx)("option",{value:e.id,children:e.nombre})}))]}),Object(h.jsx)(je,{onClick:Object(o.a)(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("-1"!==N){e.next=2;break}return e.abrupt("return");case 2:return f(!0),e.next=5,Object(u.customFetch)("/supervisors/assign-operator",{method:"POST",body:JSON.stringify({supervisorId:null,operatorId:+N}),headers:{"content-type":"application/json"}});case 5:c.b.invalidateQueries(["operadores"]),c.b.invalidateQueries(["supervisores"]),f(!1);case 8:case"end":return e.stop()}}),e)}))),children:Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-left",viewBox:"0 0 16 16",children:Object(h.jsx)("path",{"fill-rule":"evenodd",d:"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"})})})]})]})]}):null,j?Object(h.jsx)(p.a,{}):Object(h.jsx)(h.Fragment,{children:"admin"===y?Object(h.jsx)(xe,{cancel:!0,onClick:function(){window.confirm("\xbfEst\xe1s seguro de querer remover a este supervisor?")&&x(l.id)},children:"Quitar supervisor"}):null})]},l.id)};t.default=function(e){var t,i=e.setShowSupervisoresModal,r=e.supervisores,l=Object(c.d)(["operadores"],u.fetchOperadores),m=l.data,g=l.status,f=Object(c.d)(["perfiles"],u.fetchPerfiles),j=f.data,x=f.status,y=Object(a.useState)(!1),R=Object(d.a)(y,2),L=R[0],B=R[1],A=function(){var e=Object(o.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B(!0),e.next=3,Object(u.customFetch)("/supervisors/remove-supervisor",{method:"POST",body:JSON.stringify({id:t}),headers:{"content-type":"application/json"}});case 3:c.b.invalidateQueries(["operadores"]),c.b.invalidateQueries(["supervisores"]),B(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(o.a)(n.a.mark((function e(t,i){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B(!0),e.next=3,Object(u.customFetch)("/supervisors/change-shift",{method:"POST",body:JSON.stringify({id:t,shift:i}),headers:{"content-type":"application/json"}});case 3:c.b.invalidateQueries(["operadores"]),c.b.invalidateQueries(["supervisores"]),setTimeout((function(){B(!1)}),2e3);case 6:case"end":return e.stop()}}),e)})));return function(t,i){return e.apply(this,arguments)}}(),Q=function(){var e=Object(o.a)(n.a.mark((function e(t,i){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B(!0),e.next=3,Object(u.customFetch)("/supervisors/change-substitute",{method:"POST",body:JSON.stringify({id:t,substitute:i}),headers:{"content-type":"application/json"}});case 3:c.b.invalidateQueries(["operadores"]),c.b.invalidateQueries(["supervisores"]),setTimeout((function(){B(!1)}),3e3);case 6:case"end":return e.stop()}}),e)})));return function(t,i){return e.apply(this,arguments)}}(),P=Object(a.useState)("-1"),J=Object(d.a)(P,2),W=J[0],H=J[1],X=Object(a.useState)("-1"),E=Object(d.a)(X,2),Y=E[0],G=E[1],V=Object(a.useState)(""),K=Object(d.a)(V,2),U=K[0],Z=K[1],$=Object(a.useState)("supervisores"),ee=Object(d.a)($,2),te=ee[0],ie=ee[1],re=Object(a.useState)(!1),ne=Object(d.a)(re,2),oe=ne[0],de=ne[1],ae=b.a.get("role"),se=+b.a.get("id");return Object(h.jsx)(s.a,{setShowModal:i,children:Object(h.jsx)(w,{children:!0===oe||"loading"===g||"loading"===x?Object(h.jsx)(p.a,{}):Object(h.jsxs)(O,{children:["admin"===ae?Object(h.jsxs)(_,{children:[Object(h.jsxs)(S,{children:[Object(h.jsxs)("label",{children:["Turnos:"," ",Object(h.jsxs)(I,{onChange:function(e){return H(e.target.value)},value:W,children:[Object(h.jsx)("option",{value:"-1",children:"Todos"}),Object(h.jsx)("option",{value:"0",children:"Dia"}),Object(h.jsx)("option",{value:"2",children:"Tarde"}),Object(h.jsx)("option",{value:"1",children:"Noche"})]})]}),Object(h.jsxs)("label",{children:["Rol:"," ",Object(h.jsxs)(C,{onChange:function(e){return G(e.target.value)},value:Y,children:[Object(h.jsx)("option",{value:"-1",children:"Todos"}),Object(h.jsx)("option",{value:"supervisor",children:"Supervisor"}),Object(h.jsx)("option",{value:"suplente",children:"Suplente"})]})]})]}),Object(h.jsx)("div",{children:Object(h.jsx)(N,{placeholder:"Buscar",value:U,onChange:function(e){return Z(e.target.value)}})})]}):Object(h.jsx)(M,{children:Object(h.jsxs)(D,{type:"single",value:te,onValueChange:function(e){e&&ie(e)},children:[Object(h.jsx)(q,{value:"supervisores",_css:[{paddingRight:"0.75rem",paddingLeft:"1rem",paddingTop:"0.5rem",paddingBottom:"0.5rem","--tw-bg-opacity":"1",backgroundColor:"rgba(31, 31, 38, var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",fontWeight:"700",borderTopLeftRadius:"1rem",borderBottomLeftRadius:"1rem",borderWidth:"1px",borderColor:"#4c4c3f",borderStyle:"solid"},"supervisores"===te?{"--tw-bg-opacity":"1",backgroundColor:"rgba(76, 76, 63, var(--tw-bg-opacity))"}:null],children:"Supervisores"}),Object(h.jsx)(k,{value:"perfiles",_css2:[{paddingRight:"1rem",paddingLeft:"0.75rem",paddingTop:"0.5rem",paddingBottom:"0.5rem","--tw-bg-opacity":"1",backgroundColor:"rgba(31, 31, 38, var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",fontWeight:"700",borderWidth:"1px",borderColor:"#4c4c3f",borderTopRightRadius:"1rem",borderBottomRightRadius:"1rem",borderStyle:"solid"},"perfiles"===te?{"--tw-bg-opacity":"1",backgroundColor:"rgba(76, 76, 63, var(--tw-bg-opacity))"}:null],children:"Perfiles"})]})}),"supervisores"===te?Object(h.jsx)(T,{_css3:[{display:"flex",flexDirection:"column",overflowX:"hidden",height:"100%",width:"100%",padding:"0.5rem",gap:"0.5rem"},v.b],children:null===r||void 0===r||null===(t=r.sort((function(e,t){return e.nombre<t.nombre?-1:1})).filter((function(e){return"supervisor"!==ae||se===e.id})).filter((function(e){return-1===+W||e.shift===+W})).filter((function(e){return"-1"===Y||("supervisor"===Y?!(null===r||void 0===r?void 0:r.find((function(t){return t.substitute===e.id}))):"suplente"===Y&&(null===r||void 0===r?void 0:r.find((function(t){return t.substitute===e.id}))))})))||void 0===t?void 0:t.filter((function(e){return e.nombre.toLowerCase().includes(U.toLowerCase())})).map((function(e){return Object(h.jsx)(ye,{supervisor:e,cambiarTurnoDeSupervisor:z,cambiarTipoDeSupervisor:Q,supervisores:r,operadores:m,setIsLoading:de,manipulandoSupervisor:L,removerSupervisor:A,role:ae})}))}):null,"perfiles"===te?Object(h.jsx)(F,{operadores:m,perfiles:j,setIsLoading:de,role:ae,id:se,supervisores:r}):null]})})})}},85:function(e,t,i){"use strict";var r=i(5),n=i(0),o=i(2),d=Object(r.d)("div").withConfig({displayName:"Modal___StyledDiv",componentId:"tjiuax-0"})({position:"fixed",zIndex:"50",top:"0px",right:"0px",bottom:"0px",left:"0px",overflowY:"auto"}),a=Object(r.d)("div").withConfig({displayName:"Modal___StyledDiv2",componentId:"tjiuax-1"})({display:"flex",alignItems:"flex-end",justifyContent:"center",minHeight:"100vh",paddingTop:"1rem",paddingLeft:"1rem",paddingRight:"1rem",paddingBottom:"5rem",textAlign:"center","@media (min-width: 640px)":{display:"block",padding:"0px"}}),s=Object(r.d)("div").withConfig({displayName:"Modal___StyledDiv3",componentId:"tjiuax-2"})({position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px","--tw-bg-opacity":"0.7",backgroundColor:"rgba(23, 23, 27, var(--tw-bg-opacity))",transitionProperty:"opacity",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"150ms"}),l=Object(r.d)("span").withConfig({displayName:"Modal___StyledSpan",componentId:"tjiuax-3"})({display:"none","@media (min-width: 640px)":{display:"inline-block",verticalAlign:"middle",height:"100vh"}}),c=Object(r.d)("div").withConfig({displayName:"Modal___StyledDiv4",componentId:"tjiuax-4"})(["",""],(function(e){return e._css}));t.a=function(e){var t=e.children,i=e.setShowModal,r=Object(n.useRef)(null);return Object(n.useEffect)((function(){var e=r.current,t=function(e){"Escape"===e.key&&i(!1)};return e.addEventListener("keydown",t),e.focus(),function(){e.removeEventListener("keydown",t)}}),[i]),Object(o.jsx)(d,{"aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:Object(o.jsxs)(a,{ref:r,tabIndex:-1,children:[Object(o.jsx)(s,{"aria-hidden":"true",onClick:function(){return i(!1)}}),Object(o.jsx)(l,{"aria-hidden":"true",children:"\u200b"}),Object(o.jsx)(c,{_css:[{"--tw-translate-x":"0","--tw-translate-y":"0","--tw-rotate":"0","--tw-skew-x":"0","--tw-skew-y":"0","--tw-scale-x":"1","--tw-scale-y":"1",transform:"translateX(var(--tw-translate-x)) translateY(var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))",display:"inline-block",verticalAlign:"bottom","--tw-bg-opacity":"1",backgroundColor:"rgba(31, 31, 38, var(--tw-bg-opacity))",textAlign:"left",overflow:"hidden","--tw-shadow":"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)",transitionProperty:"all",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"150ms","@media (min-width: 640px)":{marginTop:"2rem",marginBottom:"2rem",verticalAlign:"middle"},"@media (min-width: 768px)":{borderRadius:"0.75rem"},"@media (min-width: 1024px)":{borderRadius:"1rem"},"@media (min-width: 1536px)":{borderRadius:"1.3rem"}},"@media (min-width: 2560px) { border-radius: 2.5rem !important; }","@media (min-height: 1000px) and (max-width: 767px) { border-radius:2.5rem !important; }"],children:t})]})})}}}]);