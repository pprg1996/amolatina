(this.webpackJsonpivan=this.webpackJsonpivan||[]).push([[27],{659:function(t,i,e){"use strict";e.r(i);var n,a=e(6),d=e(12),o=e(1),r=e.n(o),l=e(8),s=e(5),c=e(91),m=e(0),p=e.n(m),u=e(144),h=e(41),v=e(85),x=e(7),w=e(92),g=e(10),f=e.n(g),b=e(231),j=e(11),_=e(2),y=Object(s.d)(u.a).withConfig({displayName:"ModalListClients__CoronaSvg",componentId:"sc-1sozmlr-0"})(["",""],v.a),O=s.d.span.withConfig({displayName:"ModalListClients__Id",componentId:"sc-1sozmlr-1"})(["@media (min-width:2560px){font-size:0.75rem !important;}@media (min-height:1000px) and (min-width:651px) and (max-width:767px){font-size:0.975rem !important;}@media (min-height:1000px) and (min-width:451px) and (max-width:650px){font-size:0.75rem !important;}@media (min-width:651px) and (max-width:767px) and (max-height:999px){font-size:0.8rem !important;}@media (min-width:401px) and (max-width:650px) and (max-height:999px){font-size:0.7rem !important;}@media (max-width:400px) and (max-height:999px){font-size:0.4rem !important;}",""],{fontSize:"0.35rem","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",width:"8em",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",textAlign:"center","@media (min-width: 1024px)":{fontSize:"0.4rem"},"@media (min-width: 1280px)":{fontSize:"0.5rem"},"@media (min-width: 1536px)":{fontSize:"0.6rem"}}),C=Object(s.d)(O).withConfig({displayName:"ModalListClients___StyledId",componentId:"sc-1sozmlr-2"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(5, 150, 105, var(--tw-bg-opacity))",borderRadius:"1rem",width:"6em"}),z=function(){var t=Object(l.a)(r.a.mark((function t(i,e,n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(x.customFetch)("/profiles/list-clients-day?profileId=".concat(e,"&date=").concat(n));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(i,e,n){return t.apply(this,arguments)}}(),S=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv",componentId:"sc-1sozmlr-3"})({"--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",width:"40vw",height:"85vh",padding:"1.25rem"}),I=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv2",componentId:"sc-1sozmlr-4"})({height:"100%"}),L=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv3",componentId:"sc-1sozmlr-5"})({display:"flex",alignItems:"center",justifyContent:"space-between",gap:"0.5rem",marginTop:"0.5rem",marginBottom:"0.5rem"}),D=Object(s.d)("select").withConfig({displayName:"ModalListClients___StyledSelect",componentId:"sc-1sozmlr-6"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",padding:"0.25rem",borderRadius:"0.25rem"}),M=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv4",componentId:"sc-1sozmlr-7"})({"--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",fontWeight:"700",fontSize:"0.5rem","@media (min-width: 1024px)":{fontSize:"0.95rem"}}),N=Object(s.d)("input").withConfig({displayName:"ModalListClients___StyledInput",componentId:"sc-1sozmlr-8"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",padding:"0.25rem",borderRadius:"0.25rem"}),W=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv5",componentId:"sc-1sozmlr-9"})(["",""],(function(t){return t._css2})),R=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv6",componentId:"sc-1sozmlr-10"})(["",""],(function(t){return t._css3})),k=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv7",componentId:"sc-1sozmlr-11"})({display:"flex",justifyContent:"space-between",paddingTop:"0.5rem",alignItems:"center"}),T=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv8",componentId:"sc-1sozmlr-12"})({display:"flex",gap:"1rem"}),E=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv9",componentId:"sc-1sozmlr-13"})(["",""],(function(t){return t._css4})),F=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv10",componentId:"sc-1sozmlr-14"})({position:"relative",display:"flex"}),P=Object(s.d)("img").withConfig({displayName:"ModalListClients___StyledImg",componentId:"sc-1sozmlr-15"})({width:"4em",height:"4em",borderRadius:"9999px",objectFit:"cover"}),B=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv11",componentId:"sc-1sozmlr-16"})(["",""],(function(t){return t._css5})),H=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv12",componentId:"sc-1sozmlr-17"})({display:"flex",alignItems:"center"}),J=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv13",componentId:"sc-1sozmlr-18"})(["",""],(function(t){return t._css6})),Y=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv14",componentId:"sc-1sozmlr-19"})(["",""],(function(t){return t._css7})),U=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv15",componentId:"sc-1sozmlr-20"})({display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem","@media (min-width: 1024px)":{gap:"0.75rem"}}),A=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv16",componentId:"sc-1sozmlr-21"})({position:"relative",display:"flex"}),Q=Object(s.d)("img").withConfig({displayName:"ModalListClients___StyledImg2",componentId:"sc-1sozmlr-22"})({width:"4em",height:"4em",borderRadius:"9999px",objectFit:"cover"}),X=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv17",componentId:"sc-1sozmlr-23"})({"--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",fontWeight:"700",fontSize:"0.5rem","@media (min-width: 1024px)":{fontSize:"0.95rem"}}),q=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv18",componentId:"sc-1sozmlr-24"})({"--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",fontWeight:"700",fontSize:"0.5rem","@media (min-width: 1024px)":{fontSize:"0.95rem"}}),G=function(t){var i,e,o,c,m,u,h,v,g,z,S,I,L,D,M,N,W,G,K,V,Z=t.client,$=t.typeWidth,tt=t.setFlush,it=t.flush,et=+f.a.get("id"),nt=p.a.useRef(),at=function(t,i,e,a,o){var c=Object(s.c)(n||(n=Object(d.a)(["\n    cursor: pointer;\n    transition: transform 0.12s linear;\n\n    :hover {\n      transform: translateY(-6px);\n    }\n\n    :active {\n      transform: translateY(3px);\n    }\n  "])));return p.a.useEffect((function(){var n=t.current;if(n){var d=function(){var t=Object(l.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return navigator.clipboard.writeText(i),t.next=3,Object(x.customFetch)("/agency/history",{method:"POST",body:JSON.stringify({profile_id:e.profile_id,user_id:e.user_id,client_id:e.client_id,action:e.action}),headers:{"content-type":"application/json"}});case 3:j.b.invalidateQueries(["clientPointsDay"]),a(o+1);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return n.addEventListener("click",d),function(){return n.removeEventListener("click",d)}}}),[t,i]),c}(nt,null===Z||void 0===Z||null===(i=Z.extradata)||void 0===i?void 0:i.amolatina_id,{profile_id:-1,user_id:et,client_id:null===Z||void 0===Z?void 0:Z.client_id,action:"copy"},tt,it),dt=null,ot=p.a.useState(null),rt=Object(a.a)(ot,2),lt=rt[0],st=rt[1];null===lt&&-1!==Z.extradata.last_copy.user_id&&(dt=new Date(Z.extradata.last_copy.timestamp),st(Date.UTC(dt.getFullYear(),dt.getMonth(),dt.getDate(),dt.getHours(),dt.getMinutes(),dt.getSeconds(),dt.getMilliseconds())));var ct=p.a.useState([]),mt=Object(a.a)(ct,2),pt=mt[0],ut=mt[1],ht=p.a.useState(0),vt=Object(a.a)(ht,2),xt=vt[0],wt=vt[1];p.a.useEffect((function(){var t,i;if("md"===$||"sm"===$||""===$)ut(Object(x.organizadorRadial)(y,4,8,11,null!==(t=null===Z||void 0===Z||null===(i=Z.extradata)||void 0===i?void 0:i.crowns)&&void 0!==t?t:0,11.25));else if("lg"===$){var e,n;ut(Object(x.organizadorRadial)(y,5,13,16,null!==(e=null===Z||void 0===Z||null===(n=Z.extradata)||void 0===n?void 0:n.crowns)&&void 0!==e?e:0,11.25))}else if("xl"===$){var a,d;ut(Object(x.organizadorRadial)(y,10,21,27,null!==(a=null===Z||void 0===Z||null===(d=Z.extradata)||void 0===d?void 0:d.crowns)&&void 0!==a?a:0,11.25))}else if("2xl"===$){var o,r;ut(Object(x.organizadorRadial)(y,10,22,28,null!==(o=null===Z||void 0===Z||null===(r=Z.extradata)||void 0===r?void 0:r.crowns)&&void 0!==o?o:0,11.25))}else{var l,s;ut(Object(x.organizadorRadial)(y,12,32,42,null!==(l=null===Z||void 0===Z||null===(s=Z.extradata)||void 0===s?void 0:s.crowns)&&void 0!==l?l:0,11.25))}}),[null===Z||void 0===Z||null===(e=Z.extradata)||void 0===e?void 0:e.crowns,$]),p.a.useEffect((function(){if(lt){var t=setInterval((function(){lt&&wt(Date.now()-lt)}),333);return function(){return clearInterval(t)}}}),[xt]);var gt=Object(b.a)(xt);return Object(_.jsx)(R,{_css3:[{padding:"0.25rem",borderWidth:"2px","--tw-border-opacity":"1",borderColor:"rgba(107, 114, 128, var(--tw-border-opacity))",borderRadius:"20px",alignItems:"center"},"@media (min-width: 2560px) { padding: 1.25rem !important;  }","@media (min-height: 1000px) and (max-width: 767px) { padding: 1.25rem !important; }","@media (max-height: 999px) and (max-width: 767px) { padding: 1.25rem !important; }"],children:Object(_.jsxs)(k,{children:[Object(_.jsxs)(T,{children:[Object(_.jsxs)(E,{ref:nt,_css4:[{display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem"},at],children:[Object(_.jsxs)(F,{children:[pt,Object(_.jsx)(P,{src:null!==(o=null===Z||void 0===Z||null===(c=Z.extradata)||void 0===c?void 0:c.photo)&&void 0!==o?o:w.a,onError:function(t){var i=t.currentTarget;i.onerror=null,i.src=w.a},alt:"..."}),Object(_.jsx)(B,{_css5:[{position:"absolute",bottom:"-10px",right:"-7px"},"@media (min-width: 2560px) { bottom: -10px !important; right: -10px !important; }"],children:Object(_.jsx)(H,{children:Object(_.jsx)(J,{_css6:[{display:"flex",justifyContent:"center",gap:"0.125rem","--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))",paddingTop:"0.15rem",paddingBottom:"0.15rem",minWidth:"1rem","@media (min-width: 768px)":{width:"2rem",paddingLeft:"0.25rem",paddingRight:"0.25rem",borderRadius:"0.375rem"},"@media (min-width: 1024px)":{width:"2.9rem",borderRadius:"0.5rem"},"@media (min-width: 1280px)":{borderRadius:"0.75rem"},"@media (min-width: 1536px)":{borderRadius:"1rem"}},"@media (min-width: 2560px) { padding-right: 0.5rem  !important; padding-left: 0.5rem  !important; width: 5rem !important;  }","@media (min-height: 1000px) and (max-width: 767px) { padding-right: 0.5rem  !important; padding-left: 0.5rem  !important; border-radius: 1rem !important; width: 5rem !important; }","@media (max-height: 999px) and (max-width: 767px) { padding-right: 0.5rem  !important; padding-left: 0.5rem  !important; border-radius: 1rem !important; width: 5rem !important; }"],children:Object(_.jsx)(Y,{_css7:[{fontSize:"0.2rem","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))","@media (min-width: 1024px)":{fontSize:"0.25rem"},"@media (min-width: 1280px)":{fontSize:"0.35rem"},"@media (min-width: 1536px)":{fontSize:"0.4rem"}},"@media (min-width: 2560px) { font-size: 0.75rem !important; line-height: 1rem !important; }","@media (min-height: 1000px) and (max-width: 767px) { font-size: 0.75rem !important; line-height: 1rem !important; }","@media (max-height: 999px) and (max-width: 767px) { font-size: 0.375rem !important;  }"],children:(isNaN(Math.round(((new Date).getTime()-new Date(null!==(m=null===Z||void 0===Z||null===(u=Z.extradata)||void 0===u?void 0:u.first_point)&&void 0!==m?m:"").getTime())/864e5))?0:null!==(h=Math.round(((new Date).getTime()-new Date(null!==(v=null===Z||void 0===Z||null===(g=Z.extradata)||void 0===g?void 0:g.first_point)&&void 0!==v?v:"").getTime())/864e5))&&void 0!==h?h:0)+" D"})})})})]}),Object(_.jsx)(O,{title:null===Z||void 0===Z||null===(z=Z.extradata)||void 0===z?void 0:z.name,children:null===Z||void 0===Z||null===(S=Z.extradata)||void 0===S?void 0:S.name})]}),-1!==(null===Z||void 0===Z||null===(I=Z.extradata)||void 0===I||null===(L=I.last_copy)||void 0===L?void 0:L.user_id)?Object(_.jsxs)(U,{children:[Object(_.jsx)(A,{children:Object(_.jsx)(Q,{src:null!==(D=null===Z||void 0===Z||null===(M=Z.extradata)||void 0===M||null===(N=M.last_copy)||void 0===N?void 0:N.photo)&&void 0!==D?D:w.a,onError:function(t){var i=t.currentTarget;i.onerror=null,i.src=w.a},alt:"..."})}),Object(_.jsx)(C,{title:null===Z||void 0===Z||null===(W=Z.extradata)||void 0===W||null===(G=W.last_copy)||void 0===G?void 0:G.name,children:null===Z||void 0===Z||null===(K=Z.extradata)||void 0===K||null===(V=K.last_copy)||void 0===V?void 0:V.name})]}):null]}),"00"!==gt?Object(_.jsxs)(X,{children:["Copiado hace ",gt]}):null,Object(_.jsxs)(q,{children:[null===Z||void 0===Z?void 0:Z.cant," Punteadas"]})]})},"".concat(null===Z||void 0===Z?void 0:Z.client_id))};i.default=function(t){var i=t.setShowListClients,e=t.profileId,n=p.a.useState("30"),d=Object(a.a)(n,2),o=d[0],r=d[1],l=p.a.useState(0),s=Object(a.a)(l,2),m=s[0],u=s[1],x=p.a.useState(""),w=Object(a.a)(x,2),g=w[0],f=w[1],b=Object(j.d)(["clientPointsDay",e,o,m],z),y=b.data,O=b.status,C=p.a.useState(window.innerWidth>=2560?"4k":window.innerWidth>=1536?"2xl":window.innerWidth>=1280?"xl":window.innerWidth>=1024?"lg":window.innerWidth>=768?"md":window.innerWidth<768&&window.innerHeight>=1e3?"4k":"sm"),R=Object(a.a)(C,2),k=R[0],T=R[1];p.a.useEffect((function(){var t=function(){window.innerWidth>=2560?T("4k"):window.innerWidth>=1536?T("2xl"):window.innerWidth>=1280?T("xl"):window.innerWidth>=1024?T("lg"):window.innerWidth>=768?T("md"):window.innerWidth<768&&window.innerHeight>=1e3?T("4k"):T("sm")};return window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}}),[]);var E=null===y||void 0===y?void 0:y.filter((function(t){var i,e,n;return null===t||void 0===t||null===(i=t.extradata)||void 0===i||null===(e=i.name)||void 0===e||null===(n=e.toLowerCase())||void 0===n?void 0:n.includes(null===g||void 0===g?void 0:g.toLowerCase())}));return Object(_.jsx)(c.a,{setShowModal:i,children:Object(_.jsx)(S,{children:"loading"===O?Object(_.jsx)(h.a,{}):Object(_.jsxs)(I,{children:[Object(_.jsxs)(L,{children:[Object(_.jsxs)("label",{children:["Ultimos dias:"," ",Object(_.jsxs)(D,{type:"date",value:o,onChange:function(t){return r(t.target.value)},children:[Object(_.jsx)("option",{value:30,children:"30"}),Object(_.jsx)("option",{value:60,children:"60"})]})]}),Object(_.jsxs)(M,{children:[E.length," Clientes"]}),Object(_.jsx)(N,{name:"idInput",placeholder:"Buscar",value:g,onChange:function(t){return f(t.target.value)}})]}),Object(_.jsx)(W,{_css2:[{display:"flex",flexDirection:"column",overflowX:"hidden",height:"90%",width:"100%",padding:"0.5rem",gap:"0.5rem"},v.b],children:E.map((function(t){return Object(_.jsx)(G,{client:t,typeWidth:k,setFlush:u,flush:m})}))})]})})})}}}]);