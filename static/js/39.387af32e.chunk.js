(this.webpackJsonpivan=this.webpackJsonpivan||[]).push([[39],{428:function(t,e,n){"use strict";n.r(e);var a=n(6),d=n(1),i=n.n(d),o=n(8),r=n(3),c=n(12),l=n(91),s=n(10),p=n(7),b=n.n(p),g=n(0),h=n(117),u=n(2),j=function(){var t=Object(o.a)(i.a.mark((function t(e,n,a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(s.s)("/operators/fines?operatorId=".concat(n,"&date=").concat(a));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}();function m(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return"".concat(t.getUTCFullYear(),"-").concat(t.getUTCMonth()+1<10?"0".concat(t.getUTCMonth()+1):t.getUTCMonth()+1,"-").concat(t.getUTCDate()<10?"0".concat(t.getUTCDate()):t.getUTCDate())}var x=Object(r.d)("div").withConfig({displayName:"MultasModal___StyledDiv",componentId:"dpgz2x-0"})({display:"flex",justifyContent:"center",alignItems:"center",gap:"0.5rem"}),f=Object(r.d)(h.a).withConfig({displayName:"MultasModal___StyledLeftSvg",componentId:"dpgz2x-1"})({width:"1rem",height:"1rem"}),y=Object(r.d)("input").withConfig({displayName:"MultasModal___StyledInput",componentId:"dpgz2x-2"})({"--tw-text-opacity":"1",color:"rgba(23, 23, 28, var(--tw-text-opacity))",padding:"0.25rem",borderRadius:"0.25rem"}),O=Object(r.d)(h.a).withConfig({displayName:"MultasModal___StyledLeftSvg2",componentId:"dpgz2x-3"})({width:"1rem",height:"1rem"}),_=Object(r.d)("h1").withConfig({displayName:"MultasModal___StyledH",componentId:"dpgz2x-4"})({"--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",margin:"1rem",fontSize:"1.125rem",lineHeight:"1.75rem"}),w=Object(r.d)("table").withConfig({displayName:"MultasModal___StyledTable",componentId:"dpgz2x-5"})({"--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",margin:"1rem"}),C=Object(r.d)("th").withConfig({displayName:"MultasModal___StyledTh",componentId:"dpgz2x-6"})({borderWidth:"1px",padding:"0.25rem"}),M=Object(r.d)("th").withConfig({displayName:"MultasModal___StyledTh2",componentId:"dpgz2x-7"})({borderWidth:"1px",padding:"0.25rem"}),v=Object(r.d)("th").withConfig({displayName:"MultasModal___StyledTh3",componentId:"dpgz2x-8"})({borderWidth:"1px",padding:"0.25rem"}),T=Object(r.d)("td").withConfig({displayName:"MultasModal___StyledTd",componentId:"dpgz2x-9"})({borderWidth:"1px",padding:"0.25rem"}),S=Object(r.d)("td").withConfig({displayName:"MultasModal___StyledTd2",componentId:"dpgz2x-10"})({borderWidth:"1px",padding:"0.25rem"}),I=Object(r.d)("td").withConfig({displayName:"MultasModal___StyledTd3",componentId:"dpgz2x-11"})({borderWidth:"1px",padding:"0.25rem"}),z=Object(r.d)("td").withConfig({displayName:"MultasModal___StyledTd4",componentId:"dpgz2x-12"})({borderWidth:"1px",padding:"0.25rem","--tw-bg-opacity":"1",backgroundColor:"rgba(220, 38, 38, var(--tw-bg-opacity))",fontWeight:"700"});e.default=function(t){var e=t.setShowMultasModal,n=t.operadorId,d=Object(g.useState)(m()),r=Object(a.a)(d,2),p=r[0],h=r[1],N=c.b.getQueryData(["perfiles"]),U=Object(c.d)(["multas",n,p],j).data,D=b.a.get("role");return Object(u.jsxs)(l.a,{setShowModal:e,children:[Object(u.jsx)("div",{children:Object(u.jsxs)(x,{children:[Object(u.jsx)("button",{type:"button",onClick:function(){var t=new Date(p);h(m(Object(s.bb)(t,-1)))},children:Object(u.jsx)(f,{transform:"scale(1,1)"})}),Object(u.jsx)("label",{children:Object(u.jsx)(y,{type:"date",value:p,onChange:function(t){h(t.target.value)}})}),Object(u.jsx)("button",{type:"button",onClick:function(){var t=new Date(p);h(m(Object(s.bb)(t,1)))},children:Object(u.jsx)(O,{transform:"scale(-1,1)"})})]})}),U&&0!==(null===U||void 0===U?void 0:U.length)?Object(u.jsxs)(w,{children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)(C,{children:"Tipo"}),Object(u.jsx)(M,{children:"Perfil"}),Object(u.jsx)(v,{children:"Fecha"})]})}),Object(u.jsx)("tbody",{children:U.map((function(t){var e,n=new Date(t.timestamp),a=Date.UTC(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds()),d=new Date(a);return Object(u.jsxs)("tr",{children:[Object(u.jsx)(T,{children:"mingle"===t.type?"Mingle":"offline"===t.type?"Offline":"miss"===t.type?"Falta":"Carta"}),Object(u.jsx)(S,{children:null===N||void 0===N||null===(e=N.find((function(e){return e.id===t.profile_id})))||void 0===e?void 0:e.nombre}),Object(u.jsx)(I,{children:d.toLocaleString()}),"admin"===D?Object(u.jsx)(z,{children:Object(u.jsx)("button",{onClick:Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("qaz"!==prompt()){e.next=6;break}return e.next=4,Object(s.s)("/operators/delete-fine",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({fineId:t.id})});case 4:return e.next=6,c.b.invalidateQueries(["multas"]);case 6:case"end":return e.stop()}}),e)}))),children:"Eliminar"})}):null]},t.id)}))})]}):Object(u.jsx)(_,{children:"No tiene multas"})]})}}}]);