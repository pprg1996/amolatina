(this.webpackJsonpivan=this.webpackJsonpivan||[]).push([[15],{110:function(e,t,s){"use strict";var i=s(9),a=s(99),n=s(0),r=s(1),o=Object(n.lazy)((function(){return Promise.all([s.e(0),s.e(8)]).then(s.bind(null,160))}));t.a=function(e){var t=e.id,s=e.nombre,d=e.foto,u=e.puntos1,l=e.puntos2,c=e.summary1,p=e.summary2,m=e.supervisorId,b=e.usarMultasOAvisos,j=e.noModal,f=e.tipoEntidad,O=e.amolatinaId,v=e.metaDia,g=e.metaMes,h=e.latestFeedTimestamp,x=e.fineCount,y=e.fineAlertCount,M=e.online,S=e.mingle,k=e.introductory,C=e.operador,D=e.operadorDePausa,I=e.operadoresAsignadosIds,w=e.missingMingleTimestamp,A=e.offlineTimestamp,T=e.unrepliedLettersTimestamps,F=e.token,P=e.perfiles,L=e.perfilesPausados,E=e.pausado,z=Object(n.useState)(!1),J=Object(i.a)(z,2),U=J[0],V=J[1];return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("button",{onClick:function(){return V(!0)},children:Object(r.jsx)(a.a,{id:t,nombre:s,foto:d,puntos1:u,puntos2:l,summary1:c,summary2:p,tipoEntidad:f,meta1:v,meta2:g,latestFeedTimestamp:h,usarMultasOAvisos:b,fineCount1:null===x||void 0===x?void 0:x.dia,fineAlertCount1:null===y||void 0===y?void 0:y.dia,fineCount2:null===x||void 0===x?void 0:x.mes,fineAlertCount2:null===y||void 0===y?void 0:y.mes,online:M,mingle:S,introductory:k,operador:C,operadorDePausa:D,operadoresAsignadosIds:I,missingMingleTimestamp:w,offlineTimestamp:A,unrepliedLettersTimestamps:T,token:F,perfiles:P,perfilesPausados:L,pausado:E})}),U&&!j?Object(r.jsx)(n.Suspense,{fallback:Object(r.jsx)("div",{children:"Loading..."}),children:Object(r.jsx)(o,{id:t,nombre:s,foto:d,setShowModal:V,supervisorId:m,tipoEntidad:f,amolatinaId:O})}):null]})}},410:function(e,t,s){"use strict";s.r(t);var i=s(4),a=s(9),n=s(2),r=s.n(n),o=s(8),d=s(5),u=s(78),l=s(6),c=s(10),p=s(110),m=s(0),b=s(104),j=s(159),f=s(1),O=Object(m.lazy)((function(){return s.e(19).then(s.bind(null,384))})),v=Object(m.lazy)((function(){return s.e(18).then(s.bind(null,385))})),g=d.d.div.withConfig({displayName:"Operadores__OperadoresDiv",componentId:"sc-1pye1q6-0"})(["margin-top:12px;padding:20px 48px 20px 16px;display:grid;gap:32px;grid-template-columns:repeat(4,minmax(0,1fr));overflow-x:hidden;align-items:start;",""],u.b),h=function(){var e=Object(o.a)(r.a.mark((function e(t,s){var i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([Object(l.customFetch)("/feeds/all-operators-summary?tiempo=dia"),Object(l.customFetch)("/feeds/all-operators-summary?tiempo=mes")]);case 2:return i=e.sent,e.abrupt("return",Object(l.renombrarPropiedadesAnidadas)({summaryDia:i[0],summaryMes:i[1]}));case 4:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}();t.default=function(e){var t=e.entidadSeleccionadaFeed,s=e.orden,n=e.multasOAvisos,r=Object(c.d)("operadores",l.fetchOperadores).data,o=Object(c.d)(["feedsSummary"],h).data,d=Object(m.useContext)(b.b),u=Object(m.useState)(!1),x=Object(a.a)(u,2),y=x[0],M=x[1],S=Object(m.useState)(!1),k=Object(a.a)(S,2),C=k[0],D=k[1],I=Object(m.useState)(0),w=Object(a.a)(I,2),A=w[0],T=w[1],F=Object(c.d)(["supervisores"],l.fetchSupervisores).data;return Object(f.jsxs)(g,{children:[null===r||void 0===r?void 0:r.sort((function(e,t){return"dia"===s?t.progresoDia-e.progresoDia:t.progresoMes-e.progresoMes})).map((function(e){if("supervisor"===t.entity){var s=t.ids;if(!s.includes(e.supervisorId)&&!s.includes(e.id)&&!(null!==F&&void 0!==F?F:[]).filter((function(e){return s.includes(e.id)})).map((function(e){return e.substitute})).includes(+e.id))return null}for(var a=0,r=0;r<((null===d||void 0===d?void 0:d.length)||-1);r++){var u;if(e.id===+(null!==(u=d[r].extraUserId)&&void 0!==u?u:d[r].userId)&&"feeds"===d[r].tablename){var l=new Date(d[r].timestamp);a=Date.UTC(l.getFullYear(),l.getMonth(),l.getDate(),l.getHours(),l.getMinutes(),l.getSeconds(),l.getMilliseconds());break}}return Object(f.jsxs)(m.Fragment,{children:[Object(f.jsx)(j.b,{id:""+e.id,children:Object(f.jsx)(p.a,Object(i.a)(Object(i.a)({},Object(i.a)(Object(i.a)({},e),{},{summary1:null===o||void 0===o?void 0:o.summaryDia[e.id],summary2:null===o||void 0===o?void 0:o.summaryMes[e.id],puntos1:e.progresoDia,puntos2:e.progresoMes,latestFeedTimestamp:a,usarMultasOAvisos:n})),{},{tipoEntidad:"operador"}))}),Object(f.jsxs)(j.a,{id:""+e.id,children:[Object(f.jsx)(j.c,{onClick:function(){M(!0),T(e.id)},children:"Ver multas"}),Object(f.jsx)(j.c,{onClick:function(){D(!0),T(e.id)},children:"Ver progreso de metas"})]})]},e.id)})),y?Object(f.jsx)(m.Suspense,{fallback:Object(f.jsx)("div",{children:"Loading..."}),children:Object(f.jsx)(O,{operadorId:A,setShowMultasModal:M})}):null,C?Object(f.jsx)(m.Suspense,{fallback:Object(f.jsx)("div",{children:"Loading..."}),children:Object(f.jsx)(v,{operadorId:A,setShowMetasOperadorModal:D})}):null]})}}}]);