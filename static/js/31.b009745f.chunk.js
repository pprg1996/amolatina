(this.webpackJsonpivan=this.webpackJsonpivan||[]).push([[31],{641:function(t,e,d){"use strict";d.r(e);var n=d(2),a=d.n(n),i=d(8),r=d(3),o=d(11),c=d(92),l=d(7),s=d(10),p=d.n(s),h=d(1),b=function(){var t=Object(i.a)(a.a.mark((function t(e,d){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(l.customFetch)("/operators/fines?operatorId=".concat(d));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,d){return t.apply(this,arguments)}}(),u=Object(r.d)("h1").withConfig({displayName:"MultasModal___StyledH",componentId:"dpgz2x-0"})({"--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",margin:"1rem",fontSize:"1.125rem",lineHeight:"1.75rem"}),g=Object(r.d)("table").withConfig({displayName:"MultasModal___StyledTable",componentId:"dpgz2x-1"})({"--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",margin:"1rem"}),m=Object(r.d)("th").withConfig({displayName:"MultasModal___StyledTh",componentId:"dpgz2x-2"})({borderWidth:"1px",padding:"0.25rem"}),j=Object(r.d)("th").withConfig({displayName:"MultasModal___StyledTh2",componentId:"dpgz2x-3"})({borderWidth:"1px",padding:"0.25rem"}),x=Object(r.d)("th").withConfig({displayName:"MultasModal___StyledTh3",componentId:"dpgz2x-4"})({borderWidth:"1px",padding:"0.25rem"}),f=Object(r.d)("td").withConfig({displayName:"MultasModal___StyledTd",componentId:"dpgz2x-5"})({borderWidth:"1px",padding:"0.25rem"}),O=Object(r.d)("td").withConfig({displayName:"MultasModal___StyledTd2",componentId:"dpgz2x-6"})({borderWidth:"1px",padding:"0.25rem"}),y=Object(r.d)("td").withConfig({displayName:"MultasModal___StyledTd3",componentId:"dpgz2x-7"})({borderWidth:"1px",padding:"0.25rem"}),_=Object(r.d)("td").withConfig({displayName:"MultasModal___StyledTd4",componentId:"dpgz2x-8"})({borderWidth:"1px",padding:"0.25rem","--tw-bg-opacity":"1",backgroundColor:"rgba(220, 38, 38, var(--tw-bg-opacity))",fontWeight:"700"});e.default=function(t){var e=t.setShowMultasModal,d=t.operadorId,n=Object(o.d)(["perfiles"],l.fetchPerfiles).data,r=Object(o.d)(["multas",d],b).data,s=p.a.get("role");return Object(h.jsx)(c.a,{setShowModal:e,children:r&&0!==(null===r||void 0===r?void 0:r.length)?Object(h.jsxs)(g,{children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)(m,{children:"Tipo"}),Object(h.jsx)(j,{children:"Perfil"}),Object(h.jsx)(x,{children:"Fecha"})]})}),Object(h.jsx)("tbody",{children:r.map((function(t){var e,d=new Date(t.timestamp),r=Date.UTC(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate(),d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),c=new Date(r);return Object(h.jsxs)("tr",{children:[Object(h.jsx)(f,{children:"mingle"===t.type?"Mingle":"offline"===t.type?"Offline":"miss"===t.type?"Falta":"Carta"}),Object(h.jsx)(O,{children:null===n||void 0===n||null===(e=n.find((function(e){return e.id===t.profile_id})))||void 0===e?void 0:e.nombre}),Object(h.jsx)(y,{children:c.toLocaleString()}),"admin"===s?Object(h.jsx)(_,{children:Object(h.jsx)("button",{onClick:Object(i.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("qaz"!==prompt()){e.next=5;break}return e.next=4,Object(l.customFetch)("/operators/delete-fine",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({fineId:t.id})});case 4:o.b.invalidateQueries(["multas"]);case 5:case"end":return e.stop()}}),e)}))),children:"Eliminar"})}):null]},t.id)}))})]}):Object(h.jsx)(u,{children:"No tiene multas"})})}}}]);