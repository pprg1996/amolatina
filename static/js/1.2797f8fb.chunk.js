(this.webpackJsonpivan=this.webpackJsonpivan||[]).push([[1],{157:function(t,e,a){"use strict";a.d(e,"b",(function(){return u}));var n=a(9),i=a(20),c=a(5),o=a(1),s=a(6).ActionIcon,l=Object(c.d)(s).withConfig({displayName:"ColoredCheckbox___StyledActionIcon",componentId:"sc-2a66eg-0"})({width:"auto",height:"1.75rem"}),r=Object(c.d)("label").withConfig({displayName:"ColoredCheckbox___StyledLabel",componentId:"sc-2a66eg-1"})({borderRadius:"1rem",padding:"0.75rem",borderWidth:"1px",flexShrink:"0",display:"flex",alignItems:"center",gap:"0.5rem",flexDirection:"column"}),d=Object(c.d)("div").withConfig({displayName:"ColoredCheckbox___StyledDiv",componentId:"sc-2a66eg-2"})({display:"flex",alignItems:"center",gap:"0.75rem"}),u=function(t,e){var a,c=!0,o=Object(i.a)(Object.entries(t).filter((function(t){var a=Object(n.a)(t,1)[0];return a.startsWith("show")&&a!=="show"+e.replace(/ /g,"")})));try{for(o.s();!(a=o.n()).done;){Object(n.a)(a.value,2)[1]&&(c=!1)}}catch(f){o.e(f)}finally{o.f()}if(t["show"+e.replace(/ /g,"")]&&c){var s,l=Object(i.a)(Object.entries(t).filter((function(t){return Object(n.a)(t,1)[0].startsWith("set")})));try{for(l.s();!(s=l.n()).done;){var r=Object(n.a)(s.value,2),d=r[0],u=r[1];"setShowClientes"!==d&&u(!0)}}catch(f){l.e(f)}finally{l.f()}}else for(var j=0,b=Object.entries(t);j<b.length;j++){var p=Object(n.a)(b[j],2),h=p[0],g=p[1];"function"===typeof g&&(h==="setShow"+e.replace(/ /g,"")?g(!0):g(!1))}};e.a=function(t){var e=t.text,a=t.checked,n=t.setChecked,i=t.color,c=t.service,s=t.filter,j=t.total;return Object(o.jsxs)(r,{style:{borderColor:i},title:e,onDoubleClick:function(){return u(s,e)},children:[Object(o.jsxs)(d,{children:[Object(o.jsx)(l,{type:c}),Object(o.jsx)("input",{type:"checkbox",checked:a,onChange:function(t){return n(t.target.checked)}})]}),Object(o.jsx)("span",{children:j})]})}},417:function(t,e,a){"use strict";a.r(e);var n=a(20),i=a(4),c=a(9),o=a(2),s=a.n(o),l=a(8),r=a(5),d=a(96),u=a(0),j=a(10),b=a(6),p=a(404),h=a(405),g=a(399),f=a(406),y=a(380),x=a(381),m=a(21),O=a(397),v=a(342),w=a(1),C=function(t,e,a,n,i,c,o,s,l,r){var d,u=j.b.getQueryData(["perfiles"]),p=j.b.getQueryData(["tags"]);return"clientes"===t?"all"!==e||"all"!==a?Object(w.jsx)(O.a,{dataKey:"total",stackId:"a",fill:"#6B39BD",isAnimationActive:!1,yAxisId:"left-axis",children:Object(w.jsx)(v.a,{dataKey:"total",position:"top",style:{fill:"white"}})}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(O.a,{dataKey:"notContacted",stackId:"a",fill:"#6B39BD",isAnimationActive:!1,yAxisId:"left-axis"}),Object(w.jsx)(O.a,{dataKey:"contacted",stackId:"a",fill:"#82ca9d",isAnimationActive:!1,yAxisId:"left-axis",children:"clientes"!==t?Object(w.jsx)(v.a,{dataKey:"total",position:"top",style:{fill:"white"}}):null}),Object(w.jsx)(O.a,{dataKey:"pointed",stackId:"a",fill:"#FAC24B",isAnimationActive:!1,yAxisId:"left-axis",children:Object(w.jsx)(v.a,{dataKey:"total",position:"top",style:{fill:"white"}})}),r.showClientes?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(O.a,{dataKey:"cantidadDeClientesViejos",yAxisId:"right-axis",fill:"#3346ff",isAnimationActive:!1,children:Object(w.jsx)(v.a,{dataKey:"cantidadDeClientesViejos",position:"top",style:{fill:"white"}})}),Object(w.jsx)(O.a,{dataKey:"cantidadDeClientesNuevos",yAxisId:"right-axis",fill:"#70dcba",isAnimationActive:!1,children:Object(w.jsx)(v.a,{dataKey:"cantidadDeClientesNuevos",position:"top",style:{fill:"white"}})})]}):null]}):"puntos"===t?Object(w.jsxs)(w.Fragment,{children:[("bonus"===s?b.bonusTypes:b.writeoffTypes).map((function(t,e,a){var n=t.name,i=t.value,c=a.length;return Object(w.jsx)(O.a,{dataKey:r["show"+n.replace(/ /g,"")]?i:null,stackId:"a",fill:b.contrastingHexColors[e],isAnimationActive:!1,yAxisId:"left-axis",children:e===c-1?Object(w.jsx)(v.a,{dataKey:"total",position:"top",style:{fill:"white"}}):null},i)})),r.showClientes?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(O.a,{dataKey:"cantidadDeClientesViejos",yAxisId:"right-axis",fill:"#3346ff",isAnimationActive:!1,children:Object(w.jsx)(v.a,{dataKey:"cantidadDeClientesViejos",position:"top",style:{fill:"white"}})}),Object(w.jsx)(O.a,{dataKey:"cantidadDeClientesNuevos",yAxisId:"right-axis",fill:"#70dcba",isAnimationActive:!1,children:Object(w.jsx)(v.a,{dataKey:"cantidadDeClientesNuevos",position:"top",style:{fill:"white"}})})]}):null]}):"cartas24"===t?"all"===a?u.map((function(t,e,a){var n=t.id,i=t.nombre,c=a.length;return Object(w.jsx)(O.a,{dataKey:i,stackId:"a",fill:b.contrastingHexColors[e%b.contrastingHexColors.length],isAnimationActive:!1,yAxisId:"left-axis",children:e===c-1?Object(w.jsx)(v.a,{dataKey:"total",position:"top",style:{fill:"white"}}):null},n)})):"all"===o?null===c||void 0===c?void 0:c.map((function(t,e,a){var n=t.id,i=t.title,c=a.length;return Object(w.jsx)(O.a,{dataKey:n+" "+i,stackId:"a",fill:b.contrastingHexColors[e%b.contrastingHexColors.length],isAnimationActive:!1,yAxisId:"left-axis",children:e===c-1?Object(w.jsx)(v.a,{dataKey:"total",position:"top",style:{fill:"white"}}):null},n)})):null===(d=["all"].concat(Object(m.a)(null!==p&&void 0!==p?p:[])))||void 0===d?void 0:d.map((function(t,e,a){var n=a.length;return Object(w.jsx)(O.a,{dataKey:t,stackId:"a",fill:b.contrastingHexColors[e%b.contrastingHexColors.length],isAnimationActive:!1,yAxisId:"left-axis",children:e===n-1?Object(w.jsx)(v.a,{dataKey:"total",position:"top",style:{fill:"white"}}):null},t)})):void 0},_=a(12),I=a.n(_),S=a(157),A=function(){var t=Object(l.a)(s.a.mark((function t(e,a,n,i,c,o,l,r,d,u,j,p,h,g,f,y){var x,m,O,v,w,C,_,I,S,A,N,k,M,E;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(x="clientes"===a?"clients-stats":"points-stats",m=i?"&country=".concat(i):"",O=o?"&hour=".concat(o):"",v="&minAge=".concat(c?c[0]:j),w="&maxAge=".concat(c?c[1]:p),"&operatorId=".concat(r),C="&profileId=".concat(d),_="&tag=".concat(l),I="all"!==h?"&gender=".concat(h):"",S="all"!==g?"&prefGender=".concat(g):"",A="&fromDate=".concat(f),N="&toDate=".concat(y),"cartas24"!==a){t.next=19;break}return k="all"!==r?"&operatorId=".concat(r):"",M="all"!==d?"&profileId=".concat(d):"",E="all"!==u?"&botLetterId=".concat(u):"",t.next=18,Object(b.customFetch)("/bot-letters/delivery-count?".concat(M).concat(k).concat(E));case 18:return t.abrupt("return",t.sent);case 19:return t.next=21,Object(b.customFetch)("/agency/".concat(x,"?group=").concat(n).concat(m).concat(O).concat(v).concat(w).concat(_).concat(C).concat(I).concat(S).concat(A).concat(N));case 21:return t.abrupt("return",t.sent);case 22:case"end":return t.stop()}}),t)})));return function(e,a,n,i,c,o,s,l,r,d,u,j,b,p,h,g){return t.apply(this,arguments)}}(),N=function(){var t=Object(l.a)(s.a.mark((function t(e,a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("all"!==a){t.next=2;break}return t.abrupt("return",[]);case 2:return t.next=4,Object(b.customFetch)("/bot-letters/profile-letters?profileId=".concat(a,"&visible=all"));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),k=Object(r.d)("div").withConfig({displayName:"EstadisticasModal___StyledDiv",componentId:"sc-1s0j11n-0"})({width:"90vw",height:"95vh",overflowX:"auto",display:"flex",flexDirection:"column","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))"}),M=Object(r.d)("div").withConfig({displayName:"EstadisticasModal___StyledDiv2",componentId:"sc-1s0j11n-1"})({paddingLeft:"1rem",paddingRight:"1rem",paddingTop:"0.5rem",paddingBottom:"0.5rem",display:"flex",gap:"1rem",alignItems:"center"}),E=Object(r.d)("select").withConfig({displayName:"EstadisticasModal___StyledSelect",componentId:"sc-1s0j11n-2"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",borderRadius:"1rem",padding:"0.25rem"}),D=Object(r.d)("select").withConfig({displayName:"EstadisticasModal___StyledSelect2",componentId:"sc-1s0j11n-3"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",borderRadius:"1rem",padding:"0.25rem"}),R=Object(r.d)("select").withConfig({displayName:"EstadisticasModal___StyledSelect3",componentId:"sc-1s0j11n-4"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",borderRadius:"1rem",padding:"0.25rem"}),T=Object(r.d)("select").withConfig({displayName:"EstadisticasModal___StyledSelect4",componentId:"sc-1s0j11n-5"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",borderRadius:"1rem",padding:"0.25rem"}),K=Object(r.d)("button").withConfig({displayName:"EstadisticasModal___StyledButton",componentId:"sc-1s0j11n-6"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(220, 38, 38, var(--tw-bg-opacity))",borderRadius:"0.25rem",paddingLeft:"0.5rem",paddingRight:"0.5rem",paddingTop:"0.25rem",paddingBottom:"0.25rem"}),P=Object(r.d)("select").withConfig({displayName:"EstadisticasModal___StyledSelect5",componentId:"sc-1s0j11n-7"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",borderRadius:"1rem",padding:"0.25rem"}),F=Object(r.d)("select").withConfig({displayName:"EstadisticasModal___StyledSelect6",componentId:"sc-1s0j11n-8"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",borderRadius:"1rem",padding:"0.25rem"}),H=Object(r.d)("input").withConfig({displayName:"EstadisticasModal___StyledInput",componentId:"sc-1s0j11n-9"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",width:"3rem",borderRadius:"1rem",padding:"0.25rem"}),L=Object(r.d)("input").withConfig({displayName:"EstadisticasModal___StyledInput2",componentId:"sc-1s0j11n-10"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",width:"3rem",borderRadius:"1rem",padding:"0.25rem"}),B=Object(r.d)("select").withConfig({displayName:"EstadisticasModal___StyledSelect7",componentId:"sc-1s0j11n-11"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",borderRadius:"1rem",padding:"0.25rem"}),V=Object(r.d)("select").withConfig({displayName:"EstadisticasModal___StyledSelect8",componentId:"sc-1s0j11n-12"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",borderRadius:"1rem",padding:"0.25rem"}),W=Object(r.d)("input").withConfig({displayName:"EstadisticasModal___StyledInput3",componentId:"sc-1s0j11n-13"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",width:"9rem",borderRadius:"1rem",padding:"0.25rem"}),J=Object(r.d)("input").withConfig({displayName:"EstadisticasModal___StyledInput4",componentId:"sc-1s0j11n-14"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",width:"9rem",borderRadius:"1rem",padding:"0.25rem"}),z=Object(r.d)("div").withConfig({displayName:"EstadisticasModal___StyledDiv3",componentId:"sc-1s0j11n-15"})({display:"flex",flexDirection:"column",paddingLeft:"0.75rem",paddingRight:"0.75rem",paddingTop:"0.5rem",paddingBottom:"0.5rem",borderRadius:"1rem","--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))"}),G=Object(r.d)("label").withConfig({displayName:"EstadisticasModal___StyledLabel",componentId:"sc-1s0j11n-16"})({display:"flex",gap:"0.5rem",alignItems:"center",justifyContent:"space-between"}),Q=Object(r.d)("label").withConfig({displayName:"EstadisticasModal___StyledLabel2",componentId:"sc-1s0j11n-17"})({display:"flex",gap:"0.5rem",alignItems:"center",justifyContent:"space-between"}),U=Object(r.d)("div").withConfig({displayName:"EstadisticasModal___StyledDiv4",componentId:"sc-1s0j11n-18"})({display:"flex",flexDirection:"column",paddingLeft:"0.75rem",paddingRight:"0.75rem",paddingTop:"0.5rem",paddingBottom:"0.5rem",borderRadius:"1rem","--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))"}),X=Object(r.d)("label").withConfig({displayName:"EstadisticasModal___StyledLabel3",componentId:"sc-1s0j11n-19"})({display:"flex",gap:"0.5rem",alignItems:"center",justifyContent:"space-between"}),Y=Object(r.d)("label").withConfig({displayName:"EstadisticasModal___StyledLabel4",componentId:"sc-1s0j11n-20"})({display:"flex",gap:"0.5rem",alignItems:"center",justifyContent:"space-between"}),q=Object(r.d)("label").withConfig({displayName:"EstadisticasModal___StyledLabel5",componentId:"sc-1s0j11n-21"})({display:"flex",gap:"1rem",alignItems:"center",userSelect:"none",borderWidth:"1px","--tw-border-opacity":"1",borderColor:"rgba(255, 255, 255, var(--tw-border-opacity))",borderRadius:"1rem",padding:"0.75rem"}),Z=Object(r.d)("div").withConfig({displayName:"EstadisticasModal___StyledDiv5",componentId:"sc-1s0j11n-22"})({display:"flex",alignItems:"center",gap:"0.75rem"}),$=Object(r.d)("div").withConfig({displayName:"EstadisticasModal___StyledDiv6",componentId:"sc-1s0j11n-23"})({display:"flex",flexDirection:"column",gap:"0.5rem"}),tt=Object(r.d)("span").withConfig({displayName:"EstadisticasModal___StyledSpan",componentId:"sc-1s0j11n-24"})({width:"max-content"}),et=Object(r.d)("span").withConfig({displayName:"EstadisticasModal___StyledSpan2",componentId:"sc-1s0j11n-25"})({width:"max-content"}),at=Object(r.d)("div").withConfig({displayName:"EstadisticasModal___StyledDiv7",componentId:"sc-1s0j11n-26"})({flexGrow:"1"});e.default=function(t){var e,a=t.setShowEstadisticasModal,o=t.initEstadistica,s=t.initPerfilId,l=t.initPerfilCarta24Id,r=Object(u.useState)(null!==o&&void 0!==o?o:"puntos"),m=Object(c.a)(r,2),O=m[0],v=m[1],_=Object(u.useState)("dateRange"),nt=Object(c.a)(_,2),it=nt[0],ct=nt[1],ot=Object(u.useState)(),st=Object(c.a)(ot,2),lt=st[0],rt=st[1],dt=Object(u.useState)(),ut=Object(c.a)(dt,2),jt=ut[0],bt=ut[1],pt=Object(u.useState)(),ht=Object(c.a)(pt,2),gt=ht[0],ft=ht[1],yt=Object(u.useState)("all"),xt=Object(c.a)(yt,2),mt=xt[0],Ot=xt[1],vt=Object(u.useState)("all"),wt=Object(c.a)(vt,2),Ct=wt[0],_t=(wt[1],Object(u.useState)(null!==s&&void 0!==s?s:"all")),It=Object(c.a)(_t,2),St=It[0],At=It[1],Nt=Object(u.useState)(null!==l&&void 0!==l?l:"all"),kt=Object(c.a)(Nt,2),Mt=kt[0],Et=kt[1],Dt=Object(u.useState)(18),Rt=Object(c.a)(Dt,2),Tt=Rt[0],Kt=Rt[1],Pt=Object(u.useState)(80),Ft=Object(c.a)(Pt,2),Ht=Ft[0],Lt=Ft[1],Bt=Object(u.useState)("all"),Vt=Object(c.a)(Bt,2),Wt=Vt[0],Jt=Vt[1],zt=Object(u.useState)("all"),Gt=Object(c.a)(zt,2),Qt=Gt[0],Ut=Gt[1],Xt=Object(u.useState)((new Date).toISOString().substring(0,7)+"-01"),Yt=Object(c.a)(Xt,2),qt=Yt[0],Zt=Yt[1],$t=new Date;$t.setUTCMonth($t.getUTCMonth()+1,0);var te,ee=Object(u.useState)($t.toISOString().substring(0,10)),ae=Object(c.a)(ee,2),ne=ae[0],ie=ae[1],ce=Object(u.useState)("bonus"),oe=Object(c.a)(ce,2),se=oe[0],le=oe[1],re=Object(u.useState)("puntos"),de=Object(c.a)(re,2),ue=de[0],je=de[1],be=Object(b.useFilterGraphFilter)(),pe=Object(u.useState)(!0),he=Object(c.a)(pe,2),ge=he[0],fe=he[1],ye=Object(j.d)(["tags"],b.fetchTags,{staleTime:1/0}).data,xe=Object(j.d)(["estadisticas",O,it,lt,jt,gt,mt,Ct,St,Mt,Tt,Ht,Wt,Qt,qt,ne],A,{refetchInterval:!1,staleTime:1/0,refetchOnMount:"always"}).data,me=Object(j.d)(["perfiles"],b.fetchPerfiles,{refetchInterval:!1}).data,Oe=Object(j.d)(["cartas-bot-all",St],N,{refetchInterval:!1}).data,ve=null===xe||void 0===xe?void 0:xe.map((function(t){if("puntos"===O){var e,a,n=t.points,o=t.count,s=t.day,l=t.hour,r=t.country,d=t.ageRange,u=t.clientesComunicadosViejos,j=t.clientesComunicadosNuevos,p=0,h=JSON.parse(JSON.stringify(null!==(e=null===(a="puntos"===ue?n:o)||void 0===a?void 0:a[se])&&void 0!==e?e:{}));Object.entries(h).forEach((function(t){var e=Object(c.a)(t,2),a=e[0],n=e[1],i=b.bonusYWriteoffTypes.find((function(t){return t.value===a})).name;be["show"+i.replace(/ /g,"")]&&(p+=n)}));for(var g=0,f=Object.entries(h);g<f.length;g++){var y=Object(c.a)(f[g],2),x=y[0],m=y[1];h[x]=Math.floor(m)}return Object(i.a)(Object(i.a)({day:s,hour:l,country:r,ageRange:d},h),{},{total:Math.floor(p),cantidadDeClientesViejos:u.length,cantidadDeClientesNuevos:j.length})}if("clientes"===O){var v=t.notContacted,w=t.contacted,C=t.pointed,_=t.total,I=t.country,S=t.ageRange,A=t.clientesComunicadosViejos,N=t.clientesComunicadosNuevos;return{notContacted:v,contacted:w,pointed:C,hour:gt,country:I,ageRange:S,total:_,cantidadDeClientesViejos:A.length,cantidadDeClientesNuevos:N.length}}return t})),we=new Set,Ce=new Set,_e=Object(n.a)(null!==xe&&void 0!==xe?xe:[]);try{for(_e.s();!(te=_e.n()).done;){var Ie=te.value,Se=Ie.clientesComunicadosViejos,Ae=Ie.clientesComunicadosNuevos;null===Se||void 0===Se||Se.forEach((function(t){return we.add(t)})),null===Ae||void 0===Ae||Ae.forEach((function(t){return Ce.add(t)}))}}catch(Ne){_e.e(Ne)}finally{_e.f()}return Ce.forEach((function(t){return we.delete(t)})),Object(w.jsx)(d.a,{setShowModal:a,children:Object(w.jsxs)(k,{children:[Object(w.jsxs)(M,{children:[Object(w.jsx)("button",{onClick:function(){return fe((function(t){return!t}))},children:ge?"< >":"> <"}),Object(w.jsxs)("label",{children:["Contabilizar:"," ",Object(w.jsxs)(E,{value:O,onChange:function(t){v(t.target.value),ct("country"),rt(),bt(),ft()},children:[Object(w.jsx)("option",{value:"clientes",children:"Clientes"}),Object(w.jsx)("option",{value:"puntos",children:"Puntos"}),Object(w.jsx)("option",{value:"cartas24",children:"Cartas 24"})]})]}),lt?Object(w.jsxs)("span",{children:["Pais: ",lt]}):null,jt?Object(w.jsxs)("span",{children:["Edad: ",jt[0],"-",jt[1]]}):null,void 0!==gt?Object(w.jsxs)("span",{children:["Hora: ",0===gt?"12 AM":gt<12?"".concat(gt," AM"):12===gt?"12 PM":"".concat(gt-12," PM")]}):null,"cartas24"===O?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("label",{children:["Perfil:",Object(w.jsxs)(D,{value:St,onChange:function(t){Et("all"),At(t.target.value)},children:[Object(w.jsx)("option",{value:"all",children:"Todos"}),null===me||void 0===me?void 0:me.map((function(t){return Object(w.jsx)("option",{value:t.id,children:t.nombre},t.id)}))]})]}),"all"!==St?Object(w.jsxs)("label",{children:["Carta:",Object(w.jsxs)(R,{value:Mt,onChange:function(t){return Et(t.target.value)},children:[Object(w.jsx)("option",{value:"all",children:"Todas"}),null===Oe||void 0===Oe?void 0:Oe.map((function(t){return Object(w.jsxs)("option",{value:t.id,children:[t.id," ",t.title]},t.id)}))]})]}):null]}):Object(w.jsxs)("label",{children:["Agrupar por:"," ",Object(w.jsxs)(T,{value:it,onChange:function(t){return ct(t.target.value)},children:[lt?null:Object(w.jsx)("option",{value:"country",children:"Paises"}),jt?null:Object(w.jsx)("option",{value:"age",children:"Edades"}),"puntos"!==O||gt?null:Object(w.jsx)("option",{value:"hours",children:"Horas"}),"puntos"!==O||gt||lt||jt?null:Object(w.jsx)("option",{value:"dateRange",children:"Rango de fechas"})]})]}),lt||jt||void 0!==gt?Object(w.jsx)(K,{onClick:function(){rt(),bt(),ft()},children:"Limpiar"}):null,"clientes"===O&&"country"===it?Object(w.jsxs)(w.Fragment,{children:[+I.a.get("id")!==b.ghostAdminId?Object(w.jsxs)("label",{children:["Tag:",Object(w.jsxs)(P,{value:mt,onChange:function(t){return Ot(t.target.value)},children:[Object(w.jsx)("option",{value:"all",children:"Todos"}),null===ye||void 0===ye?void 0:ye.map((function(t){return Object(w.jsx)("option",{value:t,children:t},t)}))]})]}):null,Object(w.jsxs)("label",{children:["Perfil:",Object(w.jsxs)(F,{value:St,onChange:function(t){return At(t.target.value)},children:[Object(w.jsx)("option",{value:"all",children:"Todos"}),null===me||void 0===me?void 0:me.map((function(t){return Object(w.jsx)("option",{value:t.id,children:t.nombre},t.id)}))]})]}),Object(w.jsxs)("label",{children:["Edad minima:",Object(w.jsx)(H,{type:"number",value:Tt,onChange:function(t){return Kt(t.target.value)}})]}),Object(w.jsxs)("label",{children:["Edad maxima:",Object(w.jsx)(L,{type:"number",value:Ht,onChange:function(t){return Lt(t.target.value)}})]}),Object(w.jsxs)("label",{children:["Sexo:",Object(w.jsxs)(B,{value:Wt,onChange:function(t){return Jt(t.target.value)},children:[Object(w.jsx)("option",{value:"all",children:"Todos"}),Object(w.jsx)("option",{value:"fem",children:"Mujer"}),Object(w.jsx)("option",{value:"mal",children:"Hombre"})]})]}),Object(w.jsxs)("label",{children:["En busca de:",Object(w.jsxs)(V,{value:Qt,onChange:function(t){return Ut(t.target.value)},children:[Object(w.jsx)("option",{value:"all",children:"Todos"}),Object(w.jsx)("option",{value:"mal",children:"Hombre"}),Object(w.jsx)("option",{value:"fem",children:"Mujer"})]})]})]}):null,"puntos"===O&&"dateRange"===it?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("label",{children:["Desde:",Object(w.jsx)(W,{type:"date",value:qt,onChange:function(t){return Zt(t.target.value)}})]}),Object(w.jsxs)("label",{children:["Hasta:",Object(w.jsx)(J,{type:"date",value:ne,onChange:function(t){return ie(t.target.value)}})]})]}):null,"puntos"===O?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(z,{children:[Object(w.jsxs)(G,{children:["Puntos",Object(w.jsx)("input",{type:"radio",name:"puntosorservicio",checked:"puntos"===ue,onChange:function(){return je("puntos")}})]}),Object(w.jsxs)(Q,{children:["Cantidad",Object(w.jsx)("input",{type:"radio",name:"puntosorservicio",checked:"servicio"===ue,onChange:function(){return je("servicio")}})]})]}),Object(w.jsxs)(U,{children:[Object(w.jsxs)(X,{children:["Bonus",Object(w.jsx)("input",{type:"radio",name:"bonusorwriteoff",checked:"bonus"===se,onChange:function(){return le("bonus")}})]}),Object(w.jsxs)(Y,{children:["Writeoff",Object(w.jsx)("input",{type:"radio",name:"bonusorwriteoff",checked:"writeoff"===se,onChange:function(){return le("writeoff")}})]})]})]}):null,"puntos"===O||"clientes"===O?Object(w.jsxs)(q,{onDoubleClick:function(){return Object(S.b)(be,"Clientes")},children:[Object(w.jsxs)(Z,{children:[Object(w.jsx)("span",{children:"Clientes"}),Object(w.jsx)("input",{type:"checkbox",checked:be.showClientes,onChange:function(t){return be.setShowClientes(t.target.checked)}})]}),Object(w.jsxs)($,{children:[Object(w.jsxs)(tt,{children:[we.size," Viejos"]}),Object(w.jsxs)(et,{children:[Ce.size," Nuevos"]})]})]}):null,"puntos"===O?("bonus"===se?b.bonusTypes:b.writeoffTypes).map((function(t,e){var a=t.name,n=t.value;return"todos"===n||n.startsWith("manual")?null:Object(w.jsx)(S.a,{text:a,checked:be["show"+a.replace(/ /g,"")],setChecked:be["setShow"+a.replace(/ /g,"")],color:b.contrastingHexColors[e],service:n,filter:be,total:Math.floor(null===xe||void 0===xe?void 0:xe.reduce((function(t,e){var a,i,c=e.points,o=e.count;return t+(null!==(a=null===(i=("puntos"===ue?c:o)[se])||void 0===i?void 0:i[n])&&void 0!==a?a:0)}),0))},a)})):null]}),Object(w.jsx)(at,{style:{width:"".concat(ge?100:100+3*Math.max((null!==(e=null===xe||void 0===xe?void 0:xe.length)&&void 0!==e?e:0)-50,0),"%")},children:xe?Object(w.jsx)(p.a,{children:Object(w.jsxs)(h.a,{data:ve,onClick:function(t){t&&("all"===mt&&"all"===St&&"all"===Wt&&"all"===Qt||"clientes"!==O)&&("clientes"===O?"country"!==it||jt?"age"!==it||lt||(ct("country"),bt(null===t||void 0===t?void 0:t.activePayload[0].payload.ageRange.split("-"))):(ct("age"),rt(null===t||void 0===t?void 0:t.activePayload[0].payload.country)):"puntos"===O&&("country"!==it||jt&&gt?"age"!==it||lt&&gt?"hours"!==it||lt&&jt||(lt?jt||ct("age"):ct("country"),ft(null===t||void 0===t?void 0:t.activeTooltipIndex)):(ct(lt?"hours":"country"),bt(null===t||void 0===t?void 0:t.activePayload[0].payload.ageRange.split("-"))):(ct(jt?"hours":"age"),rt(null===t||void 0===t?void 0:t.activePayload[0].payload.country))))},children:[Object(w.jsx)(g.a,{formatter:function(t,e){return"cartas24"===O?[t,"all"===e?"Todos":e]:"puntos"===O?[t,null===(a=b.bonusTypes.find((function(t){return t.value===e})))||void 0===a?void 0:a.name]:[t,"notContacted"===e?"No contactados":"contacted"===e?"Contactados":"pointed"===e?"Punteados":"total"===e?"Total":"."];var a},contentStyle:{backgroundColor:"#333333"}}),Object(w.jsx)(f.a,{strokeDasharray:"3 3"}),Object(w.jsx)(y.a,{dataKey:"cartas24"===O?"day":"country"===it?"country":"age"===it?"ageRange":"hours"===it?"hour":"day"}),Object(w.jsx)(x.a,{yAxisId:"left-axis",orientation:"left"}),Object(w.jsx)(x.a,{yAxisId:"right-axis",orientation:"right"}),C(O,mt,St,it,ve,Oe,Mt,se,ue,be)]})},it+(ge?"c":"nc")):null})]})})}}}]);