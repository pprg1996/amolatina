(this.webpackJsonpivan=this.webpackJsonpivan||[]).push([[17],{106:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a,i=n(0),r=["title","titleId"];function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function d(e,t){var n=e.title,d=e.titleId,c=l(e,r);return i.createElement("svg",o({enableBackground:"new 0 0 58 58",height:512,viewBox:"0 0 58 58",width:512,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":d},c),n?i.createElement("title",{id:d},n):null,a||(a=i.createElement("path",{d:"m29 0c-16.016 0-29 12.984-29 29s12.984 29 29 29 29-12.984 29-29-12.984-29-29-29zm-24 29c0-13.233 10.767-24 24-24 5.846 0 11.208 2.103 15.375 5.589l-33.786 33.786c-3.486-4.167-5.589-9.53-5.589-15.375zm24 24c-5.59 0-10.736-1.927-14.82-5.144l33.676-33.677c3.217 4.085 5.144 9.231 5.144 14.821 0 13.233-10.767 24-24 24z",fill:"#dd352e"})))}var c=i.forwardRef(d);n.p},401:function(e,t,n){"use strict";n.r(t);var a,i,r=n(4),o=n(17),l=n(2),d=n.n(l),c=n(8),s=n(5),u=n(78),p=n(10),b=n.n(p),f=n(40),m=n(0),j=["title","titleId"];function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function h(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function y(e,t){var n=e.title,r=e.titleId,o=h(e,j);return m.createElement("svg",g({className:"menu-button",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 215.6 512",xmlSpace:"preserve",ref:t,"aria-labelledby":r},o),n?m.createElement("title",{id:r},n):null,a||(a=m.createElement("g",null,m.createElement("g",null,m.createElement("g",null,m.createElement("circle",{className:"st98",cx:107.8,cy:256,r:47.2}),m.createElement("circle",{className:"st98",cx:107.8,cy:397.5,r:47.2}),m.createElement("circle",{className:"st98",cx:107.8,cy:114.5,r:47.2}))))),i||(i=m.createElement("g",null,m.createElement("path",{className:"st98",d:"M107.8,26.9c44.5,0,80.8,36.4,80.8,80.8v296.4c0,44.5-36.4,80.8-80.8,80.8S27,448.5,27,404.1V107.8 C27,63.3,63.3,26.9,107.8,26.9 M107.8,0L107.8,0C48.5,0,0,48.5,0,107.8v296.4C0,463.5,48.5,512,107.8,512l0,0 c59.3,0,107.8-48.5,107.8-107.8V107.8C215.6,48.5,167.1,0,107.8,0L107.8,0z"}))))}var O,v,x,w,_,S,I,C,E=m.forwardRef(y),D=(n.p,n(13)),M=["title","titleId"];function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function N(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function P(e,t){var n=e.title,a=e.titleId,i=N(e,M);return m.createElement("svg",k({xmlns:"http://www.w3.org/2000/svg",width:"199.67mm",height:"221.94mm",viewBox:"0 0 566 629.11",ref:t,"aria-labelledby":a},i),n?m.createElement("title",{id:a},n):null,O||(O=m.createElement("path",{d:"M256,117.11c-141.38,0-256,114.62-256,256s114.62,256,256,256,256-114.62,256-256S397.38,117.11,256,117.11Zm-211.86,256c0-116.82,95-211.86,211.86-211.86a210.8,210.8,0,0,1,135.72,49.34L93.48,508.83A210.82,210.82,0,0,1,44.14,373.11ZM256,585a210.72,210.72,0,0,1-130.82-45.41L422.45,242.28a210.77,210.77,0,0,1,45.41,130.83C467.86,489.93,372.82,585,256,585Z",fill:"#dd352e"})),v||(v=m.createElement("rect",{x:266.32,y:69.03,width:275.05,height:22.42,fill:"#ccc"})),x||(x=m.createElement("rect",{x:371.66,y:23.27,width:64.46,height:22.49,fill:"#ccc"})),w||(w=m.createElement("rect",{x:293.86,y:114.64,width:224.09,height:259.22,fill:"#ccc"})),_||(_=m.createElement("path",{d:"M404,361.45a11.61,11.61,0,0,0,11.63-11.63V140.08a11.64,11.64,0,0,0-23.27,0V349.82A11.62,11.62,0,0,0,404,361.45Z",fill:"#757575"})),S||(S=m.createElement("path",{d:"M335.2,350.44a11.65,11.65,0,0,0,11.63,11h.62a11.64,11.64,0,0,0,11-12.25L347,139.46a11.65,11.65,0,0,0-23.27,1.24Z",fill:"#757575"})),I||(I=m.createElement("path",{d:"M460.78,361.45h.62a11.65,11.65,0,0,0,11.63-11L484,140.7a11.65,11.65,0,0,0-23.27-1.24L449.76,349.2A11.68,11.68,0,0,0,460.78,361.45Z",fill:"#757575"})),C||(C=m.createElement("path",{d:"M565,88.73l-8.76-26.29A24.46,24.46,0,0,0,533,45.76H459.3v-24A21.73,21.73,0,0,0,437.59,0H370.1a21.73,21.73,0,0,0-21.71,21.72v24H274.7a24.42,24.42,0,0,0-23.19,16.76l-8.77,26.29a19.68,19.68,0,0,0,18.7,25.91h9.15l20.16,249.45a36.09,36.09,0,0,0,35.76,33H485.44a36.08,36.08,0,0,0,35.76-33l20.17-249.45h5a19.83,19.83,0,0,0,16-8.15A20.48,20.48,0,0,0,565,88.73ZM371.66,23.27h64.45V45.76H371.66Zm126.27,339a12.71,12.71,0,0,1-12.56,11.63H326.43a12.71,12.71,0,0,1-12.56-11.63l-20-247.59H517.94ZM266.32,91.37l7.22-21.56A1.24,1.24,0,0,1,274.7,69H533.07a1.16,1.16,0,0,1,1.16.85l7.21,21.56Z",fill:"#757575"})))}var A,R=m.forwardRef(P),T=(n.p,n(98)),z=n(106),L=n(43),B=n(9),V=n(7),H=n(1),q=s.d.div.withConfig({displayName:"OperadorMenu__SubMenuContainer",componentId:"sc-1glmq6j-0"})(["padding:27px 9px;background-color:#17171c;"]),F=s.d.span.withConfig({displayName:"OperadorMenu__ConfirmarEliminacionTxt",componentId:"sc-1glmq6j-1"})(['font-family:"Montserrat",sans-serif;font-size:0.75rem;color:white;letter-spacing:0.1em;display:block;text-align:center;& > span{font-size:1rem;}']),Z=s.d.div.withConfig({displayName:"OperadorMenu__ButtonsDiv",componentId:"sc-1glmq6j-2"})(["display:flex;justify-content:center;margin-top:40px;"]),Q=Object(s.d)(L.a).withConfig({displayName:"OperadorMenu__ButtonSm",componentId:"sc-1glmq6j-3"})(["width:64px;height:32px;margin:0 12px;"]),U=function(e){var t=e.operadorAEliminar,n=e.id,a=e.setShowMenu,i=e.setManipulandoOperador,r=function(){var e=Object(c.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i(!0),a(!1),"qaz"!==prompt()){e.next=5;break}return e.next=5,Object(V.g)("/operators/delete?id=".concat(n));case 5:setTimeout((function(){B.b.invalidateQueries("operadores")}),2e3),i(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(H.jsxs)(q,{children:[Object(H.jsxs)(F,{children:["Eliminar a",Object(H.jsx)("br",{}),Object(H.jsx)("span",{children:t})]}),Object(H.jsxs)(Z,{children:[Object(H.jsx)(Q,{onClick:r,primario:!0,children:"Si"}),Object(H.jsx)(Q,{onClick:function(){return a(!1)},cancel:!0,children:"No"})]})]})},G=s.d.div.withConfig({displayName:"OperadorMenu__MenuContainer",componentId:"sc-1glmq6j-4"})(["position:absolute;right:32px;top:12px;z-index:10;border-radius:2px;overflow:hidden;background-color:#1b1b21;"]),J=s.d.div.withConfig({displayName:"OperadorMenu__MenuOptionsSubMenu",componentId:"sc-1glmq6j-5"})(["display:",";position:relative;"],(function(e){return e.show?"initial":"none"})),W=s.d.button.withConfig({displayName:"OperadorMenu__MenuOptionButton",componentId:"sc-1glmq6j-6"})(['width:100%;display:flex;align-items:center;padding:16px;border:none;background-color:#17171c;color:white;font-family:"Montserrat",sans-serif;cursor:pointer;transition:background-color 0.2s ease-in-out;outline:none;letter-spacing:normal;&:hover{background-color:#1b1b21;}',""],(function(e){return e.eliminarOperador?Object(s.c)(A||(A=Object(D.a)(["\n          border: 2px solid #ff3333;\n          background-color: #ff3333;\n\n          & svg * {\n            fill: white;\n            transition: fill 0.2s ease-in-out;\n          }\n\n          &:hover {\n            color: #ff3333;\n          }\n\n          &:hover svg * {\n            fill: #ff3333;\n          }\n        "]))):""})),K=s.d.div.withConfig({displayName:"OperadorMenu__OptionIcon",componentId:"sc-1glmq6j-7"})(["width:24px;margin-right:16px;& > svg{width:100%;height:auto;}"]),X=function(e){var t=e.operadorAEliminar,n=e.setShowMenu,a=e.id,i=e.setManipulandoOperador,r=Object(m.useState)(!1),l=Object(o.a)(r,2),s=l[0],u=l[1],p=Object(m.useRef)(),b=Object(m.useCallback)((function(){return n(!1)}),[n]);function f(){return(f=Object(c.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),n(!1),e.next=4,Object(V.g)("/operators/add-fine?id=".concat(a));case 4:setTimeout((function(){B.b.invalidateQueries("operadores")}),2e3),i(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(){return(j=Object(c.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),n(!1),e.next=4,Object(V.g)("/operators/remove-fine?id=".concat(a));case 4:setTimeout((function(){B.b.invalidateQueries("operadores")}),2e3),i(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(V.F)(p,b),Object(H.jsxs)(G,{ref:p,children:[Object(H.jsxs)(J,{show:!s,children:[Object(H.jsxs)(W,{onClick:function(e){return f.apply(this,arguments)},children:[Object(H.jsx)(K,{children:Object(H.jsx)(z.a,{})}),"Multar Operador"]}),Object(H.jsxs)(W,{onClick:function(){return j.apply(this,arguments)},children:[Object(H.jsx)(K,{children:Object(H.jsx)(R,{})}),"Eliminar Multa"]}),Object(H.jsxs)(W,{onClick:function(){return u(!0)},eliminarOperador:!0,children:[Object(H.jsx)(K,{children:Object(H.jsx)(T.a,{})}),"Eliminar Operador"]})]}),s?Object(H.jsx)(U,{setShowMenu:n,id:a,operadorAEliminar:t,setManipulandoOperador:i}):null]})},Y=n(134),$=function(){var e=Object(c.a)(d.a.mark((function e(t,n,a,i,r,l){var c,s,u,p,b,f,m;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c="operador"===n?"operatorId=".concat(a):"perfil"===n?"profileId=".concat(a):"clientId=".concat(a),"diaymes"!==i){e.next=14;break}return s=new Date,(u=new Date).setUTCDate(1),e.next=7,Promise.all([Object(V.g)("/feeds/relational-progress?".concat(c,"&from=").concat(s.toISOString().slice(0,-14))),Object(V.g)("/feeds/relational-progress?".concat(c,"&from=").concat(u.toISOString().slice(0,-14)))]);case 7:return p=e.sent,b=Object(o.a)(p,2),f=b[0],m=b[1],e.abrupt("return",Object(V.D)({dia:f,mes:m}));case 14:return e.t0=V.D,e.next=17,Object(V.g)("/feeds/relational-progress?".concat(c,"&from=").concat(r,"&to=").concat(l));case 17:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 19:case"end":return e.stop()}}),e)})));return function(t,n,a,i,r,o){return e.apply(this,arguments)}}(),ee=Object(s.d)("div").withConfig({displayName:"EntidadInfo___StyledDiv",componentId:"sc-1e8fiid-0"})({display:"flex",gap:"1rem",position:"relative"}),te=Object(s.d)("div").withConfig({displayName:"EntidadInfo___StyledDiv2",componentId:"sc-1e8fiid-1"})({display:"flex",flexDirection:"column",gap:"1rem",justifyContent:"center"}),ne=Object(s.d)("div").withConfig({displayName:"EntidadInfo___StyledDiv3",componentId:"sc-1e8fiid-2"})({display:"flex",gap:"1rem"}),ae=Object(s.d)("label").withConfig({displayName:"EntidadInfo___StyledLabel",componentId:"sc-1e8fiid-3"})({display:"flex",alignItems:"center",gap:"0.5rem"}),ie=Object(s.d)("label").withConfig({displayName:"EntidadInfo___StyledLabel2",componentId:"sc-1e8fiid-4"})({display:"flex",alignItems:"center",gap:"0.5rem"}),re=Object(s.d)("div").withConfig({displayName:"EntidadInfo___StyledDiv4",componentId:"sc-1e8fiid-5"})({display:"flex",justifyContent:"space-between"}),oe=Object(s.d)("label").withConfig({displayName:"EntidadInfo___StyledLabel3",componentId:"sc-1e8fiid-6"})({marginRight:"0.5rem"}),le=Object(s.d)("input").withConfig({displayName:"EntidadInfo___StyledInput",componentId:"sc-1e8fiid-7"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",width:"13rem"}),de=Object(s.d)("div").withConfig({displayName:"EntidadInfo___StyledDiv5",componentId:"sc-1e8fiid-8"})({display:"flex",justifyContent:"space-between"}),ce=Object(s.d)("label").withConfig({displayName:"EntidadInfo___StyledLabel4",componentId:"sc-1e8fiid-9"})({marginRight:"0.5rem"}),se=Object(s.d)("input").withConfig({displayName:"EntidadInfo___StyledInput2",componentId:"sc-1e8fiid-10"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",width:"13rem"}),ue=Object(s.d)("button").withConfig({displayName:"EntidadInfo___StyledButton",componentId:"sc-1e8fiid-11"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(51, 70, 255, var(--tw-bg-opacity))",borderRadius:"0.125rem",fontSize:"0.75rem",lineHeight:"1rem",paddingTop:"0.25rem",paddingBottom:"0.25rem"}),pe=Object(s.d)("button").withConfig({displayName:"EntidadInfo___StyledButton2",componentId:"sc-1e8fiid-12"})({width:"1rem",height:"2.25rem",position:"absolute",right:"0px",top:"0.5rem"}),be=Object(s.d)(E).withConfig({displayName:"EntidadInfo___StyledMenuButtonSvg",componentId:"sc-1e8fiid-13"})({transitionProperty:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"150ms",fill:"currentColor",color:"#4c4c3f",".group:hover &":{color:"#3346ff"}}),fe=function(e){var t,n,a,i,l,d,c,s=e.nombre,u=e.role,p=e.id,b=(e.foto,e.tipoEntidad),j=e.tiempo,g=e.setTiempo,h=e.desde,y=e.setDesde,O=e.hasta,v=e.setHasta,x=e.setSubEntidadesRelacionadasId,w=(e.amolatinaId,Object(m.useState)(!1)),_=Object(o.a)(w,2),S=_[0],I=_[1],C=Object(m.useState)(!1),E=Object(o.a)(C,2),D=E[0],M=E[1],k=Object(B.d)(["progress",b,p,j,"rango"===j?h:null,"rango"===j?O:null],$).data,N=(null!==(t=null===(n=B.b.getQueries(["cliente"===b?"clientes":b+"es"]))||void 0===n||null===(a=n[0])||void 0===a?void 0:a.state)&&void 0!==t?t:{}).data,P="operador"===b||"perfil"===b?N:null===N||void 0===N?void 0:N.data,A=function(e){g(e.target.value),x(null)},R=null===P||void 0===P?void 0:P.find((function(e){return e.id===p})),T="diaymes"===j?null===k||void 0===k?void 0:k.dia.summary:null===k||void 0===k?void 0:k.summary,z="diaymes"===j?null===k||void 0===k?void 0:k.mes.summary:null,L=null===R||void 0===R?void 0:R.metaDia,V=null===R||void 0===R?void 0:R.metaMes,q=(null===R||void 0===R||null===(i=R.fineCount)||void 0===i||i.dia,null===R||void 0===R||null===(l=R.fineCount)||void 0===l||l.mes,null===R||void 0===R||null===(d=R.fineAlertCount)||void 0===d||d.dia,null===R||void 0===R||null===(c=R.fineAlertCount)||void 0===c||c.mes,"diaymes"===j?null===k||void 0===k?void 0:k.dia.puntos:null===k||void 0===k?void 0:k.puntos),F="diaymes"===j?null===k||void 0===k?void 0:k.mes.puntos:null;return Object(H.jsxs)(ee,{children:[Object(H.jsx)(Y.a,Object(r.a)({},Object(r.a)(Object(r.a)({},R),{},{summary1:T,summary2:z,meta1:L,meta2:V,puntos1:q,puntos2:F}))),Object(H.jsxs)(te,{children:[Object(H.jsxs)(ne,{children:[Object(H.jsxs)(ae,{children:["Dia y mes"," ",Object(H.jsx)("input",{name:"tiempo",type:"radio",value:"diaymes",checked:"diaymes"===j,onChange:A})]}),Object(H.jsxs)(ie,{children:["Rango"," ",Object(H.jsx)("input",{name:"tiempo",type:"radio",value:"rango",checked:"rango"===j,onChange:A})]})]}),"rango"===j?Object(H.jsxs)(H.Fragment,{children:[Object(H.jsxs)(re,{children:[Object(H.jsx)(oe,{children:"Desde:"}),Object(H.jsx)(le,{id:"desde-fecha",type:"datetime-local",defaultValue:h})]}),Object(H.jsxs)(de,{children:[Object(H.jsx)(ce,{children:"Hasta:"}),Object(H.jsx)(se,{id:"hasta-fecha",type:"datetime-local",defaultValue:O})]}),Object(H.jsx)(ue,{onClick:function(){y(document.getElementById("desde-fecha").value),v(document.getElementById("hasta-fecha").value),x(null)},children:"Calcular"})]}):null]}),"admin"===u&&"operador"===b?Object(H.jsx)(pe,{className:"group",onClick:function(){return I(!0)},children:D?Object(H.jsx)(f.a,{}):Object(H.jsx)(be,{})}):null,S?Object(H.jsx)(X,{id:p,setShowMenu:I,operadorAEliminar:"".concat(s),setManipulandoOperador:M}):null]})},me=Object(s.d)("div").withConfig({displayName:"ControlesDeSupervisor___StyledDiv",componentId:"sc-57gb5z-0"})({display:"flex",alignItems:"center"}),je=Object(s.d)("label").withConfig({displayName:"ControlesDeSupervisor___StyledLabel",componentId:"sc-57gb5z-1"})({marginRight:"0.5rem"}),ge=Object(s.d)("select").withConfig({displayName:"ControlesDeSupervisor___StyledSelect",componentId:"sc-57gb5z-2"})({"--tw-text-opacity":"1",color:"rgba(55, 65, 81, var(--tw-text-opacity))"}),he=Object(s.d)(L.a).withConfig({displayName:"ControlesDeSupervisor___StyledButton",componentId:"sc-57gb5z-3"})({paddingLeft:"0.5rem",paddingRight:"0.5rem",fontSize:"0.75rem",lineHeight:"1rem",width:"auto",marginRight:"0px"}),ye=function(e){var t=e.supervisorId,n=e.id,a=e.setShowModal,i=Object(B.d)("supervisores",V.t).data,r=Object(m.useState)(!1),l=Object(o.a)(r,2),s=l[0],u=l[1],p=function(){var e=Object(c.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("qaz"===prompt()){e.next=2;break}return e.abrupt("return");case 2:return u(!0),e.next=5,Object(V.g)("/operators/make-supervisor",{method:"POST",body:JSON.stringify({id:n}),headers:{"content-type":"application/json"}});case 5:B.b.invalidateQueries("operadores"),B.b.invalidateQueries("supervisores"),u(!1),a(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(c.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="sin-supervisor"!==t.target.value?Number(t.target.value):null,e.next=3,Object(V.g)("/supervisors/assign-operator",{method:"POST",body:JSON.stringify({supervisorId:a,operatorId:n}),headers:{"content-type":"application/json"}});case 3:B.b.invalidateQueries("operadores"),B.b.invalidateQueries("supervisores");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(H.jsxs)(me,{children:[Object(H.jsx)(je,{htmlFor:"select-supervisor",children:"Supervisor"}),Object(H.jsxs)(ge,{id:"select-supervisor",defaultValue:null!==t&&void 0!==t?t:"sin-supervisor",onChange:b,children:[Object(H.jsx)("option",{value:"sin-supervisor",children:"Sin supervisor"}),null===i||void 0===i?void 0:i.filter((function(e){return!i.some((function(t){return t.substitute===e.id}))})).map((function(e){return Object(H.jsx)("option",{value:e.id,children:e.nombre},e.id)}))]}),s?Object(H.jsx)(f.a,{}):Object(H.jsx)(he,{primario:!0,onClick:p,children:"Hacer supervisor"})]})},Oe=n(105),ve=n(69),xe=Object(s.d)("div").withConfig({displayName:"EntidadesRelacionadasDiaMes___StyledDiv",componentId:"sc-1h3kbgw-0"})({display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem"}),we=Object(s.d)("button").withConfig({displayName:"EntidadesRelacionadasDiaMes___StyledButton",componentId:"sc-1h3kbgw-1"})(["",""],(function(e){return e._css})),_e=Object(s.d)("div").withConfig({displayName:"EntidadesRelacionadasDiaMes___StyledDiv2",componentId:"sc-1h3kbgw-2"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(31, 41, 55, var(--tw-bg-opacity))",padding:"0.5rem",borderRadius:"1rem"}),Se=Object(s.d)("div").withConfig({displayName:"EntidadesRelacionadasDiaMes___StyledDiv3",componentId:"sc-1h3kbgw-3"})({display:"flex",gap:"1rem",marginLeft:"0.5rem"}),Ie=Object(s.d)("label").withConfig({displayName:"EntidadesRelacionadasDiaMes___StyledLabel",componentId:"sc-1h3kbgw-4"})({"--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))"}),Ce=Object(s.d)("label").withConfig({displayName:"EntidadesRelacionadasDiaMes___StyledLabel2",componentId:"sc-1h3kbgw-5"})({"--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))"}),Ee=Object(s.d)("div").withConfig({displayName:"EntidadesRelacionadasDiaMes___StyledDiv4",componentId:"sc-1h3kbgw-6"})(["",""],(function(e){return e._css2})),De=Object(s.d)("button").withConfig({displayName:"EntidadesRelacionadasDiaMes___StyledButton2",componentId:"sc-1h3kbgw-7"})({display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem"}),Me=function(e){var t,n,a=e.entidades,i=e.subEntidades,l=e.entidadSeleccionada,d=e.orden,c=e.subEntidadesRelacionadasId,s=e.setSubEntidadesRelacionadasId,u=e.setSubEntidadesRelacionadasId2,p=e.tipoEntidad,b=e.id,f=Object(m.useState)("dia"),j=Object(o.a)(f,2),g=j[0],h=j[1],y="operadores"===l?"operador":"perfiles"===l?"perfil":"cliente",O={operador:1,perfil:2,cliente:3},v=O[p]+O[y],x=5===v?"operador":4===v?"perfil":"cliente",w="cliente"===x?"clientes":x+"es";return null!==(t=null===a||void 0===a||null===(n=a[l])||void 0===n?void 0:n.sort((function(e,t){var n=0;return"operador"===p&&"perfiles"===l&&(n=(e.perfil.operadoresAsignadosIds.includes(b)?-1:0)-(t.perfil.operadoresAsignadosIds.includes(b)?-1:0)),"dia"===d?n||t.relationalProgressDay.puntos-e.relationalProgressDay.puntos:n||t.relationalProgress.puntos-e.relationalProgress.puntos})).map((function(e){var t,n,a,o;return Object(H.jsxs)(xe,{children:[Object(H.jsx)(we,{onClick:function(){var t;s(null===(t=e[y])||void 0===t?void 0:t.id),u(null)},_css:[{display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem",padding:"0.5rem",borderRadius:"1rem"},"operador"===p&&"perfiles"===l&&e.perfil.operadoresAsignadosIds.includes(b)?{"--tw-bg-opacity":"0.2",backgroundColor:"rgba(255, 255, 255, var(--tw-bg-opacity))"}:null],children:Object(H.jsx)(Y.a,Object(r.a)(Object(r.a)({},Object(r.a)(Object(r.a)({},null===e||void 0===e?void 0:e[y]),{},{tipoEntidad:y,summary1:e.relationalProgressDay.summary,summary2:e.relationalProgress.summary,meta1:null===e||void 0===e||null===(n=e[y])||void 0===n?void 0:n.metaDia,meta2:null===e||void 0===e||null===(a=e[y])||void 0===a?void 0:a.metaMes})),{},{puntos1:e.relationalProgressDay.puntos,puntos2:e.relationalProgress.puntos}))}),c===(null===(o=e[y])||void 0===o?void 0:o.id)?Object(H.jsxs)(_e,{children:[Object(H.jsxs)(Se,{children:[Object(H.jsxs)(Ie,{children:["Dia"," ",Object(H.jsx)("input",{name:"sub-orden-relacional-input",type:"radio",onChange:function(e){return h(e.target.value)},value:"dia",checked:"dia"===g})]}),Object(H.jsxs)(Ce,{children:["Mes"," ",Object(H.jsx)("input",{name:"sub-orden-relacional-input",type:"radio",onChange:function(e){return h(e.target.value)},value:"mes",checked:"mes"===g})]})]}),Object(H.jsx)(Ee,{_css2:[{maxHeight:"70vh",padding:"0.5rem",display:"flex",flexDirection:"column",gap:"0.5rem"},ve.b],children:null===i||void 0===i?void 0:i[w].sort((function(e,t){return"dia"===g?t.relationalProgressDay.puntos-e.relationalProgressDay.puntos:t.relationalProgress.puntos-e.relationalProgress.puntos})).map((function(e){var t;return Object(H.jsx)(De,{onClick:function(){var t;return u(null===(t=e[x])||void 0===t?void 0:t.id)},children:Object(H.jsx)(Y.a,Object(r.a)(Object(r.a)({},Object(r.a)(Object(r.a)({},null===e||void 0===e?void 0:e[x]),{},{tipoEntidad:x,summary1:e.relationalProgressDay.summary,summary2:e.relationalProgress.summary,meta1:null===e||void 0===e?void 0:e[x].metaDia,meta2:null===e||void 0===e?void 0:e[x].metaMes})),{},{puntos1:e.relationalProgressDay.puntos,puntos2:e.relationalProgress.puntos}))},null===(t=e[x])||void 0===t?void 0:t.id)}))})]}):null]},null===(t=e[y])||void 0===t?void 0:t.id)})))&&void 0!==t?t:null},ke=Object(s.d)("div").withConfig({displayName:"EntidadesRelacionadasGeneral___StyledDiv",componentId:"sc-1uly02a-0"})({display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem"}),Ne=Object(s.d)("button").withConfig({displayName:"EntidadesRelacionadasGeneral___StyledButton",componentId:"sc-1uly02a-1"})(["",""],(function(e){return e._css})),Pe=Object(s.d)("div").withConfig({displayName:"EntidadesRelacionadasGeneral___StyledDiv2",componentId:"sc-1uly02a-2"})(["",""],(function(e){return e._css2})),Ae=Object(s.d)("button").withConfig({displayName:"EntidadesRelacionadasGeneral___StyledButton2",componentId:"sc-1uly02a-3"})({display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem"}),Re=function(e){var t,n=e.entidades,a=e.subEntidades,i=e.entidadSeleccionada,o=e.subEntidadesRelacionadasId,l=e.setSubEntidadesRelacionadasId,d=e.setSubEntidadesRelacionadasId2,c=e.tipoEntidad,s=e.id,u="operadores"===i?"operador":"perfiles"===i?"perfil":"cliente",p={operador:1,perfil:2,cliente:3},b=p[c]+p[u],f=5===b?"operador":4===b?"perfil":"cliente",m="cliente"===f?"clientes":f+"es";return null!==(t=null===n||void 0===n?void 0:n[i].sort((function(e,t){var n=0;return"operador"===c&&"perfiles"===i&&(n=(e.perfil.operadoresAsignadosIds.includes(s)?-1:0)-(t.perfil.operadoresAsignadosIds.includes(s)?-1:0)),n||t.relationalProgress.puntos-e.relationalProgress.puntos})).map((function(e){var t,n;return Object(H.jsxs)(ke,{children:[Object(H.jsx)(Ne,{onClick:function(){var t;l(null===(t=e[u])||void 0===t?void 0:t.id),d(null)},_css:[{display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem",padding:"0.5rem",borderRadius:"0.25rem"},"operador"===c&&"perfiles"===i&&e.perfil.operadoresAsignadosIds.includes(s)?{"--tw-bg-opacity":"0.2",backgroundColor:"rgba(255, 255, 255, var(--tw-bg-opacity))",borderRadius:"1rem"}:null],children:Object(H.jsx)(Y.a,Object(r.a)(Object(r.a)({},Object(r.a)(Object(r.a)({},null===e||void 0===e?void 0:e[u]),{},{summary1:e.relationalProgress.summary})),{},{puntos1:e.relationalProgress.puntos}))}),o===(null===(n=e[u])||void 0===n?void 0:n.id)?Object(H.jsx)(Pe,{_css2:[{"--tw-bg-opacity":"1",backgroundColor:"rgba(31, 41, 55, var(--tw-bg-opacity))",padding:"0.5rem",maxHeight:"70vh",flexDirection:"column",gap:"0.5rem",borderRadius:"1rem"},ve.b],children:null===a||void 0===a?void 0:a[m].sort((function(e,t){return t.relationalProgress.puntos-e.relationalProgress.puntos})).map((function(e){var t;return Object(H.jsx)(Ae,{onClick:function(){var t;return d(null===(t=e[f])||void 0===t?void 0:t.id)},children:Object(H.jsx)(Y.a,Object(r.a)(Object(r.a)({},Object(r.a)(Object(r.a)({},null===e||void 0===e?void 0:e[f]),{},{summary1:e.relationalProgress.summary})),{},{puntos1:e.relationalProgress.puntos}))},null===(t=e[f])||void 0===t?void 0:t.id)}))}):null]},null===(t=e[u])||void 0===t?void 0:t.id)})))&&void 0!==t?t:null},Te=function(){var e=Object(c.a)(d.a.mark((function e(t,n,a,i,r,o,l){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c="operador"===n?"operatorId=".concat(a):"perfil"===n?"profileId=".concat(a):"clientId=".concat(a),"diaymes"!==i){e.next=9;break}return e.t0=V.D,e.next=5,Object(V.g)("/feeds/related-entities-day-month?".concat(c,"&omit=").concat(l));case 5:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 9:return e.t2=V.D,e.next=12,Object(V.g)("/feeds/related-entities?".concat(c,"&from=").concat(r,"&to=").concat(o,"&omit=").concat(l));case 12:return e.t3=e.sent,e.abrupt("return",(0,e.t2)(e.t3));case 14:case"end":return e.stop()}}),e)})));return function(t,n,a,i,r,o,l){return e.apply(this,arguments)}}(),ze=function(){var e=Object(c.a)(d.a.mark((function e(t,n,a,i,r,o,l,c){var s,u;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==c){e.next=2;break}return e.abrupt("return",void 0);case 2:if(s="operador"===n?"operatorId=".concat(a):"perfil"===n?"profileId=".concat(a):"clientId=".concat(a),u="operadores"===l?"operatorId=".concat(c):"perfiles"===l?"profileId=".concat(c):"clientId=".concat(c),"diaymes"!==i){e.next=12;break}return e.t0=V.D,e.next=8,Object(V.g)("/feeds/related-entities-day-month?".concat(s,"&").concat(u));case 8:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 12:return e.t2=V.D,e.next=15,Object(V.g)("/feeds/related-entities?".concat(s,"&").concat(u,"&from=").concat(r,"&to=").concat(o));case 15:return e.t3=e.sent,e.abrupt("return",(0,e.t2)(e.t3));case 17:case"end":return e.stop()}}),e)})));return function(t,n,a,i,r,o,l,d){return e.apply(this,arguments)}}(),Le=function(){var e=Object(c.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=V.D,e.next=3,Object(V.g)("/profiles/info?expand=operator,pause_operator,dia_summary,mes_summary&id=".concat(t));case 3:e.t1=e.sent.data,n=(0,e.t0)(e.t1),B.b.setQueryData(["perfiles"],(function(e){var a=e.findIndex((function(e){return e.id===t}));return a>=0?e[a]=n:e.push(n),e}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Be=Object(s.d)("div").withConfig({displayName:"TomarAsignarEntidadMenu___StyledDiv",componentId:"jtoyhg-0"})(["",""],(function(e){return e._css})),Ve=Object(s.d)("div").withConfig({displayName:"TomarAsignarEntidadMenu___StyledDiv2",componentId:"jtoyhg-1"})({display:"flex",alignItems:"center",gap:"0.5rem"}),He=Object(s.d)("img").withConfig({displayName:"TomarAsignarEntidadMenu___StyledImg",componentId:"jtoyhg-2"})(["",""],(function(e){return e._css2})),qe=Object(s.d)("button").withConfig({displayName:"TomarAsignarEntidadMenu___StyledButton",componentId:"jtoyhg-3"})({width:"1rem",height:"1rem",marginLeft:"auto",position:"relative"}),Fe=Object(s.d)(T.a).withConfig({displayName:"TomarAsignarEntidadMenu___StyledCrossSvg",componentId:"jtoyhg-4"})(["",""],(function(e){return e._css3})),Ze=function(e){var t=e.showTomarAsignarMenu,n=e.setShowTomarAsignarMenu,a=e.id,i=Object(B.d)("perfiles",V.r).data,r=Object(m.useRef)(null);Object(V.F)(r,(function(){return n(null)}));var l=Object(m.useState)(!1),s=Object(o.a)(l,2),u=s[0],p=s[1],b=function(){var e=Object(c.a)(d.a.mark((function e(t,n,i){var r,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=7;break}return e.next=3,Object(V.g)("/profiles/select",{method:"POST",body:JSON.stringify({list_id:[t],operatorId:a}),headers:{"Content-Type":"application/json"}});case 3:r=e.sent,Object(V.i)(r,"toma"),e.next=11;break;case 7:return e.next=9,Object(V.g)("/profiles/release",{method:"POST",body:JSON.stringify({list_id:[t],operatorId:i}),headers:{"Content-Type":"application/json"}});case 9:o=e.sent,Object(V.i)(o,"liberacion");case 11:return e.next=13,Le(t);case 13:p(!1);case 14:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),j=function(){var e=Object(c.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.includes(a)){e.next=5;break}return e.next=3,Object(V.g)("/profiles/remove-assigned-operator",{method:"POST",body:JSON.stringify({profileId:t,operatorId:a}),headers:{"Content-Type":"application/json"}});case 3:e.next=7;break;case 5:return e.next=7,Object(V.g)("/profiles/assign-operator",{method:"POST",body:JSON.stringify({profileId:t,operatorId:a}),headers:{"Content-Type":"application/json"}});case 7:return e.next=9,Le(t);case 9:p(!1);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(H.jsx)(Be,{ref:r,_css:[{display:"flex",flexDirection:"column","--tw-bg-opacity":"1",backgroundColor:"rgba(31, 31, 38, var(--tw-bg-opacity))",width:"max-content",right:"0px",borderWidth:"1px",borderColor:"#4C4C3F",padding:"1rem",gap:"1rem",zIndex:"10",overflowX:"hidden"},ve.b],children:null===i||void 0===i?void 0:i.filter((function(e){return e.activo})).sort((function(e,n){var i,r,o=0;o="tomar"===t?((null===(i=e.operador)||void 0===i?void 0:i.id)===a?-1:0)-((null===(r=n.operador)||void 0===r?void 0:r.id)===a?-1:0):(e.operadoresAsignadosIds.includes(a)?-1:0)-(n.operadoresAsignadosIds.includes(a)?-1:0);var l=e.nombre<n.nombre?-1:1;return o||l})).map((function(e){var n;return Object(H.jsxs)(Ve,{children:[Object(H.jsx)(He,{src:e.foto,alt:"Foto",_css2:[{width:"5rem",height:"5rem",borderRadius:"9999px",objectFit:"cover",flexShrink:"0"},(null===(n=e.operador)||void 0===n?void 0:n.id)===a&&"tomar"===t?{"--tw-border-opacity":"1",borderColor:"rgba(29, 78, 216, var(--tw-border-opacity))",borderWidth:"8px",borderStyle:"double"}:e.operadoresAsignadosIds.includes(a)&&"asignar"===t?{"--tw-border-opacity":"1",borderColor:"rgba(4, 120, 87, var(--tw-border-opacity))",borderWidth:"8px",borderStyle:"double"}:null]}),Object(H.jsx)("span",{children:e.nombre}),Object(H.jsx)(qe,{onClick:function(){var n;setTimeout((function(){return p(!0)}),1),"tomar"===t?b(e.id,e.libre,null===(n=e.operador)||void 0===n?void 0:n.id):j(e.id,e.operadoresAsignadosIds)},disabled:u,children:u?Object(H.jsx)(f.a,{}):Object(H.jsx)(Fe,{_css3:[{width:"1rem",height:"1rem",fill:"currentColor","--tw-text-opacity":"1",color:"rgba(185, 28, 28, var(--tw-text-opacity))"},e.libre&&"tomar"===t||!e.operadoresAsignadosIds.includes(a)&&"asignar"===t?{"--tw-translate-x":"0","--tw-translate-y":"0","--tw-rotate":"45deg","--tw-skew-x":"0","--tw-skew-y":"0","--tw-scale-x":"1","--tw-scale-y":"1",transform:"translateX(var(--tw-translate-x)) translateY(var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))","--tw-text-opacity":"1",color:"rgba(29, 78, 216, var(--tw-text-opacity))"}:null]})})]},e.id)}))})},Qe=n(412),Ue=n(413),Ge=n(414),Je=n(388),We=n(389),Ke=n(406),Xe=n(404),Ye=n(350),$e=function(){var e=Object(c.a)(d.a.mark((function e(t,n,a,i,r,o,l,c,s){var u,p,b,f,m,j,g,h,y;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u="operador"===a?"operatorId=".concat(n):"perfil"===a?"profileId=".concat(n):"clientId=".concat(n),p="operadores"===l?"operatorId=".concat(c):"perfiles"===l?"profileId=".concat(c):"clientId=".concat(c),m=5===(f=(b={operador:1,perfil:2,cliente:3})[a]+b["operadores"===l?"operador":"perfiles"===l?"perfil":"cliente"])?"operatorId=".concat(s):4===f?"profileId=".concat(s):"clientId=".concat(s),(j=new Date).setUTCDate(1),j.setUTCHours(0,0,0,0),g=j.toISOString().slice(0,-1),(h=new Date).setUTCDate(1),h.setUTCMonth(h.getUTCMonth()+1),h.setUTCHours(0,0,0,0),y=h.toISOString().slice(0,-1),"rango"===i&&(g=r,y=o),e.next=18,Object(V.g)("/feeds/graphic-data?".concat(u,"&").concat(null!==c?p:"","&").concat(null!==s?m:"","&from=").concat(g,"&to=").concat(y));case 18:return e.abrupt("return",e.sent);case 19:case"end":return e.stop()}}),e)})));return function(t,n,a,i,r,o,l,d,c){return e.apply(this,arguments)}}(),et=Object(s.d)("label").withConfig({displayName:"DetalleEntidadModal___StyledLabel",componentId:"zwxyg-0"})({borderRadius:"1rem",padding:"0.5rem",borderWidth:"1px",flexShrink:"0"}),tt=function(e){var t=e.text,n=e.checked,a=e.setChecked,i=e.color;return Object(H.jsxs)(et,{style:{borderColor:i},children:[t," ",Object(H.jsx)("input",{type:"checkbox",checked:n,onChange:function(e){return a(e.target.checked)}})]})},nt=Object(s.d)("div").withConfig({displayName:"DetalleEntidadModal___StyledDiv",componentId:"zwxyg-1"})({display:"flex",width:"95vw",height:"95vh"}),at=Object(s.d)("div").withConfig({displayName:"DetalleEntidadModal___StyledDiv2",componentId:"zwxyg-2"})(["",""],(function(e){return e._css2})),it=Object(s.d)("div").withConfig({displayName:"DetalleEntidadModal___StyledDiv3",componentId:"zwxyg-3"})({height:"1px",width:"100%","--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))"}),rt=Object(s.d)("div").withConfig({displayName:"DetalleEntidadModal___StyledDiv4",componentId:"zwxyg-4"})({display:"flex",gap:"0.5rem",alignItems:"center",justifyContent:"space-between",width:"100%"}),ot=Object(s.d)("div").withConfig({displayName:"DetalleEntidadModal___StyledDiv5",componentId:"zwxyg-5"})({display:"flex",gap:"1rem"}),lt=Object(s.d)("label").withConfig({displayName:"DetalleEntidadModal___StyledLabel2",componentId:"zwxyg-6"})({"--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))"}),dt=Object(s.d)("label").withConfig({displayName:"DetalleEntidadModal___StyledLabel3",componentId:"zwxyg-7"})({"--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))"}),ct=Object(s.d)("div").withConfig({displayName:"DetalleEntidadModal___StyledDiv6",componentId:"zwxyg-8"})({display:"flex",gap:"1rem",position:"relative"}),st=Object(s.d)("button").withConfig({displayName:"DetalleEntidadModal___StyledButton",componentId:"zwxyg-9"})({textDecoration:"underline"}),ut=Object(s.d)("button").withConfig({displayName:"DetalleEntidadModal___StyledButton2",componentId:"zwxyg-10"})({textDecoration:"underline"}),pt=Object(s.d)("div").withConfig({displayName:"DetalleEntidadModal___StyledDiv7",componentId:"zwxyg-11"})({display:"flex",flexDirection:"column",alignItems:"center",gap:"1rem",width:"100%",flexGrow:"1"}),bt=Object(s.d)("div").withConfig({displayName:"DetalleEntidadModal___StyledDiv8",componentId:"zwxyg-12"})({display:"flex",flexDirection:"column",alignItems:"center",gap:"1rem",position:"relative",width:"100%",height:"100%"}),ft=Object(s.d)("div").withConfig({displayName:"DetalleEntidadModal___StyledDiv9",componentId:"zwxyg-13"})({flexGrow:"1",position:"relative",display:"flex"}),mt=Object(s.d)("button").withConfig({displayName:"DetalleEntidadModal___StyledButton3",componentId:"zwxyg-14"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",padding:"0.5rem",alignSelf:"flex-start",marginLeft:"0.5rem",marginTop:"0.5rem",borderRadius:"0.25rem"}),jt=Object(s.d)("div").withConfig({displayName:"DetalleEntidadModal___StyledDiv10",componentId:"zwxyg-15"})({display:"flex",flexDirection:"column",width:"100%",gap:"0.5rem"}),gt=Object(s.d)("div").withConfig({displayName:"DetalleEntidadModal___StyledDiv11",componentId:"zwxyg-16"})({display:"flex",flexDirection:"column","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",gap:"1rem",paddingTop:"0.5rem",paddingLeft:"1rem"}),ht=Object(s.d)("div").withConfig({displayName:"DetalleEntidadModal___StyledDiv12",componentId:"zwxyg-17"})({display:"flex",gap:"1rem"}),yt=Object(s.d)("label").withConfig({displayName:"DetalleEntidadModal___StyledLabel4",componentId:"zwxyg-18"})({display:"flex",gap:"0.5rem",alignItems:"center"}),Ot=Object(s.d)("label").withConfig({displayName:"DetalleEntidadModal___StyledLabel5",componentId:"zwxyg-19"})({display:"flex",gap:"0.5rem",alignItems:"center"}),vt=Object(s.d)("div").withConfig({displayName:"DetalleEntidadModal___StyledDiv13",componentId:"zwxyg-20"})(["",""],(function(e){return e._css3})),xt=Object(s.d)("label").withConfig({displayName:"DetalleEntidadModal___StyledLabel6",componentId:"zwxyg-21"})({display:"flex",gap:"0.5rem",alignItems:"center"});t.default=function(e){var t=e.id,n=e.nombre,a=e.foto,i=e.setShowModal,l=e.supervisorId,d=e.tipoEntidad,c=e.amolatinaId,p=Object(m.useState)(!0),j=Object(o.a)(p,2),g=j[0],h=j[1],y=Object(m.useState)("dia"),O=Object(o.a)(y,2),v=O[0],x=O[1],w=Object(m.useState)("diaymes"),_=Object(o.a)(w,2),S=_[0],I=_[1],C=Object(m.useState)((new Date).toISOString().slice(0,-13)+"00:00:00"),E=Object(o.a)(C,2),D=E[0],M=E[1],k=Object(m.useState)("bonus"),N=Object(o.a)(k,2),P=N[0],A=N[1],R=new Date;R.setDate(R.getDate()+1);var T=Object(m.useState)(R.toISOString().slice(0,-13)+"00:00:00"),z=Object(o.a)(T,2),L=z[0],q=z[1],F=Object(m.useState)(null),Z=Object(o.a)(F,2),Q=Z[0],U=Z[1],G=Object(m.useState)(null),J=Object(o.a)(G,2),W=J[0],K=J[1],X=Object(m.useState)(null),Y=Object(o.a)(X,2),$=Y[0],ee=Y[1],te=Object(m.useState)("operador"===d?"perfiles":"operadores"),ne=Object(o.a)(te,2),ae=ne[0],ie=ne[1],re=function(){var e=Object(m.useState)(!0),t=Object(o.a)(e,2),n=t[0],a=t[1],i=Object(m.useState)(!0),r=Object(o.a)(i,2),l=r[0],d=r[1],c=Object(m.useState)(!0),s=Object(o.a)(c,2),u=s[0],p=s[1],b=Object(m.useState)(!0),f=Object(o.a)(b,2),j=f[0],g=f[1],h=Object(m.useState)(!0),y=Object(o.a)(h,2),O=y[0],v=y[1],x=Object(m.useState)(!0),w=Object(o.a)(x,2),_=w[0],S=w[1],I=Object(m.useState)(!0),C=Object(o.a)(I,2),E=C[0],D=C[1],M=Object(m.useState)(!0),k=Object(o.a)(M,2),N=k[0],P=k[1],A=Object(m.useState)(!0),R=Object(o.a)(A,2),T=R[0],z=R[1],L=Object(m.useState)(!0),B=Object(o.a)(L,2),V=B[0],H=B[1],q=Object(m.useState)(!0),F=Object(o.a)(q,2),Z=F[0],Q=F[1],U=Object(m.useState)(!0),G=Object(o.a)(U,2),J=G[0],W=G[1],K=Object(m.useState)(!0),X=Object(o.a)(K,2),Y=X[0],$=X[1],ee=Object(m.useState)(!0),te=Object(o.a)(ee,2),ne=te[0],ae=te[1],ie=Object(m.useState)(!0),re=Object(o.a)(ie,2),oe=re[0],le=re[1],de=Object(m.useState)(!0),ce=Object(o.a)(de,2),se=ce[0],ue=ce[1],pe=Object(m.useState)(!0),be=Object(o.a)(pe,2),fe=be[0],me=be[1],je=Object(m.useState)(!0),ge=Object(o.a)(je,2),he=ge[0],ye=ge[1],Oe=Object(m.useState)(!0),ve=Object(o.a)(Oe,2),xe=ve[0],we=ve[1],_e=Object(m.useState)(!0),Se=Object(o.a)(_e,2);return{showClientes:n,setShowClientes:a,showOnlineChat:l,setShowOnlineChat:d,showChatMessage:u,setShowChatMessage:p,showReceivedEmail:j,setShowReceivedEmail:g,showSentEmail:O,setShowSentEmail:v,showViewedAttachment:_,setShowViewedAttachment:S,showVideoStream:E,setShowVideoStream:D,showProfileVideo:N,setShowProfileVideo:P,showPresent:T,setShowPresent:z,showManualBonus:V,setShowManualBonus:H,showGift:Z,setShowGift:Q,showVoiceMessage:J,setShowVoiceMessage:W,showMissedInvite:Y,setShowMissedInvite:$,showMissedAnswer:ne,setShowMissedAnswer:ae,showMissedMessage:oe,setShowMissedMessage:le,showUnansweredEmail:se,setShowUnansweredEmail:ue,showMissedEmail:fe,setShowMissedEmail:me,showMissedVideoInvite:he,setShowMissedVideoInvite:ye,showMissedPresent:xe,setShowMissedPresent:we,showManualWriteoff:Se[0],setShowManualWriteoff:Se[1]}}(),oe=function(){switch(d){case"operador":return"perfiles"===ae?"clients":"profiles";case"perfil":return"operadores"===ae?"clients":"operators";case"cliente":return"operadores"===ae?"profiles":"operators";default:return"badOmit"}}(),le=Object(B.d)(["entidades-relacionadas-1",d,t,S,"rango"===S?D:null,"rango"===S?L:null,oe],Te),de=le.data,ce=le.isLoading,se=le.isFetching,ue=Object(B.d)(["entidades-relacionadas-2",d,t,S,"rango"===S?D:null,"rango"===S?L:null,ae,W],ze),pe=ue.data,be=ue.isFetching,me=Object(B.d)(["grafica",t,d,S,"rango"===S?D:null,"rango"===S?L:null,null!==W?ae:null,W,$],$e,{enabled:!se&&!be}).data,je=b.a.get("role");Object(m.useEffect)((function(){return K(null)}),[ae]),Object(m.useEffect)((function(){}),[]);return Object(H.jsx)(u.a,{setShowModal:i,children:Object(H.jsxs)(nt,{children:[Object(H.jsxs)(at,{_css2:[{display:"flex",flexDirection:"column",alignItems:"center",padding:"0.75rem",gap:"1rem","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",position:"relative",flexShrink:"0"},ve.b,g?null:{display:"none"}],children:[Object(H.jsx)(fe,{nombre:n,role:je,id:t,foto:a,tipoEntidad:d,tiempo:S,setTiempo:I,desde:D,setDesde:M,hasta:L,setHasta:q,setSubEntidadesRelacionadasId:K,amolatinaId:c}),"admin"===je&&"operador"===d?Object(H.jsx)(ye,{supervisorId:l,id:t,setShowModal:i}):null,Object(H.jsx)(it,{}),null===Q?Object(H.jsxs)(rt,{children:[Object(H.jsx)(Oe.a,{text1:"operador"===d?"Perfiles":"Operadores",text2:"cliente"===d?"Perfiles":"Clientes",value:ae,setValue:ie}),"diaymes"===S?Object(H.jsxs)(ot,{children:[Object(H.jsxs)(lt,{children:["Dia"," ",Object(H.jsx)("input",{name:"orden-relacional-input",type:"radio",onChange:function(e){x(e.target.value),K(null)},value:"dia",checked:"dia"===v})]}),Object(H.jsxs)(dt,{children:["Mes"," ",Object(H.jsx)("input",{name:"orden-relacional-input",type:"radio",onChange:function(e){x(e.target.value),K(null)},value:"mes",checked:"mes"===v})]})]}):null,"operador"===d?Object(H.jsxs)(ct,{children:[Object(H.jsx)(st,{onClick:function(){return U("tomar")},children:"Tomar"}),Object(H.jsx)(ut,{onClick:function(){return U("asignar")},children:"Asignar"})]}):null]}):null,Object(H.jsx)(pt,{children:null!==Q?Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)("span",{children:"tomar"===Q?"Toma Y Liberaci\xf3n De Perfiles":"Asignaci\xf3n De Perfiles"}),Object(H.jsx)(Ze,{showTomarAsignarMenu:Q,setShowTomarAsignarMenu:U,id:t})]}):Object(H.jsxs)(bt,{onClick:function(e){e.currentTarget===e.target&&(K(null),ee(null))},children:["diaymes"===S?Object(H.jsx)(Me,{entidades:de,subEntidades:pe,entidadSeleccionada:ae,orden:v,subEntidadesRelacionadasId:W,setSubEntidadesRelacionadasId:K,setSubEntidadesRelacionadasId2:ee,tipoEntidad:d,id:t}):Object(H.jsx)(Re,{entidades:de,subEntidades:pe,entidadSeleccionada:ae,subEntidadesRelacionadasId:W,setSubEntidadesRelacionadasId:K,setSubEntidadesRelacionadasId2:ee,tipoEntidad:d,id:t}),ce?Object(H.jsx)(f.a,{}):null]})})]}),Object(H.jsxs)(ft,{children:[Object(H.jsx)(mt,{onClick:function(){return h((function(e){return!e}))},children:g?"<":">"}),me?Object(H.jsxs)(jt,{children:[Object(H.jsxs)(gt,{children:[Object(H.jsxs)(ht,{children:[Object(H.jsxs)(yt,{children:["Bonus",Object(H.jsx)("input",{type:"radio",name:"bonusorwriteoff",checked:"bonus"===P,onChange:function(){return A("bonus")}})]}),Object(H.jsxs)(Ot,{children:["Writeoff",Object(H.jsx)("input",{type:"radio",name:"bonusorwriteoff",checked:"writeoff"===P,onChange:function(){return A("writeoff")}})]})]}),Object(H.jsxs)(vt,{_css3:[{display:"flex",gap:"1rem"},ve.b,Object(s.c)(["&::-webkit-scrollbar{height:20px;}"])],children:[Object(H.jsxs)(xt,{children:["Clientes",Object(H.jsx)("input",{type:"checkbox",checked:re.showClientes,onChange:function(e){return re.setShowClientes(e.target.checked)}})]}),("bonus"===P?V.b:V.I).map((function(e,t){var n=e.name;return"todos"===e.value?null:Object(H.jsx)(tt,{text:n,checked:re["show"+n.replace(/ /g,"")],setChecked:re["setShow"+n.replace(/ /g,"")],color:V.e[t]},n)}))]})]}),Object(H.jsx)(Qe.a,{children:Object(H.jsxs)(Ue.a,{onClick:function(e){if(null!==e&&e.activePayload[0].payload.fecha){var t=new Date(e.activePayload[0].payload.fecha),n=new Date(e.activePayload[0].payload.fecha);n.setDate(n.getDate()+1);var a=t.toISOString().slice(0,-1),i=n.toISOString().slice(0,-1);try{document.getElementById("desde-fecha").value=a,document.getElementById("hasta-fecha").value=i}catch(r){}M(a),q(i),I("rango")}},data:me.map((function(e){var t,n=e.points,a=e.fecha,i=e.etiqueta,l=e.cantidadDeClientes,d=0,c=null!==(t=null===n||void 0===n?void 0:n[P])&&void 0!==t?t:{};Object.entries(c).forEach((function(e){var t=Object(o.a)(e,2),n=t[0],a=t[1],i=V.c.find((function(e){return e.value===n})).name;re["show"+i.replace(/ /g,"")]&&(d+=a)}));for(var s=0,u=Object.entries(c);s<u.length;s++){var p=Object(o.a)(u[s],2),b=p[0],f=p[1];c[b]=Math.floor(f)}return Object(r.a)(Object(r.a)({fecha:a,etiqueta:i,cantidadDeClientes:l},c),{},{total:Math.floor(d)})})),children:[Object(H.jsx)(Ge.a,{strokeDasharray:"3 3"}),Object(H.jsx)(Je.a,{dataKey:"etiqueta"}),Object(H.jsx)(We.a,{yAxisId:"left-axis",orientation:"left"}),Object(H.jsx)(We.a,{yAxisId:"right-axis",orientation:"right"}),Object(H.jsx)(We.a,{}),Object(H.jsx)(Ke.a,{formatter:function(e,t){var n=t;return V.c.map((function(e){return e.value})).includes(t)?n=V.c.find((function(e){return e.value===t})).name:"cantidadDeClientes"===t&&(n="Cantidad de clientes"),[e,n]},contentStyle:{backgroundColor:"#333333"}}),("bonus"===P?V.b:V.I).map((function(e,t,n){var a=e.name,i=e.value,r=n.length;return re["show"+a.replace(/ /g,"")]?Object(H.jsx)(Xe.a,{dataKey:i,stackId:"a",yAxisId:"left-axis",fill:V.e[t],isAnimationActive:!1,children:t===r-1?Object(H.jsx)(Ye.a,{dataKey:"total",position:"top",style:{fill:"white"}}):null},i):null})),re.showClientes?Object(H.jsx)(Xe.a,{dataKey:"cantidadDeClientes",yAxisId:"right-axis",fill:"#3346ff",isAnimationActive:!1,children:Object(H.jsx)(Ye.a,{dataKey:"cantidadDeClientes",position:"top",style:{fill:"white"}})}):null]})},g)]}):Object(H.jsx)(f.a,{})]})]})})}},98:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a,i=n(0),r=["title","titleId"];function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function d(e,t){var n=e.title,d=e.titleId,c=l(e,r);return i.createElement("svg",o({xmlns:"http://www.w3.org/2000/svg",width:"180.62mm",height:"180.62mm",viewBox:"0 0 512 512",ref:t,"aria-labelledby":d},c),n?i.createElement("title",{id:d},n):null,a||(a=i.createElement("path",{d:"M286,256.13,505.49,36.66A21.32,21.32,0,1,0,475.87,6c-.18.17-.36.34-.53.52L255.87,226,36.39,6.51A21.32,21.32,0,0,0,6.24,36.66L225.72,256.13,6.24,475.61a21.32,21.32,0,0,0,30.15,30.15L255.87,286.28,475.34,505.76a21.32,21.32,0,0,0,30.15-30.15Z",transform:"translate(0 0)"})))}var c=i.forwardRef(d);n.p}}]);