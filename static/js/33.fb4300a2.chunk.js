(this.webpackJsonpivan=this.webpackJsonpivan||[]).push([[33],{441:function(e,t,n){"use strict";n.r(t);var i=n(1),a=n.n(i),r=n(8),o=n(6),c=n(3),d=n(91),l=n(0),s=n.n(l),p=n(10),g=n(12),b=n(43),m=n(44),j=n(29),u=n(57),y=n(101),h=n(2),f=c.d.span.withConfig({displayName:"ModalAgency__Id",componentId:"sc-8wvj36-0"})(["@media (min-width:2560px){font-size:0.75rem !important;}@media (min-height:1000px) and (min-width:651px) and (max-width:767px){font-size:0.975rem !important;}@media (min-height:1000px) and (min-width:451px) and (max-width:650px){font-size:0.75rem !important;}@media (min-width:651px) and (max-width:767px) and (max-height:999px){font-size:0.8rem !important;}@media (min-width:401px) and (max-width:650px) and (max-height:999px){font-size:0.7rem !important;}@media (max-width:400px) and (max-height:999px){font-size:0.4rem !important;}",""],{fontSize:"0.35rem","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",width:"8em",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",textAlign:"center","@media (min-width: 1024px)":{fontSize:"0.4rem"},"@media (min-width: 1280px)":{fontSize:"0.5rem"},"@media (min-width: 1536px)":{fontSize:"0.6rem"}}),v=Object(c.d)("div").withConfig({displayName:"ModalAgency___StyledDiv",componentId:"sc-8wvj36-1"})({"--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",width:"95vw",height:"85vh",padding:"1.25rem"}),w=Object(c.d)("div").withConfig({displayName:"ModalAgency___StyledDiv2",componentId:"sc-8wvj36-2"})(["",""],(function(e){return e._css})),x=Object(c.d)(y.a).withConfig({displayName:"ModalAgency___StyledToggleGroup",componentId:"sc-8wvj36-3"})({alignSelf:"center"}),O=Object(c.d)(y.b).withConfig({displayName:"ModalAgency___StyledToggleGroupItem",componentId:"sc-8wvj36-4"})(["",""],(function(e){return e._css2})),_=Object(c.d)(y.b).withConfig({displayName:"ModalAgency___StyledToggleGroupItem2",componentId:"sc-8wvj36-5"})(["",""],(function(e){return e._css3})),C=Object(c.d)("div").withConfig({displayName:"ModalAgency___StyledDiv3",componentId:"sc-8wvj36-6"})(["",""],(function(e){return e._css4})),S=Object(c.d)("input").withConfig({displayName:"ModalAgency___StyledInput",componentId:"sc-8wvj36-7"})(["",""],(function(e){return e._css5})),I=Object(c.d)("input").withConfig({displayName:"ModalAgency___StyledInput2",componentId:"sc-8wvj36-8"})(["",""],(function(e){return e._css6})),A=Object(c.d)("input").withConfig({displayName:"ModalAgency___StyledInput3",componentId:"sc-8wvj36-9"})(["",""],(function(e){return e._css7})),N=Object(c.d)("span").withConfig({displayName:"ModalAgency___StyledSpan",componentId:"sc-8wvj36-10"})({"--tw-text-opacity":"1",color:"rgba(220, 38, 38, var(--tw-text-opacity))",fontWeight:"700"}),M=Object(c.d)("input").withConfig({displayName:"ModalAgency___StyledInput4",componentId:"sc-8wvj36-11"})(["",""],(function(e){return e._css8})),D=Object(c.d)("div").withConfig({displayName:"ModalAgency___StyledDiv4",componentId:"sc-8wvj36-12"})(["",""],(function(e){return e._css9})),k=Object(c.d)("div").withConfig({displayName:"ModalAgency___StyledDiv5",componentId:"sc-8wvj36-13"})({display:"flex",alignItems:"center",gap:"0.5rem",marginTop:"0.5rem",marginBottom:"0.5rem"}),T=Object(c.d)("select").withConfig({displayName:"ModalAgency___StyledSelect",componentId:"sc-8wvj36-14"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",padding:"0.25rem",borderRadius:"0.25rem"}),R=Object(c.d)("select").withConfig({displayName:"ModalAgency___StyledSelect2",componentId:"sc-8wvj36-15"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",padding:"0.25rem",borderRadius:"0.25rem"}),L=Object(c.d)("div").withConfig({displayName:"ModalAgency___StyledDiv6",componentId:"sc-8wvj36-16"})(["",""],(function(e){return e._css10})),B=Object(c.d)("div").withConfig({displayName:"ModalAgency___StyledDiv7",componentId:"sc-8wvj36-17"})({display:"flex",justifyContent:"space-between",padding:"0.5rem",borderWidth:"2px","--tw-border-opacity":"1",borderColor:"rgba(107, 114, 128, var(--tw-border-opacity))",borderRadius:"20px",alignItems:"center"}),W=Object(c.d)("div").withConfig({displayName:"ModalAgency___StyledDiv8",componentId:"sc-8wvj36-18"})({display:"flex",gap:"0.5rem"}),P=Object(c.d)("div").withConfig({displayName:"ModalAgency___StyledDiv9",componentId:"sc-8wvj36-19"})({display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem"}),z=Object(c.d)("div").withConfig({displayName:"ModalAgency___StyledDiv10",componentId:"sc-8wvj36-20"})({position:"relative",display:"flex"}),J=Object(c.d)("img").withConfig({displayName:"ModalAgency___StyledImg",componentId:"sc-8wvj36-21"})({width:"4em",height:"4em",borderRadius:"9999px",objectFit:"cover"}),Q=Object(c.d)("div").withConfig({displayName:"ModalAgency___StyledDiv11",componentId:"sc-8wvj36-22"})({display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem"}),F=Object(c.d)("div").withConfig({displayName:"ModalAgency___StyledDiv12",componentId:"sc-8wvj36-23"})({position:"relative",display:"flex"}),H=Object(c.d)("img").withConfig({displayName:"ModalAgency___StyledImg2",componentId:"sc-8wvj36-24"})({width:"4em",height:"4em",borderRadius:"9999px",objectFit:"cover"}),G=Object(c.d)("div").withConfig({displayName:"ModalAgency___StyledDiv13",componentId:"sc-8wvj36-25"})({display:"flex",justifyContent:"center",gap:"0.5rem"}),X=Object(c.d)("div").withConfig({displayName:"ModalAgency___StyledDiv14",componentId:"sc-8wvj36-26"})({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"0.5rem"}),U=Object(c.d)("div").withConfig({displayName:"ModalAgency___StyledDiv15",componentId:"sc-8wvj36-27"})({display:"flex",flexDirection:"column",alignItems:"center"}),E=Object(c.d)("input").withConfig({displayName:"ModalAgency___StyledInput5",componentId:"sc-8wvj36-28"})(["",""],(function(e){return e._css11})),V=Object(c.d)("span").withConfig({displayName:"ModalAgency___StyledSpan2",componentId:"sc-8wvj36-29"})({"--tw-text-opacity":"1",color:"rgba(220, 38, 38, var(--tw-text-opacity))",fontWeight:"700"}),q=Object(c.d)("div").withConfig({displayName:"ModalAgency___StyledDiv16",componentId:"sc-8wvj36-30"})({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"0.5rem"}),K=Object(c.d)("div").withConfig({displayName:"ModalAgency___StyledDiv17",componentId:"sc-8wvj36-31"})({display:"flex",flexDirection:"column",alignItems:"center"}),Y=Object(c.d)("div").withConfig({displayName:"ModalAgency___StyledDiv18",componentId:"sc-8wvj36-32"})({display:"flex",alignItems:"center"}),Z=Object(c.d)("input").withConfig({displayName:"ModalAgency___StyledInput6",componentId:"sc-8wvj36-33"})(["",""],(function(e){return e._css12})),$=Object(c.d)("button").withConfig({displayName:"ModalAgency___StyledButton",componentId:"sc-8wvj36-34"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))",":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgba(56, 56, 69, var(--tw-bg-opacity))"},fontWeight:"700",paddingTop:"0.5rem",paddingBottom:"0.5rem",paddingLeft:"0.5rem",paddingRight:"0.5rem",borderRadius:"0 1rem 1rem 0"}),ee=Object(c.d)("span").withConfig({displayName:"ModalAgency___StyledSpan3",componentId:"sc-8wvj36-35"})({"--tw-text-opacity":"1",color:"rgba(220, 38, 38, var(--tw-text-opacity))",fontWeight:"700"}),te=Object(c.d)("div").withConfig({displayName:"ModalAgency___StyledDiv19",componentId:"sc-8wvj36-36"})({display:"flex",justifyContent:"center",gap:"0.5rem"}),ne=Object(c.d)(m.b).withConfig({displayName:"ModalAgency___StyledButton2",componentId:"sc-8wvj36-37"})(["",""],(function(e){return e._css13})),ie=function(e){var t=e.operador,n=s.a.useState(!1),i=Object(o.a)(n,2),d=i[0],l=i[1],g=s.a.useState(!1),b=Object(o.a)(g,2),m=b[0],j=b[1],y=s.a.useState(""),v=Object(o.a)(y,2),w=v[0],x=v[1],O=s.a.useState(""),_=Object(o.a)(O,2),C=_[0],S=_[1];return Object(h.jsxs)(B,{children:[Object(h.jsxs)(W,{children:[Object(h.jsxs)(P,{children:[Object(h.jsx)(z,{children:Object(h.jsx)(J,{src:"/images/".concat(t.agency_photo),alt:"..."})}),Object(h.jsx)(f,{title:t.agency_name,children:t.agency_name})]}),Object(h.jsxs)(Q,{children:[Object(h.jsx)(F,{children:Object(h.jsx)(H,{src:"/images/".concat("admin"===t.role?t.agency_photo:t.photo),alt:"..."})}),Object(h.jsx)(f,{title:t.nombre,children:t.nombre})]})]}),Object(h.jsxs)(G,{children:[Object(h.jsxs)(X,{children:[Object(h.jsx)("div",{children:"Contrase\xf1a"}),Object(h.jsxs)(U,{children:[Object(h.jsx)(E,{type:"password",value:w,onChange:function(e){return x(e.target.value)},_css11:[{"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",padding:"0.375rem",width:"100%",borderRadius:"1rem 0 0 1rem"},!0===m?{borderWidth:"4px","--tw-border-opacity":"1",borderColor:"rgba(220, 38, 38, var(--tw-border-opacity))",":hover":{"--tw-border-opacity":"1",borderColor:"rgba(220, 38, 38, var(--tw-border-opacity))"}}:null]}),!0===m?Object(h.jsx)(V,{children:" Las Contrase\xf1as no coinciden "}):null]})]}),Object(h.jsxs)(q,{children:[Object(h.jsx)("div",{children:"Repetir"}),Object(h.jsxs)(K,{children:[Object(h.jsxs)(Y,{children:[Object(h.jsx)(Z,{type:"password",value:C,onChange:function(e){return S(e.target.value)},_css12:[{"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",padding:"0.375rem",width:"100%"},!0===m?{borderWidth:"4px","--tw-border-opacity":"1",borderColor:"rgba(220, 38, 38, var(--tw-border-opacity))",":hover":{"--tw-border-opacity":"1",borderColor:"rgba(220, 38, 38, var(--tw-border-opacity))"}}:null]}),Object(h.jsx)($,{onClick:function(){var e=Object(r.a)(a.a.mark((function e(n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.target.disabled=!0,w!==C){e.next=10;break}return e.next=4,Object(p.s)("/operators/update-info-all",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:t.id,password:Object(u.sha256)(w)})});case 4:x(""),S(""),setTimeout((function(){n.target.disabled=!1}),1e3),j(!1),e.next=12;break;case 10:j(!0),n.target.disabled=!1;case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-right",viewBox:"0 0 16 16",children:Object(h.jsx)("path",{"fill-rule":"evenodd",d:"M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"})})})]}),!0===m?Object(h.jsx)(ee,{children:" Las Contrase\xf1as no coinciden "}):null]})]})]}),Object(h.jsx)(te,{children:Object(h.jsx)(ne,{primario:!0,onClick:function(){var e=Object(r.a)(a.a.mark((function e(n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.target.disabled=!0,l(!0),e.next=4,Object(p.s)("/agency/close-session",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({operatorId:t.id})});case 4:setTimeout((function(){n.target.disabled=!1,l(!1)}),1e3);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_css13:[!1===d?Object(c.c)(["border:2px solid #04c292;background-color:#04c292;&:hover{background-color:rgba(51,70,255,0);}"]):Object(c.c)(["border:2px solid #b45309;background-color:#b45309;&:hover{background-color:rgba(51,70,255,0);}"])],children:!1===d?"Cerrar Sesion":"Cerrando"})})]},t.id)},ae=Object(c.d)("div").withConfig({displayName:"ModalAgency___StyledDiv20",componentId:"sc-8wvj36-38"})({display:"flex",justifyContent:"space-between",padding:"0.5rem",borderWidth:"2px","--tw-border-opacity":"1",borderColor:"rgba(107, 114, 128, var(--tw-border-opacity))",borderRadius:"20px",alignItems:"center"}),re=Object(c.d)("div").withConfig({displayName:"ModalAgency___StyledDiv21",componentId:"sc-8wvj36-39"})({display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem"}),oe=Object(c.d)("div").withConfig({displayName:"ModalAgency___StyledDiv22",componentId:"sc-8wvj36-40"})({position:"relative",display:"flex"}),ce=Object(c.d)("img").withConfig({displayName:"ModalAgency___StyledImg3",componentId:"sc-8wvj36-41"})({width:"4em",height:"4em",borderRadius:"9999px",objectFit:"cover"}),de=Object(c.d)("div").withConfig({displayName:"ModalAgency___StyledDiv23",componentId:"sc-8wvj36-42"})({display:"flex",justifyContent:"center",gap:"0.5rem"}),le=Object(c.d)("div").withConfig({displayName:"ModalAgency___StyledDiv24",componentId:"sc-8wvj36-43"})({display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem"}),se=Object(c.d)("div").withConfig({displayName:"ModalAgency___StyledDiv25",componentId:"sc-8wvj36-44"})({display:"flex",alignItems:"center"}),pe=Object(c.d)("select").withConfig({displayName:"ModalAgency___StyledSelect3",componentId:"sc-8wvj36-45"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",padding:"0.375rem",width:"100%",borderRadius:"1rem 0 0 1rem"}),ge=Object(c.d)("button").withConfig({displayName:"ModalAgency___StyledButton3",componentId:"sc-8wvj36-46"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))",":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgba(56, 56, 69, var(--tw-bg-opacity))"},fontWeight:"700",paddingTop:"0.5rem",paddingBottom:"0.5rem",paddingLeft:"0.5rem",paddingRight:"0.5rem",borderRadius:"0 1rem 1rem 0"}),be=Object(c.d)("div").withConfig({displayName:"ModalAgency___StyledDiv26",componentId:"sc-8wvj36-47"})({display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem"}),me=Object(c.d)("div").withConfig({displayName:"ModalAgency___StyledDiv27",componentId:"sc-8wvj36-48"})({display:"flex",alignItems:"center"}),je=Object(c.d)("select").withConfig({displayName:"ModalAgency___StyledSelect4",componentId:"sc-8wvj36-49"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",padding:"0.375rem",width:"100%",borderRadius:"1rem 0 0 1rem"}),ue=Object(c.d)("button").withConfig({displayName:"ModalAgency___StyledButton4",componentId:"sc-8wvj36-50"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))",":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgba(56, 56, 69, var(--tw-bg-opacity))"},fontWeight:"700",paddingTop:"0.5rem",paddingBottom:"0.5rem",paddingLeft:"0.5rem",paddingRight:"0.5rem",borderRadius:"0 1rem 1rem 0"}),ye=Object(c.d)("div").withConfig({displayName:"ModalAgency___StyledDiv28",componentId:"sc-8wvj36-51"})({display:"flex",justifyContent:"center",gap:"0.5rem"}),he=Object(c.d)("div").withConfig({displayName:"ModalAgency___StyledDiv29",componentId:"sc-8wvj36-52"})({display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem"}),fe=Object(c.d)(p.e).withConfig({displayName:"ModalAgency___StyledDivRadio",componentId:"sc-8wvj36-53"})({gap:"0.25rem",paddingLeft:"0.25rem",paddingRight:"0.25rem",display:"flex",justifyContent:"center",flexDirection:"column"}),ve=Object(c.d)("label").withConfig({displayName:"ModalAgency___StyledLabel",componentId:"sc-8wvj36-54"})(["",""],(function(e){return e._css14})),we=Object(c.d)("label").withConfig({displayName:"ModalAgency___StyledLabel2",componentId:"sc-8wvj36-55"})(["",""],(function(e){return e._css15})),xe=Object(c.d)("div").withConfig({displayName:"ModalAgency___StyledDiv30",componentId:"sc-8wvj36-56"})({display:"flex",justifyContent:"center",gap:"0.5rem"}),Oe=Object(c.d)("div").withConfig({displayName:"ModalAgency___StyledDiv31",componentId:"sc-8wvj36-57"})({display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem"}),_e=Object(c.d)("div").withConfig({displayName:"ModalAgency___StyledDiv32",componentId:"sc-8wvj36-58"})({display:"flex",alignItems:"center"}),Ce=Object(c.d)("select").withConfig({displayName:"ModalAgency___StyledSelect5",componentId:"sc-8wvj36-59"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",padding:"0.375rem",width:"100%",borderRadius:"1rem 0 0 1rem"}),Se=Object(c.d)("button").withConfig({displayName:"ModalAgency___StyledButton5",componentId:"sc-8wvj36-60"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))",":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgba(56, 56, 69, var(--tw-bg-opacity))"},fontWeight:"700",paddingTop:"0.5rem",paddingBottom:"0.5rem",paddingLeft:"0.5rem",paddingRight:"0.5rem",borderRadius:"0 1rem 1rem 0"}),Ie=Object(c.d)("div").withConfig({displayName:"ModalAgency___StyledDiv33",componentId:"sc-8wvj36-61"})({display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem"}),Ae=Object(c.d)("div").withConfig({displayName:"ModalAgency___StyledDiv34",componentId:"sc-8wvj36-62"})({display:"flex",alignItems:"center"}),Ne=Object(c.d)("select").withConfig({displayName:"ModalAgency___StyledSelect6",componentId:"sc-8wvj36-63"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",padding:"0.375rem",width:"100%",borderRadius:"1rem 0 0 1rem"}),Me=Object(c.d)("button").withConfig({displayName:"ModalAgency___StyledButton6",componentId:"sc-8wvj36-64"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))",":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgba(56, 56, 69, var(--tw-bg-opacity))"},fontWeight:"700",paddingTop:"0.5rem",paddingBottom:"0.5rem",paddingLeft:"0.5rem",paddingRight:"0.5rem",borderRadius:"0 1rem 1rem 0"}),De=Object(c.d)("div").withConfig({displayName:"ModalAgency___StyledDiv35",componentId:"sc-8wvj36-65"})({display:"flex",alignItems:"center",gap:"0.5rem"}),ke=function(e){var t=e.agen,n=e.setIsLoading,i=e.notSelectOperators,c=e.selectOperators,d=e.notSelectProfiles,l=e.selectProfiles,b=s.a.useState("-1"),j=Object(o.a)(b,2),u=j[0],y=j[1],v=s.a.useState("-1"),w=Object(o.a)(v,2),x=w[0],O=w[1],_=s.a.useState("-1"),C=Object(o.a)(_,2),S=C[0],I=C[1],A=s.a.useState("-1"),N=Object(o.a)(A,2),M=N[0],D=N[1],k=t.viewonlyprofiles,T=t.viewonlyoperators;return Object(h.jsxs)(ae,{children:[Object(h.jsxs)(re,{children:[Object(h.jsx)(oe,{children:Object(h.jsx)(ce,{src:t.photo,alt:"..."})}),Object(h.jsx)(f,{title:t.name,children:t.name})]}),Object(h.jsxs)(de,{children:[Object(h.jsxs)(le,{children:[Object(h.jsx)("div",{children:"Operadores"}),Object(h.jsxs)(se,{children:[Object(h.jsxs)(pe,{value:u,onChange:function(e){return y(e.target.value)},children:[Object(h.jsx)("option",{value:-1,children:"Seleccionar"}),null===i||void 0===i?void 0:i.map((function(e){return Object(h.jsx)("option",{value:e.id,children:e.nombre})}))]}),Object(h.jsx)(ge,{onClick:Object(r.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("-1"!==u){e.next=2;break}return e.abrupt("return");case 2:return n(!0),e.next=5,Object(p.s)("/agency/assign-operator",{method:"POST",body:JSON.stringify({agencyId:t.id,operatorId:+u}),headers:{"Content-Type":"application/json"}});case 5:return e.next=7,Object(p.W)(+u);case 7:return e.next=9,g.b.invalidateQueries(["operadores-all"]);case 9:n(!1);case 10:case"end":return e.stop()}}),e)}))),children:Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-right",viewBox:"0 0 16 16",children:Object(h.jsx)("path",{"fill-rule":"evenodd",d:"M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"})})})]})]}),Object(h.jsxs)(be,{children:[Object(h.jsx)("div",{children:"Asignados"}),Object(h.jsxs)(me,{children:[Object(h.jsxs)(je,{value:x,onChange:function(e){return O(e.target.value)},children:[Object(h.jsx)("option",{value:-1,children:"Seleccionar"}),null===c||void 0===c?void 0:c.map((function(e){return Object(h.jsx)("option",{value:e.id,children:e.nombre})}))]}),Object(h.jsx)(ue,{onClick:Object(r.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("-1"!==x){e.next=2;break}return e.abrupt("return");case 2:return n(!0),e.next=5,Object(p.s)("/agency/remove-assigned-operator",{method:"POST",body:JSON.stringify({agencyId:t.id,operatorId:+x}),headers:{"Content-Type":"application/json"}});case 5:return e.next=7,Object(p.W)(+u);case 7:return e.next=9,g.b.invalidateQueries(["operadores-all"]);case 9:n(!1);case 10:case"end":return e.stop()}}),e)}))),children:Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-left",viewBox:"0 0 16 16",children:Object(h.jsx)("path",{"fill-rule":"evenodd",d:"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"})})})]})]})]}),Object(h.jsx)(ye,{children:Object(h.jsx)(he,{children:Object(h.jsxs)(fe,{children:[Object(h.jsxs)(ve,{_css14:[{color:"#ffffff",fontWeight:"600",display:"flex",alignItems:"center","@media (min-width: 1024px)":{gap:"0.25rem"}},"@media (min-width: 2560px) { grid-gap: 0.325rem !important; }"],children:[Object(h.jsx)("input",{type:"checkbox",checked:k,onClick:function(){var e=Object(r.a)(a.a.mark((function e(i){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.next=3,Object(p.s)("/agency/config-agency",{method:"POST",body:JSON.stringify({agencyId:t.id,viewonlyprofiles:i.target.checked,type:"onlyProfiles"}),headers:{"Content-Type":"application/json"}});case 3:return e.next=5,g.b.invalidateQueries(["agency"]);case 5:n(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})," ","Solo usar perfiles asignados"]})," ",Object(h.jsxs)(we,{_css15:[{color:"#ffffff",fontWeight:"600",display:"flex",alignItems:"center","@media (min-width: 1024px)":{gap:"0.25rem"}},"@media (min-width: 2560px) { grid-gap: 0.325rem !important; }"],children:[Object(h.jsx)("input",{type:"checkbox",checked:T,onClick:function(){var e=Object(r.a)(a.a.mark((function e(i){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.next=3,Object(p.s)("/agency/config-agency",{method:"POST",body:JSON.stringify({agencyId:t.id,viewonlyoperators:i.target.checked,type:"onlyOperators"}),headers:{"Content-Type":"application/json"}});case 3:return e.next=5,g.b.invalidateQueries(["agency"]);case 5:n(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})," ","Pueden ver otros operadores"]})]})})}),Object(h.jsxs)(xe,{children:[Object(h.jsxs)(Oe,{children:[Object(h.jsx)("div",{children:"Perfiles"}),Object(h.jsxs)(_e,{children:[Object(h.jsxs)(Ce,{value:S,onChange:function(e){return I(e.target.value)},children:[Object(h.jsx)("option",{value:-1,children:"Seleccionar"}),null===d||void 0===d?void 0:d.map((function(e){return Object(h.jsx)("option",{value:e.id,children:e.nombre})}))]}),Object(h.jsx)(Se,{onClick:Object(r.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("-1"!==S){e.next=2;break}return e.abrupt("return");case 2:return n(!0),e.next=5,Object(p.s)("/agency/assign-profiles",{method:"POST",body:JSON.stringify({agencyId:t.id,profileId:+S}),headers:{"Content-Type":"application/json"}});case 5:return e.next=7,Object(p.X)(+S);case 7:n(!1);case 8:case"end":return e.stop()}}),e)}))),children:Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-right",viewBox:"0 0 16 16",children:Object(h.jsx)("path",{"fill-rule":"evenodd",d:"M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"})})})]})]}),Object(h.jsxs)(Ie,{children:[Object(h.jsx)("div",{children:"Asignados"}),Object(h.jsxs)(Ae,{children:[Object(h.jsxs)(Ne,{value:M,onChange:function(e){return D(e.target.value)},children:[Object(h.jsx)("option",{value:-1,children:"Seleccionar"}),null===l||void 0===l?void 0:l.map((function(e){return Object(h.jsx)("option",{value:e.id,children:e.nombre})}))]}),Object(h.jsx)(Me,{onClick:Object(r.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("-1"!==M){e.next=2;break}return e.abrupt("return");case 2:return n(!0),e.next=5,Object(p.s)("/agency/remove-assigned-profiles",{method:"POST",body:JSON.stringify({agencyId:t.id,profileId:+M}),headers:{"Content-Type":"application/json"}});case 5:return e.next=7,Object(p.X)(+M);case 7:n(!1);case 8:case"end":return e.stop()}}),e)}))),children:Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-left",viewBox:"0 0 16 16",children:Object(h.jsx)("path",{"fill-rule":"evenodd",d:"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"})})})]})]}),Object(h.jsx)(De,{children:""!==t.driveId?Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)(m.b,{primario:!0,onClick:function(){var e=Object(r.a)(a.a.mark((function e(i){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),i.target.disabled=!0,e.next=4,Object(p.s)("/drive-files/generate-folder-profile",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({agencyId:t.id})});case 4:return e.next=6,g.b.invalidateQueries(["agency"]);case 6:i.target.disabled=!1,n(!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[" ","Generar Perfiles"," "]})}):Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)(m.b,{green:!0,onClick:function(){var e=Object(r.a)(a.a.mark((function e(i){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),i.target.disabled=!0,e.next=4,Object(p.s)("/drive-files/generate-folder-agency",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({agencyId:t.id})});case 4:return e.next=6,g.b.invalidateQueries(["agency"]);case 6:i.target.disabled=!1,n(!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[" ","Generar"," "]})})})]})]},t.amolatina_id)};t.default=function(e){var t,n,i,c,l,y=e.setShowAgencias,f=g.b.getQueryData(["agency"]),B=g.b.getQueryData(["perfiles"]),W=g.b.getQueryData(["operadores"]),P=s.a.useState(""),z=Object(o.a)(P,2),J=z[0],Q=z[1],F=s.a.useState(""),H=Object(o.a)(F,2),G=H[0],X=H[1],U=s.a.useState(""),E=Object(o.a)(U,2),V=E[0],q=E[1],K=s.a.useState(""),Y=Object(o.a)(K,2),Z=Y[0],$=Y[1],ee=s.a.useState("agencies"),te=Object(o.a)(ee,2),ne=te[0],ae=te[1],re=s.a.useState("all"),oe=Object(o.a)(re,2),ce=oe[0],de=oe[1],le=s.a.useState("all"),se=Object(o.a)(le,2),pe=se[0],ge=se[1],be=s.a.useState(!1),me=Object(o.a)(be,2),je=me[0],ue=me[1],ye=s.a.useState(!1),he=Object(o.a)(ye,2),fe=he[0],ve=he[1];return Object(h.jsx)(d.a,{setShowModal:y,children:Object(h.jsx)(v,{children:je?Object(h.jsx)(b.a,{}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(w,{_css:[{display:"flex",justifyContent:"center",gap:"0.5rem",alignItems:"center",marginBottom:"0.5rem"},"@media (min-width: 2560px) { grid-gap: 1rem !important; }"],children:Object(h.jsxs)(x,{type:"single",value:ne,onValueChange:function(e){e&&ae(e)},children:[Object(h.jsx)(O,{value:"agencies",_css2:[{paddingRight:"0.75rem",paddingTop:"0.5rem",paddingBottom:"0.5rem",paddingLeft:"1rem","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",fontWeight:"700",borderTopLeftRadius:"1rem",borderBottomLeftRadius:"1rem",borderWidth:"1px",borderColor:"#4c4c3f",borderStyle:"solid"},"agencies"===ne?{"--tw-bg-opacity":"1",backgroundColor:"rgba(76, 76, 63, var(--tw-bg-opacity))"}:null],children:"Agencias"}),Object(h.jsx)(_,{value:"users",_css3:[{paddingRight:"1rem",paddingTop:"0.5rem",paddingBottom:"0.5rem",paddingLeft:"0.75rem","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",fontWeight:"700",borderTopRightRadius:"1rem",borderBottomRightRadius:"1rem",borderWidth:"1px",borderColor:"#4c4c3f",borderStyle:"solid"},"users"===ne?{"--tw-bg-opacity":"1",backgroundColor:"rgba(76, 76, 63, var(--tw-bg-opacity))"}:null],children:"Usuarios"})]})}),"agencies"===ne?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(C,{_css4:[{display:"flex",justifyContent:"center",gap:"0.5rem",alignItems:"center"},"@media (min-width: 2560px) { grid-gap: 1rem !important; }"],children:[Object(h.jsxs)("label",{children:["Nombre"," ",Object(h.jsx)(S,{value:J,onChange:function(e){return Q(e.target.value)},_css5:[{"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",borderRadius:"1rem","@media (min-width: 768px)":{padding:"0.25rem"}},"@media (min-width: 2560px) { padding: 0.5rem !important; }"]})]}),Object(h.jsxs)("label",{children:["Id Amolatina"," ",Object(h.jsx)(I,{type:"number",value:G,onChange:function(e){return X(e.target.value)},_css6:[{"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",borderRadius:"1rem","@media (min-width: 768px)":{padding:"0.25rem"}},"@media (min-width: 2560px) { padding: 0.5rem !important; }"]})]}),Object(h.jsxs)("label",{children:[Object(h.jsxs)("div",{children:["Usuario"," ",Object(h.jsx)(A,{value:V,onChange:function(e){var t;q(e.target.value),t=e.target.value,W.filter((function(e){return e.username.toLowerCase()===t.toLowerCase()})).length>0?ve(!0):ve(!1)},_css7:[{"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",borderRadius:"1rem","@media (min-width: 768px)":{padding:"0.25rem"}},"@media (min-width: 2560px) { padding: 0.5rem !important; }",!0===fe?{borderWidth:"4px","--tw-border-opacity":"1",borderColor:"rgba(220, 38, 38, var(--tw-border-opacity))",":hover":{"--tw-border-opacity":"1",borderColor:"rgba(220, 38, 38, var(--tw-border-opacity))"}}:null]})]}),!0===fe?Object(h.jsx)(N,{children:" Ese Usuario ya esta en uso "}):null]}),Object(h.jsxs)("label",{children:["Clave"," ",Object(h.jsx)(M,{type:"password",value:Z,onChange:function(e){return $(e.target.value)},_css8:[{"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",borderRadius:"1rem","@media (min-width: 768px)":{padding:"0.25rem"}},"@media (min-width: 2560px) { padding: 0.5rem !important; }"]})]}),Object(h.jsxs)(m.b,{green:!0,onClick:function(){var e=Object(r.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==fe){e.next=13;break}return ue(!0),t.target.disabled=!0,e.next=5,Object(p.s)("/agency/create",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({name:J,amolatinaId:G,user:V,pass:Object(u.sha256)(Z)})});case 5:return Q(""),X(""),$(""),q(""),e.next=11,g.b.invalidateQueries(["agency"]);case 11:t.target.disabled=!1,ue(!1);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[" ","Crear"]})]}),Object(h.jsx)(D,{_css9:[{display:"flex",flexDirection:"column",overflowX:"hidden",height:"90%",width:"100%",padding:"0.5rem",gap:"0.5rem"},j.b],children:null===f||void 0===f||null===(t=f.filter((function(e){return!0===e.isSub})))||void 0===t?void 0:t.map((function(e){var t,n,i=null===W||void 0===W||null===(t=W.filter((function(e){return"admin"!==e.role})))||void 0===t?void 0:t.filter((function(e){return 1===e.agency_id})),a=null===W||void 0===W||null===(n=W.filter((function(e){return"admin"!==e.role})))||void 0===n?void 0:n.filter((function(t){return t.agency_id===e.id})),r=null===B||void 0===B?void 0:B.filter((function(e){return 1===e.agency_id})),o=null===B||void 0===B?void 0:B.filter((function(t){return t.agency_id===e.id}));return Object(h.jsx)(ke,{agen:e,setIsLoading:ue,notSelectOperators:i,selectOperators:a,notSelectProfiles:r,selectProfiles:o})}))})]}):null,"users"===ne?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(k,{children:[Object(h.jsxs)("label",{children:["Rol:"," ",Object(h.jsxs)(T,{value:ce,onChange:function(e){return de(e.target.value)},children:[Object(h.jsx)("option",{value:"all",children:"Todos"}),Object(h.jsx)("option",{value:"operator",children:"Operador"}),Object(h.jsx)("option",{value:"supervisor",children:"Supervisor"}),Object(h.jsx)("option",{value:"support",children:"Soporte"}),Object(h.jsx)("option",{value:"admin",children:"Admin"})]})]}),Object(h.jsxs)("label",{children:["Agencias:"," ",Object(h.jsxs)(R,{value:pe,onChange:function(e){return ge(e.target.value)},children:[Object(h.jsx)("option",{value:"all",children:"Todos"}),null===f||void 0===f||null===(n=f.filter((function(e){return!0===e.isSub})))||void 0===n?void 0:n.map((function(e){return Object(h.jsx)("option",{value:e.id,children:e.name})}))]})]})]}),Object(h.jsx)(L,{_css10:[{display:"flex",flexDirection:"column",overflowX:"hidden",height:"90%",width:"100%",padding:"0.5rem",gap:"0.5rem"},j.b],children:null===W||void 0===W||null===(i=W.filter((function(e){return 1!==e.agency_id})))||void 0===i||null===(c=i.filter((function(e){return"all"===pe||e.agency_id===+pe})))||void 0===c||null===(l=c.filter((function(e){return"all"===ce||e.role===ce})))||void 0===l?void 0:l.map((function(e){return Object(h.jsx)(ie,{operador:e})}))})]}):null]})})})}}}]);