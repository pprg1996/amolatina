(this.webpackJsonpivan=this.webpackJsonpivan||[]).push([[15],{108:function(e,t,s){"use strict";var i=s(9),a=s(99),r=s(0),n=s(1),o=Object(r.lazy)((function(){return Promise.all([s.e(0),s.e(11)]).then(s.bind(null,159))}));t.a=function(e){var t=e.id,s=e.nombre,d=e.foto,u=e.puntos1,l=e.puntos2,c=e.summary1,p=e.summary2,m=e.supervisorId,b=e.usarMultasOAvisos,f=e.noModal,j=e.tipoEntidad,v=e.amolatinaId,O=e.metaDia,g=e.metaMes,h=e.latestFeedTimestamp,x=e.fineCount,y=e.fineAlertCount,M=e.online,D=e.mingle,I=e.introductory,C=e.operador,S=e.operadorDePausa,k=e.operadoresAsignadosIds,A=e.missingMingleTimestamp,T=e.offlineTimestamp,w=e.unrepliedLettersTimestamps,F=e.token,P=e.perfiles,E=e.perfilesPausados,L=e.pausado,z=Object(r.useState)(!1),J=Object(i.a)(z,2),N=J[0],U=J[1];return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("button",{onClick:function(){return U(!0)},children:Object(n.jsx)(a.a,{id:t,nombre:s,foto:d,puntos1:u,puntos2:l,summary1:c,summary2:p,tipoEntidad:j,meta1:O,meta2:g,latestFeedTimestamp:h,usarMultasOAvisos:b,fineCount1:null===x||void 0===x?void 0:x.dia,fineAlertCount1:null===y||void 0===y?void 0:y.dia,fineCount2:null===x||void 0===x?void 0:x.mes,fineAlertCount2:null===y||void 0===y?void 0:y.mes,online:M,mingle:D,introductory:I,operador:C,operadorDePausa:S,operadoresAsignadosIds:k,missingMingleTimestamp:A,offlineTimestamp:T,unrepliedLettersTimestamps:w,token:F,perfiles:P,perfilesPausados:E,pausado:L})}),N&&!f?Object(n.jsx)(r.Suspense,{fallback:Object(n.jsx)("div",{children:"Loading..."}),children:Object(n.jsx)(o,{id:t,nombre:s,foto:d,setShowModal:U,supervisorId:m,tipoEntidad:j,amolatinaId:v})}):null]})}},406:function(e,t,s){"use strict";s.r(t);var i=s(4),a=s(9),r=s(2),n=s.n(r),o=s(8),d=s(5),u=s(78),l=s(7),c=s(10),p=s(108),m=s(0),b=s(131),f=s(222),j=s(1),v=Object(m.lazy)((function(){return s.e(19).then(s.bind(null,382))})),O=d.d.div.withConfig({displayName:"Operadores__OperadoresDiv",componentId:"sc-1pye1q6-0"})(["margin-top:12px;padding:20px 48px 20px 16px;display:grid;gap:32px;grid-template-columns:repeat(4,minmax(0,1fr));overflow-x:hidden;align-items:start;",""],u.b),g=function(){var e=Object(o.a)(n.a.mark((function e(t,s){var i;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([Object(l.customFetch)("/feeds/all-operators-summary?tiempo=dia"),Object(l.customFetch)("/feeds/all-operators-summary?tiempo=mes")]);case 2:return i=e.sent,e.abrupt("return",Object(l.renombrarPropiedadesAnidadas)({summaryDia:i[0],summaryMes:i[1]}));case 4:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}();t.default=function(e){var t=e.supervisoresSeleccionadosIds,s=e.orden,r=e.multasOAvisos,n=Object(c.d)("operadores",l.fetchOperadores).data,o=Object(c.d)(["feedsSummary"],g).data,d=Object(m.useContext)(b.a),u=Object(m.useState)(!1),h=Object(a.a)(u,2),x=h[0],y=h[1],M=Object(m.useState)(0),D=Object(a.a)(M,2),I=D[0],C=D[1],S=Object(c.d)(["supervisores"],l.fetchSupervisores).data;return Object(j.jsxs)(O,{children:[null===n||void 0===n?void 0:n.sort((function(e,t){return"dia"===s?t.progresoDia-e.progresoDia:t.progresoMes-e.progresoMes})).map((function(e){if("todos"!==t){var s=null===t||void 0===t?void 0:t.map((function(e){return Number(e)}));if(!s.includes(e.supervisorId)&&!s.includes(e.id)&&!(null!==S&&void 0!==S?S:[]).filter((function(e){return s.includes(e.id)})).map((function(e){return e.substitute})).includes(+e.id))return null}for(var a=0,n=0;n<((null===d||void 0===d?void 0:d.length)||-1);n++){var u;if(e.id===+(null!==(u=d[n].extraUserId)&&void 0!==u?u:d[n].userId)&&"feeds"===d[n].tablename){var l=new Date(d[n].timestamp);a=Date.UTC(l.getFullYear(),l.getMonth(),l.getDate(),l.getHours(),l.getMinutes(),l.getSeconds(),l.getMilliseconds());break}}return Object(j.jsxs)(m.Fragment,{children:[Object(j.jsx)(f.b,{id:""+e.id,children:Object(j.jsx)(p.a,Object(i.a)(Object(i.a)({},Object(i.a)(Object(i.a)({},e),{},{summary1:null===o||void 0===o?void 0:o.summaryDia[e.id],summary2:null===o||void 0===o?void 0:o.summaryMes[e.id],puntos1:e.progresoDia,puntos2:e.progresoMes,latestFeedTimestamp:a,usarMultasOAvisos:r})),{},{tipoEntidad:"operador"}))}),Object(j.jsx)(f.a,{id:""+e.id,children:Object(j.jsx)(f.c,{onClick:function(){y(!0),C(e.id)},children:"Ver multas"})})]},e.id)})),x?Object(j.jsx)(m.Suspense,{fallback:Object(j.jsx)("div",{children:"Loading..."}),children:Object(j.jsx)(v,{operadorId:I,setShowMultasModal:y})}):null]})}}}]);