(this.webpackJsonpivan=this.webpackJsonpivan||[]).push([[15],{110:function(e,t,s){"use strict";var i=s(9),a=s(99),r=s(0),n=s(1),o=Object(r.lazy)((function(){return Promise.all([s.e(0),s.e(8)]).then(s.bind(null,160))}));t.a=function(e){var t=e.id,s=e.nombre,d=e.foto,u=e.puntos1,l=e.puntos2,c=e.summary1,p=e.summary2,m=e.supervisorId,b=e.usarMultasOAvisos,j=e.noModal,f=e.tipoEntidad,O=e.amolatinaId,v=e.metaDia,g=e.metaMes,h=e.latestFeedTimestamp,x=e.fineCount,y=e.fineAlertCount,M=e.online,S=e.mingle,C=e.introductory,D=e.operador,I=e.operadorDePausa,k=e.operadoresAsignadosIds,w=e.missingMingleTimestamp,T=e.offlineTimestamp,A=e.unrepliedLettersTimestamps,F=e.token,P=e.perfiles,L=e.perfilesPausados,_=e.pausado,E=Object(r.useState)(!1),z=Object(i.a)(E,2),q=z[0],J=z[1];return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("button",{onClick:function(){return J(!0)},children:Object(n.jsx)(a.a,{id:t,nombre:s,foto:d,puntos1:u,puntos2:l,summary1:c,summary2:p,tipoEntidad:f,meta1:v,meta2:g,latestFeedTimestamp:h,usarMultasOAvisos:b,fineCount1:null===x||void 0===x?void 0:x.dia,fineAlertCount1:null===y||void 0===y?void 0:y.dia,fineCount2:null===x||void 0===x?void 0:x.mes,fineAlertCount2:null===y||void 0===y?void 0:y.mes,online:M,mingle:S,introductory:C,operador:D,operadorDePausa:I,operadoresAsignadosIds:k,missingMingleTimestamp:w,offlineTimestamp:T,unrepliedLettersTimestamps:A,token:F,perfiles:P,perfilesPausados:L,pausado:_})}),q&&!j?Object(n.jsx)(r.Suspense,{fallback:Object(n.jsx)("div",{children:"Loading..."}),children:Object(n.jsx)(o,{id:t,nombre:s,foto:d,setShowModal:J,supervisorId:m,tipoEntidad:f,amolatinaId:O})}):null]})}},411:function(e,t,s){"use strict";s.r(t);var i=s(4),a=s(9),r=s(2),n=s.n(r),o=s(8),d=s(78),u=s(6),l=s(10),c=s(110),p=s(0),m=s(104),b=s(159),j=s(5),f=s(1),O=Object(p.lazy)((function(){return s.e(19).then(s.bind(null,386))})),v=Object(p.lazy)((function(){return s.e(18).then(s.bind(null,387))})),g=j.d.div.withConfig({displayName:"Operadores__OperadoresDiv",componentId:"sc-1pye1q6-0"})(["align-items:start;grid-template-columns:repeat(4,minmax(0,1fr));",""],d.b),h=Object(j.d)(g).withConfig({displayName:"Operadores___StyledOperadoresDiv",componentId:"sc-1pye1q6-1"})({marginTop:"12px",padding:"20px 48px 20px 16px",display:"grid",gap:"32px",overflowX:"hidden"}),x=function(){var e=Object(o.a)(n.a.mark((function e(t,s){var i;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([Object(u.customFetch)("/feeds/all-operators-summary?tiempo=dia"),Object(u.customFetch)("/feeds/all-operators-summary?tiempo=mes")]);case 2:return i=e.sent,e.abrupt("return",Object(u.renombrarPropiedadesAnidadas)({summaryDia:i[0],summaryMes:i[1]}));case 4:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}();t.default=function(e){var t=e.entidadSeleccionadaFeed,s=e.orden,r=e.multasOAvisos,n=Object(l.d)("operadores",u.fetchOperadores).data,o=Object(l.d)(["feedsSummary"],x).data,d=Object(p.useContext)(m.b),j=Object(p.useState)(!1),g=Object(a.a)(j,2),y=g[0],M=g[1],S=Object(p.useState)(!1),C=Object(a.a)(S,2),D=C[0],I=C[1],k=Object(p.useState)(0),w=Object(a.a)(k,2),T=w[0],A=w[1],F=Object(l.d)(["supervisores"],u.fetchSupervisores).data;return Object(f.jsxs)(h,{children:[null===n||void 0===n?void 0:n.sort((function(e,t){return"dia"===s?t.progresoDia-e.progresoDia:t.progresoMes-e.progresoMes})).map((function(e){if("supervisor"===t.entity){var s=t.ids;if(!s.includes(e.supervisorId)&&!s.includes(e.id)&&!(null!==F&&void 0!==F?F:[]).filter((function(e){return s.includes(e.id)})).map((function(e){return e.substitute})).includes(+e.id))return null}for(var a=0,n=0;n<((null===d||void 0===d?void 0:d.length)||-1);n++){var u;if(e.id===+(null!==(u=d[n].extraUserId)&&void 0!==u?u:d[n].userId)&&"feeds"===d[n].tablename){var l=new Date(d[n].timestamp);a=Date.UTC(l.getFullYear(),l.getMonth(),l.getDate(),l.getHours(),l.getMinutes(),l.getSeconds(),l.getMilliseconds());break}}return Object(f.jsxs)(p.Fragment,{children:[Object(f.jsx)(b.b,{id:""+e.id,children:Object(f.jsx)(c.a,Object(i.a)(Object(i.a)({},Object(i.a)(Object(i.a)({},e),{},{summary1:null===o||void 0===o?void 0:o.summaryDia[e.id],summary2:null===o||void 0===o?void 0:o.summaryMes[e.id],puntos1:e.progresoDia,puntos2:e.progresoMes,latestFeedTimestamp:a,usarMultasOAvisos:r})),{},{tipoEntidad:"operador"}))}),Object(f.jsxs)(b.a,{id:""+e.id,children:[Object(f.jsx)(b.c,{onClick:function(){M(!0),A(e.id)},children:"Ver multas"}),Object(f.jsx)(b.c,{onClick:function(){I(!0),A(e.id)},children:"Ver progreso de metas"})]})]},e.id)})),y?Object(f.jsx)(p.Suspense,{fallback:Object(f.jsx)("div",{children:"Loading..."}),children:Object(f.jsx)(O,{operadorId:T,setShowMultasModal:M})}):null,D?Object(f.jsx)(p.Suspense,{fallback:Object(f.jsx)("div",{children:"Loading..."}),children:Object(f.jsx)(v,{operadorId:T,setShowMetasOperadorModal:I})}):null]})}}}]);