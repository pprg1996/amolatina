(this.webpackJsonpivan=this.webpackJsonpivan||[]).push([[23],{409:function(e,t,a){"use strict";a.r(t);var n=a(9),i=a(1),r=a.n(i),o=a(8),d=a(117),c=a(86),l=a(0),s=a.n(l),p=a(10),u=a(6),m=a(5),g=a(81),b=a(46),f=a(41),h=a(2),v=m.d.div.withConfig({displayName:"ModalConfigMetas__PicAndDecor",componentId:"vauer3-0"})({position:"relative",display:"flex"}),j=m.d.img.withConfig({displayName:"ModalConfigMetas__Foto",componentId:"vauer3-1"})({width:"4em",height:"4em",borderRadius:"9999px",objectFit:"cover"}),x=m.d.input.withConfig({displayName:"ModalConfigMetas__Input",componentId:"vauer3-2"})({appearance:"none",backgroundColor:"transparent",fontSize:"1.25rem",fontWeight:"500","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))","--tw-border-opacity":"1",borderColor:"rgba(107, 114, 128, var(--tw-border-opacity))",flex:"1 1 auto",borderWidth:"2px",padding:"0.5rem",textAlign:"center",borderRadius:"1rem"}),y=Object(m.d)(x).withConfig({displayName:"ModalConfigMetas___StyledInput7",componentId:"vauer3-3"})({textAlign:"center"}),w=Object(m.d)(x).withConfig({displayName:"ModalConfigMetas___StyledInput6",componentId:"vauer3-4"})({textAlign:"center"}),O=Object(m.d)(x).withConfig({displayName:"ModalConfigMetas___StyledInput5",componentId:"vauer3-5"})({textAlign:"center",width:"100%"}),_=Object(m.d)(x).withConfig({displayName:"ModalConfigMetas___StyledInput4",componentId:"vauer3-6"})({textAlign:"center",width:"100%"}),C=Object(m.d)(x).withConfig({displayName:"ModalConfigMetas___StyledInput3",componentId:"vauer3-7"})({textAlign:"center",width:"100%"}),M=Object(m.d)(x).withConfig({displayName:"ModalConfigMetas___StyledInput2",componentId:"vauer3-8"})({textAlign:"center"}),I=Object(m.d)(x).withConfig({displayName:"ModalConfigMetas___StyledInput",componentId:"vauer3-9"})({textAlign:"center"}),S=m.d.span.withConfig({displayName:"ModalConfigMetas__Id",componentId:"vauer3-10"})(["@media (min-width:2560px){font-size:0.75rem !important;}@media (min-height:1000px) and (min-width:651px) and (max-width:767px){font-size:0.975rem !important;}@media (min-height:1000px) and (min-width:451px) and (max-width:650px){font-size:0.75rem !important;}@media (min-width:651px) and (max-width:767px) and (max-height:999px){font-size:0.8rem !important;}@media (min-width:401px) and (max-width:650px) and (max-height:999px){font-size:0.7rem !important;}@media (max-width:400px) and (max-height:999px){font-size:0.4rem !important;}",""],{fontSize:"0.28rem","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",width:"8em",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",textAlign:"center","@media (min-width: 1024px)":{fontSize:"0.3rem"},"@media (min-width: 1280px)":{fontSize:"0.4rem"},"@media (min-width: 1536px)":{fontSize:"0.5rem"}}),N=function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.customFetch)("/goals/config-goals");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.customFetch)("/goals/list-percent-goals");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=Object(m.d)("div").withConfig({displayName:"ModalConfigMetas___StyledDiv",componentId:"vauer3-11"})({display:"flex",justifyContent:"center",gap:"1rem",width:"100%"}),T=Object(m.d)("div").withConfig({displayName:"ModalConfigMetas___StyledDiv2",componentId:"vauer3-12"})({display:"flex",flexDirection:"column",gap:"1rem",borderWidth:"2px","--tw-border-opacity":"1",borderColor:"rgba(156, 163, 175, var(--tw-border-opacity))",padding:"1.25rem",borderRadius:"1rem"}),R=Object(m.d)("div").withConfig({displayName:"ModalConfigMetas___StyledDiv3",componentId:"vauer3-13"})({display:"flex",flexDirection:"column"}),A=Object(m.d)("div").withConfig({displayName:"ModalConfigMetas___StyledDiv4",componentId:"vauer3-14"})({textAlign:"center"}),z=Object(m.d)("div").withConfig({displayName:"ModalConfigMetas___StyledDiv5",componentId:"vauer3-15"})({display:"flex",flexDirection:"column"}),F=Object(m.d)("div").withConfig({displayName:"ModalConfigMetas___StyledDiv6",componentId:"vauer3-16"})({textAlign:"center"}),B=Object(m.d)("div").withConfig({displayName:"ModalConfigMetas___StyledDiv7",componentId:"vauer3-17"})({display:"flex",flexDirection:"column"}),P=Object(m.d)("div").withConfig({displayName:"ModalConfigMetas___StyledDiv8",componentId:"vauer3-18"})({textAlign:"center"}),W=Object(m.d)("div").withConfig({displayName:"ModalConfigMetas___StyledDiv9",componentId:"vauer3-19"})({display:"flex",flexDirection:"column"}),Q=Object(m.d)("div").withConfig({displayName:"ModalConfigMetas___StyledDiv10",componentId:"vauer3-20"})({textAlign:"center"}),J=Object(m.d)("div").withConfig({displayName:"ModalConfigMetas___StyledDiv11",componentId:"vauer3-21"})({display:"flex",flexDirection:"column"}),L=Object(m.d)("div").withConfig({displayName:"ModalConfigMetas___StyledDiv12",componentId:"vauer3-22"})({textAlign:"center"}),G=Object(m.d)(b.a).withConfig({displayName:"ModalConfigMetas___StyledButton",componentId:"vauer3-23"})({width:"100%"}),q=Object(m.d)("div").withConfig({displayName:"ModalConfigMetas___StyledDiv13",componentId:"vauer3-24"})({display:"flex",flexDirection:"column",gap:"1rem",borderWidth:"2px","--tw-border-opacity":"1",borderColor:"rgba(156, 163, 175, var(--tw-border-opacity))",padding:"1.25rem",borderRadius:"1rem"}),V=Object(m.d)("div").withConfig({displayName:"ModalConfigMetas___StyledDiv14",componentId:"vauer3-25"})({display:"flex",justifyContent:"center",alignItems:"center",gap:"0.5rem"}),X=Object(m.d)("label").withConfig({displayName:"ModalConfigMetas___StyledLabel",componentId:"vauer3-26"})({display:"flex",flexDirection:"column",textAlign:"center"}),Y=Object(m.d)(b.a).withConfig({displayName:"ModalConfigMetas___StyledButton2",componentId:"vauer3-27"})({marginTop:"1rem"}),H=Object(m.d)("div").withConfig({displayName:"ModalConfigMetas___StyledDiv15",componentId:"vauer3-28"})({position:"relative",display:"flex",justifyContent:"center",alignItems:"center",gap:"0.5rem"}),E=Object(m.d)("label").withConfig({displayName:"ModalConfigMetas___StyledLabel2",componentId:"vauer3-29"})({display:"flex",flexDirection:"column",textAlign:"center"}),K=Object(m.d)("span").withConfig({displayName:"ModalConfigMetas___StyledSpan",componentId:"vauer3-30"})(["",""],(function(e){return e._css})),U=function(e){var t=e.metasConfig,a=e.setIsLoading,i=Object(p.d)(["listpercent"],k).data,d=s.a.useState(t.percentday),c=Object(n.a)(d,2),l=c[0],m=c[1],g=s.a.useState(t.percentevening),f=Object(n.a)(g,2),v=f[0],j=f[1],x=s.a.useState(t.percentnight),S=Object(n.a)(x,2),N=S[0],U=S[1],Z=s.a.useState(t.lastmonthsgoals),$=Object(n.a)(Z,2),ee=$[0],te=$[1],ae=s.a.useState(t.percentnight+t.percentevening+t.percentday),ne=Object(n.a)(ae,2),ie=ne[0],re=ne[1],oe=s.a.useRef(),de=function(e,t){var a=0,n=0,i=0;if("day"===t&&(a=e,i=v,n=N),"evening"===t&&(a=l,i=e,n=N),"night"===t&&(a=l,i=v,n=e),a+n+i<=100){if(re(a+n+i),"night"===t)return U(e);if("evening"===t)return j(e);if("day"===t)return m(e)}return a>0&&a+n+i>100&&("evening"===t||"night"===t)?(a-(a+n+i-100)>0?m(a-(a+n+i-100)):(m(0),"evening"===t&&(n-(0+n+i-100)<0?(U(0),j(100)):U(n-(0+n+i-100))),"night"===t&&(i-(0+n+i-100)<0?(j(0),U(100)):j(i-(0+n+i-100)))),"night"===t&&U(e>100?100:e),"evening"===t&&j(e>100?100:e),"day"===t&&m(e>100?100:e),re(100)):i>0&&a+n+i>100&&("day"===t||"night"===t)?(i-(a+n+i-100)>0?j(i-(a+n+i-100)):(j(0),"day"===t&&(n-(a+n+0-100)<0?(U(0),m(100)):U(n-(a+n+0-100))),"night"===t&&(a-(a+n+0-100)<0?(m(0),U(100)):m(a-(a+n+0-100)))),"night"===t&&U(e>100?100:e),"evening"===t&&j(e>100?100:e),"day"===t&&m(e>100?100:e),re(100)):n>0&&a+n+i>100&&("day"===t||"evening"===t)?(i-(a+n+i-100)>0?U(n-(a+n+i-100)):(U(0),"day"===t&&(a-(a+0+i-100)<0?(j(0),m(100)):j(a-(a+0+i-100))),"evening"===t&&(i-(a+0+i-100)<0?(m(0),j(100)):m(i-(a+0+i-100)))),"night"===t&&U(e>100?100:e),"evening"===t&&j(e>100?100:e),"day"===t&&m(e>100?100:e),re(100)):void 0};return Object(h.jsxs)(D,{children:[Object(h.jsxs)(T,{children:[Object(h.jsxs)(R,{children:[Object(h.jsx)(A,{children:"Cantidad de meses"}),Object(h.jsx)(I,{type:"number",value:ee,onChange:function(e){return te(e.target.value)}})]}),Object(h.jsxs)(z,{children:[Object(h.jsx)(F,{children:"Porcentaje Total"}),Object(h.jsx)("div",{children:Object(h.jsx)(M,{type:"text",value:Object(u.number_format)(ie,2,",",".")+"%",disabled:!0})})]}),Object(h.jsxs)(B,{children:[Object(h.jsx)(P,{children:"Dia"}),Object(h.jsx)("div",{children:Object(h.jsx)(C,{type:"number",value:l,onChange:function(e){return de(Number(e.target.value),"day")},onClick:function(e){return e.target.select()},min:0,max:100})})]}),Object(h.jsxs)(W,{children:[Object(h.jsx)(Q,{children:"Tarde"}),Object(h.jsx)("div",{children:Object(h.jsx)(_,{type:"number",value:v,onChange:function(e){return de(Number(e.target.value),"evening")},onClick:function(e){return e.target.select()},min:0,max:100})})]}),Object(h.jsxs)(J,{children:[Object(h.jsx)(L,{children:"Noche"}),Object(h.jsx)("div",{children:Object(h.jsx)(O,{type:"number",value:N,onChange:function(e){return de(Number(e.target.value),"night")},onClick:function(e){return e.target.select()},min:0,max:100})})]}),Object(h.jsx)(G,{primario:!0,onClick:Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("zaq"!==prompt("Ingrese clave")){e.next=6;break}return a(!0),e.next=4,Object(u.customFetch)("/goals/put-config-goals",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({percentday:l,percentevening:v,percentnight:N,lastmonthsgoals:ee})});case 4:p.b.invalidateQueries(["metasConfig"]),a(!1);case 6:case"end":return e.stop()}}),e)}))),children:"Guardar"})]}),Object(h.jsxs)(q,{children:[Object(h.jsxs)(V,{children:[Object(h.jsxs)(X,{children:["Porcentaje por nivel",Object(h.jsx)(w,{type:"text",ref:oe,defaultValue:0,onChange:function(e){return e.target.value<0?oe.current.value=0:e.target.value>100?oe.current.value=100:oe.current.value=e.target.value}})]}),Object(h.jsx)(Y,{primario:!0,onClick:Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(oe.current.value>0)){e.next=7;break}if("zaq"!==prompt("Ingrese clave")){e.next=7;break}return a(!0),e.next=5,Object(u.customFetch)("/goals/add-percentlevel",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({percentlevel:oe.current.value})});case 5:p.b.invalidateQueries(["listpercent"]),a(!1);case 7:case"end":return e.stop()}}),e)}))),children:"Agregar"})]}),(null===i||void 0===i?void 0:i.length)>0?null===i||void 0===i?void 0:i.map((function(e){return Object(h.jsxs)(H,{children:[Object(h.jsxs)(E,{children:[Object(h.jsx)(K,{_css:[{"--tw-translate-x":"-50%","--tw-translate-y":"-50%","--tw-rotate":"0","--tw-skew-x":"0","--tw-skew-y":"0","--tw-scale-x":"1","--tw-scale-y":"1",transform:"translateX(var(--tw-translate-x)) translateY(var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))",width:"2rem",height:"2rem",position:"absolute",left:"0.5rem",top:"0.5rem","--tw-bg-opacity":"1",backgroundColor:"rgba(37, 99, 235, var(--tw-bg-opacity))",borderRadius:"9999px",padding:"0.25rem",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center"},"@media (min-width: 2560px) { line-height: 1.75rem !important; font-size: 1.25rem !important; padding: 1rem !important; height: 2.5rem !important; width: 2.5rem !important; }","@media (min-height: 1000px) and (max-width: 767px) { line-height: 1.75rem !important; font-size: 1.25rem !important; padding: 1rem !important; height: 2.5rem !important; width: 2.5rem !important; }"],children:e.key}),Object(h.jsx)(y,{type:"text",value:Object(u.number_format)(e.value,2,",",".")+"%",disabled:!0})]}),Object(h.jsx)(b.a,{cancel:!0,onClick:Object(o.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("zaq"!==prompt("Ingrese clave")){t.next=6;break}return a(!0),t.next=4,Object(u.customFetch)("/goals/delete-percentlevel",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({percentlevelnum:e.key})});case 4:p.b.invalidateQueries(["listpercent"]),a(!1);case 6:case"end":return t.stop()}}),t)}))),children:"Borrar"})]},e.key)})):null]})]})},Z=Object(m.d)("div").withConfig({displayName:"ModalConfigMetas___StyledDiv16",componentId:"vauer3-31"})(["",""],(function(e){return e._css2})),$=Object(m.d)("div").withConfig({displayName:"ModalConfigMetas___StyledDiv17",componentId:"vauer3-32"})({display:"flex",justifyContent:"center",marginBottom:"0.25rem",height:"auto"}),ee=Object(m.d)(d.a).withConfig({displayName:"ModalConfigMetas___StyledToggleGroup",componentId:"vauer3-33"})({alignSelf:"center"}),te=Object(m.d)(d.b).withConfig({displayName:"ModalConfigMetas___StyledToggleGroupItem",componentId:"vauer3-34"})(["",""],(function(e){return e._css3})),ae=Object(m.d)(d.b).withConfig({displayName:"ModalConfigMetas___StyledToggleGroupItem2",componentId:"vauer3-35"})(["",""],(function(e){return e._css4})),ne=Object(m.d)("div").withConfig({displayName:"ModalConfigMetas___StyledDiv18",componentId:"vauer3-36"})(["",""],(function(e){return e._css5})),ie=Object(m.d)("div").withConfig({displayName:"ModalConfigMetas___StyledDiv19",componentId:"vauer3-37"})({width:"100%",display:"flex",justifyContent:"space-between"}),re=Object(m.d)("button").withConfig({displayName:"ModalConfigMetas___StyledButton3",componentId:"vauer3-38"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))",borderRadius:"1rem",fontWeight:"700",padding:"0.5rem",margin:"0.25rem"}),oe=Object(m.d)("div").withConfig({displayName:"ModalConfigMetas___StyledDiv20",componentId:"vauer3-39"})({display:"flex",flexDirection:"column",gap:"0.5rem"}),de=Object(m.d)("button").withConfig({displayName:"ModalConfigMetas___StyledButton4",componentId:"vauer3-40"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))",borderRadius:"1rem",fontWeight:"700",padding:"0.5rem",margin:"0.25rem"}),ce=Object(m.d)("input").withConfig({displayName:"ModalConfigMetas___StyledInput8",componentId:"vauer3-41"})(["",""],(function(e){return e._css6})),le=Object(m.d)("input").withConfig({displayName:"ModalConfigMetas___StyledInput9",componentId:"vauer3-42"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",padding:"0.25rem",borderRadius:"0.25rem"}),se=Object(m.d)("div").withConfig({displayName:"ModalConfigMetas___StyledDiv21",componentId:"vauer3-43"})({display:"flex",justifyContent:"space-between",padding:"0.5rem",borderWidth:"2px","--tw-border-opacity":"1",borderColor:"rgba(107, 114, 128, var(--tw-border-opacity))",borderRadius:"20px",alignItems:"center"}),pe=Object(m.d)("div").withConfig({displayName:"ModalConfigMetas___StyledDiv22",componentId:"vauer3-44"})({display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem","@media (min-width: 1024px)":{gap:"0.75rem"}}),ue=Object(m.d)("div").withConfig({displayName:"ModalConfigMetas___StyledDiv23",componentId:"vauer3-45"})({display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem","@media (min-width: 1024px)":{gap:"0.75rem"}}),me=Object(m.d)("select").withConfig({displayName:"ModalConfigMetas___StyledSelect",componentId:"vauer3-46"})(["",""],(function(e){return e._css7})),ge=Object(m.d)("button").withConfig({displayName:"ModalConfigMetas___StyledButton5",componentId:"vauer3-47"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))",borderRadius:"1rem",fontWeight:"700",padding:"0.5rem",margin:"0.25rem"}),be=Object(m.d)("button").withConfig({displayName:"ModalConfigMetas___StyledButton6",componentId:"vauer3-48"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))",borderRadius:"1rem",fontWeight:"700",padding:"0.5rem",margin:"0.25rem"}),fe=Object(m.d)("input").withConfig({displayName:"ModalConfigMetas___StyledInput10",componentId:"vauer3-49"})(["",""],(function(e){return e._css8}));t.default=function(e){var t,a=e.setShowConfigMetas,i=Object(p.d)(["metasConfig"],N),d=i.data,l=i.status,m=Object(p.d)(["perfiles"],u.fetchPerfiles),b=m.data,x=m.status,y=Object(p.d)(["metas"],u.fetchMetas),w=y.data,O=y.status,_=s.a.useState(!1),C=Object(n.a)(_,2),M=C[0],I=C[1],k=s.a.useState("main"),D=Object(n.a)(k,2),T=D[0],R=D[1],A=s.a.useState(""),z=Object(n.a)(A,2),F=z[0],B=z[1],P=s.a.useState((new Date).toISOString().slice(0,-14)),W=Object(n.a)(P,2),Q=W[0],J=W[1],L=null===w||void 0===w?void 0:w.filter((function(e){return"profile"===e.entity&&"Meta mensual automatica"===e.description}));return Object(h.jsx)(c.a,{setShowModal:a,children:Object(h.jsxs)(Z,{_css2:[{"--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",width:"95vw",height:"95vh",display:"flex",flexDirection:"column",gap:"1rem","@media (min-width: 768px)":{padding:"0.5rem"},"@media (min-width: 1024px)":{padding:"1rem"}},"@media (min-width: 2560px) { padding: 1rem !important; grid-gap: 0.75rem !important; width:1000px; }"],children:[M||"loading"===l||"loading"===x||"loading"===O?Object(h.jsx)(f.a,{}):null,Object(h.jsx)($,{children:Object(h.jsxs)(ee,{type:"single",value:T,onValueChange:function(e){e&&R(e)},children:[Object(h.jsx)(te,{value:"main",_css3:[{paddingLeft:"1rem",paddingRight:"0.75rem",paddingTop:"0.5rem",paddingBottom:"0.5rem","--tw-bg-opacity":"1",backgroundColor:"rgba(31, 31, 38, var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",fontWeight:"700",borderTopLeftRadius:"1rem",borderBottomLeftRadius:"1rem",borderWidth:"1px",borderColor:"#4c4c3f",borderStyle:"solid"},"main"===T?{"--tw-bg-opacity":"1",backgroundColor:"rgba(76, 76, 63, var(--tw-bg-opacity))"}:null],children:"Perfiles"}),Object(h.jsx)(ae,{value:"formula",_css4:[{paddingLeft:"0.75rem",paddingRight:"1rem",paddingTop:"0.5rem",paddingBottom:"0.5rem","--tw-bg-opacity":"1",backgroundColor:"rgba(31, 31, 38, var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",fontWeight:"700",borderTopRightRadius:"1rem",borderBottomRightRadius:"1rem",borderWidth:"1px",borderColor:"#4c4c3f",borderStyle:"solid"},"formula"===T?{"--tw-bg-opacity":"1",backgroundColor:"rgba(76, 76, 63, var(--tw-bg-opacity))"}:null],children:"Formula"})]})}),"main"===T?Object(h.jsxs)(ne,{_css5:[{display:"flex",flexDirection:"column",overflowX:"hidden",maxHeight:"90%",padding:"1rem",gap:"0.5rem"},g.b],children:[Object(h.jsxs)(ie,{children:[Object(h.jsxs)("div",{children:[(null===L||void 0===L?void 0:L.length)>0?Object(h.jsx)(re,{onClick:Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("zaq"!==prompt("Ingrese clave")){e.next=7;break}return I(!0),e.next=4,Object(u.customFetch)("/goals/disabled-goal-auto",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({profileId:"all"})});case 4:p.b.invalidateQueries(["metas"]),p.b.invalidateQueries(["perfiles"]),I(!1);case 7:case"end":return e.stop()}}),e)}))),children:"Desactivar todas las metas automaticas"}):null,0===(null===L||void 0===L?void 0:L.length)?Object(h.jsxs)(oe,{children:[Object(h.jsx)("div",{children:Object(h.jsx)(de,{onClick:Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("zaq"!==prompt("Ingrese clave")){e.next=7;break}return I(!0),e.next=4,Object(u.customFetch)("/goals/create-goal-auto",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({profileId:"all",date:Q,name:"all"})});case 4:p.b.invalidateQueries(["metas"]),p.b.invalidateQueries(["perfiles"]),I(!1);case 7:case"end":return e.stop()}}),e)}))),children:"Generar todas las metas automaticas"})}),Object(h.jsx)("div",{children:Object(h.jsx)(ce,{type:"date",defaultValue:Q,onChange:function(e){return J(e.target.value)},_css6:[{"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",borderRadius:"1rem",width:"100%","@media (min-width: 768px)":{padding:"0.25rem"}},"@media (min-width: 2560px) { padding: 0.5rem !important; }"]})})]}):null]}),Object(h.jsx)("div",{children:Object(h.jsx)(le,{placeholder:"Buscar",value:F,onChange:function(e){return B(e.target.value)}})})]}),null===b||void 0===b||null===(t=b.filter((function(e){return e.activo})))||void 0===t?void 0:t.filter((function(e){return e.nombre.toLowerCase().includes(F.toLowerCase())})).map((function(e){var t=null===w||void 0===w?void 0:w.find((function(t){return t.entityId===e.id&&"profile"===t.entity&&"Meta mensual automatica"===t.description}));return Object(h.jsxs)(se,{children:[Object(h.jsxs)(pe,{children:[Object(h.jsx)(v,{children:Object(h.jsx)(j,{src:null===e||void 0===e?void 0:e.foto})}),Object(h.jsx)(S,{title:null===e||void 0===e?void 0:e.nombre,children:null===e||void 0===e?void 0:e.nombre})]}),Object(h.jsxs)(ue,{children:[Object(h.jsx)("div",{children:"Metas Automaticas"}),Object(h.jsx)("div",{children:Object(h.jsxs)(me,{onChange:function(){var t=Object(o.a)(r.a.mark((function t(a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("zaq"!==prompt("Ingrese clave")){t.next=6;break}return I(!0),t.next=4,Object(u.customFetch)("/goals/set-auto-goal",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({profileId:e.id,autoGoal:a.target.value})});case 4:p.b.invalidateQueries(["perfiles"]),I(!1);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),_css7:[{"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",borderRadius:"1rem",width:"100%","@media (min-width: 768px)":{padding:"0.25rem"}},"@media (min-width: 2560px) { padding: 0.5rem !important; }"],children:[Object(h.jsx)("option",{value:!1,selected:!1===(null===e||void 0===e?void 0:e.autoGoal)?"selected":null,children:"Desactivada"}),Object(h.jsx)("option",{value:!0,selected:!0===(null===e||void 0===e?void 0:e.autoGoal)?"selected":null,children:"Activada"})]})})]}),Object(h.jsx)("div",{children:t?Object(h.jsx)(ge,{onClick:Object(o.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("zaq"!==prompt("Ingrese clave")){t.next=7;break}return I(!0),t.next=4,Object(u.customFetch)("/goals/disabled-goal-auto",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({profileId:e.id})});case 4:p.b.invalidateQueries(["metas"]),p.b.invalidateQueries(["perfiles"]),I(!1);case 7:case"end":return t.stop()}}),t)}))),children:"Desactivar Meta Actual"}):null}),Object(h.jsx)("div",{children:t?null:Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(be,{onClick:Object(o.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("zaq"!==prompt("Ingrese clave")){t.next=7;break}return I(!0),t.next=4,Object(u.customFetch)("/goals/create-goal-auto",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({profileId:e.id,date:Q,name:e.nombre})});case 4:p.b.invalidateQueries(["metas"]),p.b.invalidateQueries(["perfiles"]),I(!1);case 7:case"end":return t.stop()}}),t)}))),children:"Generar Meta"}),Object(h.jsx)("div",{children:Object(h.jsx)(fe,{type:"date",defaultValue:Q,onChange:function(e){return J(e.target.value)},_css8:[{"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",borderRadius:"1rem",width:"100%","@media (min-width: 768px)":{padding:"0.25rem"}},"@media (min-width: 2560px) { padding: 0.5rem !important; }"]})})]})})]},e.amolatina_id)}))]}):null,"formula"===T?Object(h.jsx)(U,{metasConfig:d,setIsLoading:I}):null]})})}}}]);