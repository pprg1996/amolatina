(this.webpackJsonpivan=this.webpackJsonpivan||[]).push([[27],{660:function(t,e,i){"use strict";i.r(e);var n,a=i(12),d=i(6),o=i(1),r=i.n(o),l=i(8),s=i(5),c=i(91),m=i(0),p=i.n(m),u=i(144),h=i(41),v=i(85),w=i(7),x=i(92),g=i(10),f=i.n(g),b=i(232),j=i(11),y=i(166),_=i(2),O=Object(s.d)(u.a).withConfig({displayName:"ModalListClients__CoronaSvg",componentId:"sc-1sozmlr-0"})(["",""],v.a),C=s.d.span.withConfig({displayName:"ModalListClients__Id",componentId:"sc-1sozmlr-1"})(["@media (min-width:2560px){font-size:0.75rem !important;}@media (min-height:1000px) and (min-width:651px) and (max-width:767px){font-size:0.975rem !important;}@media (min-height:1000px) and (min-width:451px) and (max-width:650px){font-size:0.75rem !important;}@media (min-width:651px) and (max-width:767px) and (max-height:999px){font-size:0.8rem !important;}@media (min-width:401px) and (max-width:650px) and (max-height:999px){font-size:0.7rem !important;}@media (max-width:400px) and (max-height:999px){font-size:0.4rem !important;}",""],{fontSize:"0.35rem","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",width:"8em",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",textAlign:"center","@media (min-width: 1024px)":{fontSize:"0.4rem"},"@media (min-width: 1280px)":{fontSize:"0.5rem"},"@media (min-width: 1536px)":{fontSize:"0.6rem"}}),z=Object(s.d)(C).withConfig({displayName:"ModalListClients___StyledId",componentId:"sc-1sozmlr-2"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(5, 150, 105, var(--tw-bg-opacity))",borderRadius:"1rem",width:"6em"}),S=function(){var t=Object(l.a)(r.a.mark((function t(e,i,n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(w.customFetch)("/profiles/list-clients-day?profileId=".concat(i,"&date=").concat(n));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,i,n){return t.apply(this,arguments)}}(),D=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv",componentId:"sc-1sozmlr-3"})({"--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",width:"40vw",height:"85vh",padding:"1.25rem"}),I=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv2",componentId:"sc-1sozmlr-4"})({height:"100%"}),L=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv3",componentId:"sc-1sozmlr-5"})({display:"flex",alignItems:"center",justifyContent:"space-between",gap:"0.5rem",marginTop:"0.5rem",marginBottom:"0.5rem"}),M=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv4",componentId:"sc-1sozmlr-6"})({"--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",fontWeight:"700",fontSize:"0.5rem","@media (min-width: 1024px)":{fontSize:"0.95rem"}}),N=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv5",componentId:"sc-1sozmlr-7"})({display:"flex",justifyContent:"center",alignItems:"center",gap:"0.5rem"}),W=Object(s.d)(y.a).withConfig({displayName:"ModalListClients___StyledLeftSvg",componentId:"sc-1sozmlr-8"})({width:"1rem",height:"1rem"}),k=Object(s.d)("input").withConfig({displayName:"ModalListClients___StyledInput",componentId:"sc-1sozmlr-9"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",padding:"0.25rem",borderRadius:"0.25rem"}),T=Object(s.d)(y.a).withConfig({displayName:"ModalListClients___StyledLeftSvg2",componentId:"sc-1sozmlr-10"})({width:"1rem",height:"1rem"}),R=Object(s.d)("input").withConfig({displayName:"ModalListClients___StyledInput2",componentId:"sc-1sozmlr-11"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",padding:"0.25rem",borderRadius:"0.25rem"}),E=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv6",componentId:"sc-1sozmlr-12"})(["",""],(function(t){return t._css2})),F=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv7",componentId:"sc-1sozmlr-13"})(["",""],(function(t){return t._css3})),U=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv8",componentId:"sc-1sozmlr-14"})({display:"flex",justifyContent:"space-between",paddingTop:"0.5rem",alignItems:"center"}),P=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv9",componentId:"sc-1sozmlr-15"})({display:"flex",gap:"1rem"}),B=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv10",componentId:"sc-1sozmlr-16"})(["",""],(function(t){return t._css4})),H=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv11",componentId:"sc-1sozmlr-17"})({position:"relative",display:"flex"}),J=Object(s.d)("img").withConfig({displayName:"ModalListClients___StyledImg",componentId:"sc-1sozmlr-18"})({width:"4em",height:"4em",borderRadius:"9999px",objectFit:"cover"}),Y=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv12",componentId:"sc-1sozmlr-19"})(["",""],(function(t){return t._css5})),A=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv13",componentId:"sc-1sozmlr-20"})({display:"flex",alignItems:"center"}),Q=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv14",componentId:"sc-1sozmlr-21"})(["",""],(function(t){return t._css6})),X=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv15",componentId:"sc-1sozmlr-22"})(["",""],(function(t){return t._css7})),q=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv16",componentId:"sc-1sozmlr-23"})({display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem","@media (min-width: 1024px)":{gap:"0.75rem"}}),G=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv17",componentId:"sc-1sozmlr-24"})({position:"relative",display:"flex"}),K=Object(s.d)("img").withConfig({displayName:"ModalListClients___StyledImg2",componentId:"sc-1sozmlr-25"})({width:"4em",height:"4em",borderRadius:"9999px",objectFit:"cover"}),V=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv18",componentId:"sc-1sozmlr-26"})({"--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",fontWeight:"700",fontSize:"0.5rem","@media (min-width: 1024px)":{fontSize:"0.95rem"}}),Z=Object(s.d)("div").withConfig({displayName:"ModalListClients___StyledDiv19",componentId:"sc-1sozmlr-27"})({"--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",fontWeight:"700",fontSize:"0.5rem","@media (min-width: 1024px)":{fontSize:"0.95rem"}}),$=function(t){var e,i,n,a,o,r,l,s,c,m,u,h,v,g,j,y,S,D,I,L,M=t.client,N=t.typeWidth,W=t.useCopyTextOnClickSaveData,k=+f.a.get("id"),T=p.a.useRef(),R=W(T,null===M||void 0===M||null===(e=M.extradata)||void 0===e?void 0:e.amolatina_id,{profile_id:-1,user_id:k,client_id:null===M||void 0===M?void 0:M.client_id,action:"copy"}),E=null,$=p.a.useState(null),tt=Object(d.a)($,2),et=tt[0],it=tt[1];null===et&&-1!==M.extradata.last_copy.user_id&&(E=new Date(M.extradata.last_copy.timestamp),it(Date.UTC(E.getFullYear(),E.getMonth(),E.getDate(),E.getHours(),E.getMinutes(),E.getSeconds(),E.getMilliseconds())));var nt=p.a.useState([]),at=Object(d.a)(nt,2),dt=at[0],ot=at[1],rt=p.a.useState(0),lt=Object(d.a)(rt,2),st=lt[0],ct=lt[1];p.a.useEffect((function(){var t,e;if("md"===N||"sm"===N||""===N)ot(Object(w.organizadorRadial)(O,4,8,11,null!==(t=null===M||void 0===M||null===(e=M.extradata)||void 0===e?void 0:e.crowns)&&void 0!==t?t:0,11.25));else if("lg"===N){var i,n;ot(Object(w.organizadorRadial)(O,5,13,16,null!==(i=null===M||void 0===M||null===(n=M.extradata)||void 0===n?void 0:n.crowns)&&void 0!==i?i:0,11.25))}else if("xl"===N){var a,d;ot(Object(w.organizadorRadial)(O,10,21,27,null!==(a=null===M||void 0===M||null===(d=M.extradata)||void 0===d?void 0:d.crowns)&&void 0!==a?a:0,11.25))}else if("2xl"===N){var o,r;ot(Object(w.organizadorRadial)(O,10,22,28,null!==(o=null===M||void 0===M||null===(r=M.extradata)||void 0===r?void 0:r.crowns)&&void 0!==o?o:0,11.25))}else{var l,s;ot(Object(w.organizadorRadial)(O,12,32,42,null!==(l=null===M||void 0===M||null===(s=M.extradata)||void 0===s?void 0:s.crowns)&&void 0!==l?l:0,11.25))}}),[null===M||void 0===M||null===(i=M.extradata)||void 0===i?void 0:i.crowns,N]),p.a.useEffect((function(){if(et){var t=setInterval((function(){et&&ct(Date.now()-et)}),333);return function(){return clearInterval(t)}}}),[st,et]);var mt=Object(b.a)(st);return Object(_.jsx)(F,{_css3:[{padding:"0.25rem",borderWidth:"2px","--tw-border-opacity":"1",borderColor:"rgba(107, 114, 128, var(--tw-border-opacity))",borderRadius:"20px",alignItems:"center"},"@media (min-width: 2560px) { padding: 1.25rem !important;  }","@media (min-height: 1000px) and (max-width: 767px) { padding: 1.25rem !important; }","@media (max-height: 999px) and (max-width: 767px) { padding: 1.25rem !important; }"],children:Object(_.jsxs)(U,{children:[Object(_.jsxs)(P,{children:[Object(_.jsxs)(B,{ref:T,_css4:[{display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem"},R],children:[Object(_.jsxs)(H,{children:[dt,Object(_.jsx)(J,{src:null!==(n=null===M||void 0===M||null===(a=M.extradata)||void 0===a?void 0:a.photo)&&void 0!==n?n:x.a,onError:function(t){var e=t.currentTarget;e.onerror=null,e.src=x.a},alt:"..."}),Object(_.jsx)(Y,{_css5:[{position:"absolute",bottom:"-10px",right:"-7px"},"@media (min-width: 2560px) { bottom: -10px !important; right: -10px !important; }"],children:Object(_.jsx)(A,{children:Object(_.jsx)(Q,{_css6:[{display:"flex",justifyContent:"center",gap:"0.125rem","--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))",paddingTop:"0.15rem",paddingBottom:"0.15rem",minWidth:"1rem","@media (min-width: 768px)":{width:"2rem",paddingLeft:"0.25rem",paddingRight:"0.25rem",borderRadius:"0.375rem"},"@media (min-width: 1024px)":{width:"2.9rem",borderRadius:"0.5rem"},"@media (min-width: 1280px)":{borderRadius:"0.75rem"},"@media (min-width: 1536px)":{borderRadius:"1rem"}},"@media (min-width: 2560px) { padding-right: 0.5rem  !important; padding-left: 0.5rem  !important; width: 5rem !important;  }","@media (min-height: 1000px) and (max-width: 767px) { padding-right: 0.5rem  !important; padding-left: 0.5rem  !important; border-radius: 1rem !important; width: 5rem !important; }","@media (max-height: 999px) and (max-width: 767px) { padding-right: 0.5rem  !important; padding-left: 0.5rem  !important; border-radius: 1rem !important; width: 5rem !important; }"],children:Object(_.jsx)(X,{_css7:[{fontSize:"0.2rem","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))","@media (min-width: 1024px)":{fontSize:"0.25rem"},"@media (min-width: 1280px)":{fontSize:"0.35rem"},"@media (min-width: 1536px)":{fontSize:"0.4rem"}},"@media (min-width: 2560px) { font-size: 0.75rem !important; line-height: 1rem !important; }","@media (min-height: 1000px) and (max-width: 767px) { font-size: 0.75rem !important; line-height: 1rem !important; }","@media (max-height: 999px) and (max-width: 767px) { font-size: 0.375rem !important;  }"],children:(isNaN(Math.round(((new Date).getTime()-new Date(null!==(o=null===M||void 0===M||null===(r=M.extradata)||void 0===r?void 0:r.first_point)&&void 0!==o?o:"").getTime())/864e5))?0:null!==(l=Math.round(((new Date).getTime()-new Date(null!==(s=null===M||void 0===M||null===(c=M.extradata)||void 0===c?void 0:c.first_point)&&void 0!==s?s:"").getTime())/864e5))&&void 0!==l?l:0)+" D"})})})})]}),Object(_.jsx)(C,{title:null===M||void 0===M||null===(m=M.extradata)||void 0===m?void 0:m.name,children:null===M||void 0===M||null===(u=M.extradata)||void 0===u?void 0:u.name})]}),-1!==(null===M||void 0===M||null===(h=M.extradata)||void 0===h||null===(v=h.last_copy)||void 0===v?void 0:v.user_id)?Object(_.jsxs)(q,{children:[Object(_.jsx)(G,{children:Object(_.jsx)(K,{src:null!==(g=null===M||void 0===M||null===(j=M.extradata)||void 0===j||null===(y=j.last_copy)||void 0===y?void 0:y.photo)&&void 0!==g?g:x.a,onError:function(t){var e=t.currentTarget;e.onerror=null,e.src=x.a},alt:"..."})}),Object(_.jsx)(z,{title:null===M||void 0===M||null===(S=M.extradata)||void 0===S||null===(D=S.last_copy)||void 0===D?void 0:D.name,children:null===M||void 0===M||null===(I=M.extradata)||void 0===I||null===(L=I.last_copy)||void 0===L?void 0:L.name})]}):null]}),"00"!==mt?Object(_.jsxs)(V,{children:["Copiado hace ",mt]}):null,Object(_.jsxs)(Z,{children:[null===M||void 0===M?void 0:M.cant," Punteadas"]})]})},"".concat(null===M||void 0===M?void 0:M.client_id))};e.default=function(t){var e=t.setShowListClients,i=t.profileId,o=p.a.useState(Object(w.DateConvert)()),m=Object(d.a)(o,2),u=m[0],x=m[1],g=p.a.useState(0),f=Object(d.a)(g,2),b=f[0],y=f[1],O=p.a.useState(""),C=Object(d.a)(O,2),z=C[0],F=C[1],U=function(t,e,i){var d=Object(s.c)(n||(n=Object(a.a)(["\n      cursor: pointer;\n      transition: transform 0.12s linear;\n\n      :hover {\n        transform: translateY(-6px);\n      }\n\n      :active {\n        transform: translateY(3px);\n      }\n    "])));return p.a.useEffect((function(){var n=t.current;if(n){var a=function(){var t=Object(l.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return navigator.clipboard.writeText(e),t.next=3,Object(w.customFetch)("/agency/history",{method:"POST",body:JSON.stringify({profile_id:i.profile_id,user_id:i.user_id,client_id:i.client_id,action:i.action}),headers:{"content-type":"application/json"}});case 3:j.b.invalidateQueries(["clientPointsDay"]),y(b+1);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return n.addEventListener("click",a),function(){return n.removeEventListener("click",a)}}}),[t,e,i]),d},P=Object(j.d)(["clientPointsDay",i,u,b],S),B=P.data,H=P.status,J=p.a.useState(window.innerWidth>=2560?"4k":window.innerWidth>=1536?"2xl":window.innerWidth>=1280?"xl":window.innerWidth>=1024?"lg":window.innerWidth>=768?"md":window.innerWidth<768&&window.innerHeight>=1e3?"4k":"sm"),Y=Object(d.a)(J,2),A=Y[0],Q=Y[1];p.a.useEffect((function(){var t=function(){window.innerWidth>=2560?Q("4k"):window.innerWidth>=1536?Q("2xl"):window.innerWidth>=1280?Q("xl"):window.innerWidth>=1024?Q("lg"):window.innerWidth>=768?Q("md"):window.innerWidth<768&&window.innerHeight>=1e3?Q("4k"):Q("sm")};return window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}}),[]);var X=null===B||void 0===B?void 0:B.filter((function(t){var e,i,n;return null===t||void 0===t||null===(e=t.extradata)||void 0===e||null===(i=e.name)||void 0===i||null===(n=i.toLowerCase())||void 0===n?void 0:n.includes(null===z||void 0===z?void 0:z.toLowerCase())}));return Object(_.jsx)(c.a,{setShowModal:e,children:Object(_.jsx)(D,{children:"loading"===H?Object(_.jsx)(h.a,{}):Object(_.jsxs)(I,{children:[Object(_.jsxs)(L,{children:[Object(_.jsxs)(M,{children:[X.length," Clientes"]}),Object(_.jsxs)(N,{children:[Object(_.jsx)("button",{type:"button",onClick:function(){return x(Object(w.DateConvert)(new Date(new Date(u).setUTCDate(new Date(u).getUTCDate()))))},children:Object(_.jsx)(W,{transform:"scale(1,1)"})}),Object(_.jsx)("label",{children:Object(_.jsx)(k,{type:"date",value:u,disabled:"disabled"})}),Object(_.jsx)("button",{type:"button",onClick:function(){return x(Object(w.DateConvert)(new Date(new Date(u).setUTCDate(new Date(u).getUTCDate()+2))))},children:Object(_.jsx)(T,{transform:"scale(-1,1)"})})]}),Object(_.jsx)(R,{name:"idInput",placeholder:"Buscar",value:z,onChange:function(t){return F(t.target.value)}})]}),Object(_.jsx)(E,{_css2:[{display:"flex",flexDirection:"column",overflowX:"hidden",height:"90%",width:"100%",padding:"0.5rem",gap:"0.5rem"},v.b],children:X.map((function(t){return Object(_.jsx)($,{client:t,typeWidth:A,useCopyTextOnClickSaveData:U})}))})]})})})}}}]);