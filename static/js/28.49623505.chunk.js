(this.webpackJsonpivan=this.webpackJsonpivan||[]).push([[28],{415:function(e,t,r){"use strict";r.r(t);var a=r(4),s=r(17),n=r(2),i=r.n(n),o=r(8),d=r(5),u=r(78),c=r(7),l=r(9),p=r(162),m=r(0),b=r(135),j=r(165),v=r(1),O=Object(m.lazy)((function(){return r.e(24).then(r.bind(null,396))})),f=d.d.div.withConfig({displayName:"Operadores__OperadoresDiv",componentId:"sc-1pye1q6-0"})(["margin-top:12px;padding:20px 48px 20px 16px;display:grid;gap:32px;grid-template-columns:repeat(4,minmax(0,1fr));overflow-x:hidden;align-items:start;",""],u.b),g=function(){var e=Object(o.a)(i.a.mark((function e(t,r){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([Object(c.h)("/feeds/all-operators-summary?tiempo=dia"),Object(c.h)("/feeds/all-operators-summary?tiempo=mes")]);case 2:return a=e.sent,e.abrupt("return",Object(c.E)({summaryDia:a[0],summaryMes:a[1]}));case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();t.default=function(e){var t=e.supervisoresSeleccionadosIds,r=e.orden,n=e.multasOAvisos,i=Object(l.d)("operadores",c.q).data,o=Object(l.d)(["feedsSummary"],g).data,d=Object(m.useContext)(b.a),u=Object(m.useState)(!1),x=Object(s.a)(u,2),h=x[0],y=x[1],M=Object(m.useState)(0),D=Object(s.a)(M,2),w=D[0],S=D[1];return Object(v.jsxs)(f,{children:[null===i||void 0===i?void 0:i.sort((function(e,t){return"dia"===r?t.progresoDia-e.progresoDia:t.progresoMes-e.progresoMes})).map((function(e){if("todos"!==t&&!(null===t||void 0===t?void 0:t.map((function(e){return Number(e)})).includes(e.supervisorId)))return null;for(var r=0,s=0;s<((null===d||void 0===d?void 0:d.length)||-1);s++){var i;if(e.id===+(null!==(i=d[s].extraUserId)&&void 0!==i?i:d[s].userId)&&"feeds"===d[s].tablename){var u=new Date(d[s].timestamp);r=Date.UTC(u.getFullYear(),u.getMonth(),u.getDate(),u.getHours(),u.getMinutes(),u.getSeconds(),u.getMilliseconds());break}}return Object(v.jsxs)(m.Fragment,{children:[Object(v.jsx)(j.b,{id:""+e.id,children:Object(v.jsx)(p.a,Object(a.a)(Object(a.a)({},Object(a.a)(Object(a.a)({},e),{},{summary1:null===o||void 0===o?void 0:o.summaryDia[e.id],summary2:null===o||void 0===o?void 0:o.summaryMes[e.id],puntos1:e.progresoDia,puntos2:e.progresoMes,latestFeedTimestamp:r,usarMultasOAvisos:n})),{},{tipoEntidad:"operador"}))}),Object(v.jsx)(j.a,{id:""+e.id,children:Object(v.jsx)(j.c,{onClick:function(){y(!0),S(e.id)},children:"Ver multas"})})]},e.id)})),h?Object(v.jsx)(m.Suspense,{fallback:Object(v.jsx)("div",{children:"Loading..."}),children:Object(v.jsx)(O,{operadorId:w,setShowMultasModal:y})}):null]})}}}]);