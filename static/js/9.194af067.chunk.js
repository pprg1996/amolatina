(this.webpackJsonpivan=this.webpackJsonpivan||[]).push([[9],{162:function(e,t,a){"use strict";a.d(t,"b",(function(){return u}));var n=a(9),i=a(20),c=a(5),o=a(1),s=a(7).ActionIcon,l=Object(c.d)(s).withConfig({displayName:"ColoredCheckbox___StyledActionIcon",componentId:"sc-2a66eg-0"})({width:"auto",height:"1.75rem"}),r=Object(c.d)("label").withConfig({displayName:"ColoredCheckbox___StyledLabel",componentId:"sc-2a66eg-1"})({borderRadius:"1rem",padding:"0.75rem",borderWidth:"1px",flexShrink:"0",display:"flex",alignItems:"center",gap:"0.5rem",flexDirection:"column"}),d=Object(c.d)("div").withConfig({displayName:"ColoredCheckbox___StyledDiv",componentId:"sc-2a66eg-2"})({display:"flex",alignItems:"center",gap:"0.75rem"}),u=function(e,t){var a,c=!0,o=Object(i.a)(Object.entries(e).filter((function(e){var a=Object(n.a)(e,1)[0];return a.startsWith("show")&&a!=="show"+t.replace(/ /g,"")})));try{for(o.s();!(a=o.n()).done;){Object(n.a)(a.value,2)[1]&&(c=!1)}}catch(f){o.e(f)}finally{o.f()}if(e["show"+t.replace(/ /g,"")]&&c){var s,l=Object(i.a)(Object.entries(e).filter((function(e){return Object(n.a)(e,1)[0].startsWith("set")})));try{for(l.s();!(s=l.n()).done;){var r=Object(n.a)(s.value,2),d=r[0],u=r[1];"setShowClientes"!==d&&u(!0)}}catch(f){l.e(f)}finally{l.f()}}else for(var j=0,b=Object.entries(e);j<b.length;j++){var p=Object(n.a)(b[j],2),h=p[0],g=p[1];"function"===typeof g&&(h==="setShow"+t.replace(/ /g,"")?g(!0):g(!1))}};t.a=function(e){var t=e.text,a=e.checked,n=e.setChecked,i=e.color,c=e.service,s=e.filter,j=e.total;return Object(o.jsxs)(r,{style:{borderColor:i},title:t,onDoubleClick:function(){return u(s,t)},children:[Object(o.jsxs)(d,{children:[Object(o.jsx)(l,{type:c}),Object(o.jsx)("input",{type:"checkbox",checked:a,onChange:function(e){return n(e.target.checked)}})]}),Object(o.jsx)("span",{children:j})]})}},427:function(e,t,a){"use strict";a.r(t);var n=a(20),i=a(4),c=a(9),o=a(2),s=a.n(o),l=a(8),r=a(5),d=a(86),u=a(0),j=a(10),b=a(7),p=a(413),h=a(414),g=a(407),f=a(415),y=a(389),x=a(390),m=a(21),O=a(405),v=a(351),w=a(1),C=function(e,t,a,n,i,c,o,s,l,r){var d,u=j.b.getQueryData(["perfiles"]),p=j.b.getQueryData(["tags"]);return"clientes"===e?"all"!==t||"all"!==a?Object(w.jsx)(O.a,{dataKey:"total",stackId:"a",fill:"#6B39BD",isAnimationActive:!1,yAxisId:"left-axis",children:Object(w.jsx)(v.a,{dataKey:"total",position:"top",style:{fill:"white"}})}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(O.a,{dataKey:"notContacted",stackId:"a",fill:"#6B39BD",isAnimationActive:!1,yAxisId:"left-axis"}),Object(w.jsx)(O.a,{dataKey:"contacted",stackId:"a",fill:"#82ca9d",isAnimationActive:!1,yAxisId:"left-axis",children:"clientes"!==e?Object(w.jsx)(v.a,{dataKey:"total",position:"top",style:{fill:"white"}}):null}),Object(w.jsx)(O.a,{dataKey:"pointed",stackId:"a",fill:"#FAC24B",isAnimationActive:!1,yAxisId:"left-axis",children:Object(w.jsx)(v.a,{dataKey:"total",position:"top",style:{fill:"white"}})}),r.showClientes?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(O.a,{dataKey:"cantidadDeClientesViejos",yAxisId:"right-axis",fill:"#3346ff",isAnimationActive:!1,children:Object(w.jsx)(v.a,{dataKey:"cantidadDeClientesViejos",position:"top",style:{fill:"white"}})}),Object(w.jsx)(O.a,{dataKey:"cantidadDeClientesNuevos",yAxisId:"right-axis",fill:"#70dcba",isAnimationActive:!1,children:Object(w.jsx)(v.a,{dataKey:"cantidadDeClientesNuevos",position:"top",style:{fill:"white"}})})]}):null]}):"puntos"===e?Object(w.jsxs)(w.Fragment,{children:[("bonus"===s?b.bonusTypes:b.writeoffTypes).map((function(e,t,a){var n=e.name,i=e.value,c=a.length;return Object(w.jsx)(O.a,{dataKey:r["show"+n.replace(/ /g,"")]?i:null,stackId:"a",fill:b.contrastingHexColors[t],isAnimationActive:!1,yAxisId:"left-axis",children:t===c-1?Object(w.jsx)(v.a,{dataKey:"total",position:"top",style:{fill:"white"}}):null},i)})),r.showClientes?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(O.a,{dataKey:"cantidadDeClientesViejos",yAxisId:"right-axis",fill:"#3346ff",isAnimationActive:!1,children:Object(w.jsx)(v.a,{dataKey:"cantidadDeClientesViejos",position:"top",style:{fill:"white"}})}),Object(w.jsx)(O.a,{dataKey:"cantidadDeClientesNuevos",yAxisId:"right-axis",fill:"#70dcba",isAnimationActive:!1,children:Object(w.jsx)(v.a,{dataKey:"cantidadDeClientesNuevos",position:"top",style:{fill:"white"}})})]}):null]}):"cartas24"===e?"all"===a?u.map((function(e,t,a){var n=e.id,i=e.nombre,c=a.length;return Object(w.jsx)(O.a,{dataKey:i,stackId:"a",fill:b.contrastingHexColors[t%b.contrastingHexColors.length],isAnimationActive:!1,yAxisId:"left-axis",children:t===c-1?Object(w.jsx)(v.a,{dataKey:"total",position:"top",style:{fill:"white"}}):null},n)})):"all"===o?null===c||void 0===c?void 0:c.map((function(e,t,a){var n=e.id,i=e.title,c=a.length;return Object(w.jsx)(O.a,{dataKey:n+" "+i,stackId:"a",fill:b.contrastingHexColors[t%b.contrastingHexColors.length],isAnimationActive:!1,yAxisId:"left-axis",children:t===c-1?Object(w.jsx)(v.a,{dataKey:"total",position:"top",style:{fill:"white"}}):null},n)})):null===(d=["all"].concat(Object(m.a)(null!==p&&void 0!==p?p:[])))||void 0===d?void 0:d.map((function(e,t,a){var n=a.length;return Object(w.jsx)(O.a,{dataKey:e,stackId:"a",fill:b.contrastingHexColors[t%b.contrastingHexColors.length],isAnimationActive:!1,yAxisId:"left-axis",children:t===n-1?Object(w.jsx)(v.a,{dataKey:"total",position:"top",style:{fill:"white"}}):null},e)})):void 0},_=a(11),I=a.n(_),S=a(162),A=function(){var e=Object(l.a)(s.a.mark((function e(t,a,n,i,c,o,l,r,d,u,j,p,h,g,f,y){var x,m,O,v,w,C,_,I,S,A,N,k,M,E;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x="clientes"===a?"clients-stats":"points-stats",m=i?"&country=".concat(i):"",O=o?"&hour=".concat(o):"",v="&minAge=".concat(c?c[0]:j),w="&maxAge=".concat(c?c[1]:p),"&operatorId=".concat(r),C="&profileId=".concat(d),_="&tag=".concat(l),I="all"!==h?"&gender=".concat(h):"",S="all"!==g?"&prefGender=".concat(g):"",A="&fromDate=".concat(f),N="&toDate=".concat(y),"cartas24"!==a){e.next=19;break}return k="all"!==r?"&operatorId=".concat(r):"",M="all"!==d?"&profileId=".concat(d):"",E="all"!==u?"&botLetterId=".concat(u):"",e.next=18,Object(b.customFetch)("/bot-letters/delivery-count?".concat(M).concat(k).concat(E));case 18:return e.abrupt("return",e.sent);case 19:return e.next=21,Object(b.customFetch)("/agency/".concat(x,"?group=").concat(n).concat(m).concat(O).concat(v).concat(w).concat(_).concat(C).concat(I).concat(S).concat(A).concat(N));case 21:return e.abrupt("return",e.sent);case 22:case"end":return e.stop()}}),e)})));return function(t,a,n,i,c,o,s,l,r,d,u,j,b,p,h,g){return e.apply(this,arguments)}}(),N=function(){var e=Object(l.a)(s.a.mark((function e(t,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("all"!==a){e.next=2;break}return e.abrupt("return",[]);case 2:return e.next=4,Object(b.customFetch)("/bot-letters/profile-letters?profileId=".concat(a,"&visible=all"));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),k=Object(r.d)("div").withConfig({displayName:"EstadisticasModal___StyledDiv",componentId:"sc-1s0j11n-0"})({width:"90vw",height:"95vh",overflowX:"auto",display:"flex",flexDirection:"column","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))"}),M=Object(r.d)("div").withConfig({displayName:"EstadisticasModal___StyledDiv2",componentId:"sc-1s0j11n-1"})({paddingLeft:"1rem",paddingRight:"1rem",paddingTop:"0.5rem",paddingBottom:"0.5rem",display:"flex",gap:"1rem",alignItems:"center"}),E=Object(r.d)("select").withConfig({displayName:"EstadisticasModal___StyledSelect",componentId:"sc-1s0j11n-2"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",borderRadius:"1rem",padding:"0.25rem"}),D=Object(r.d)("select").withConfig({displayName:"EstadisticasModal___StyledSelect2",componentId:"sc-1s0j11n-3"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",borderRadius:"1rem",padding:"0.25rem"}),R=Object(r.d)("select").withConfig({displayName:"EstadisticasModal___StyledSelect3",componentId:"sc-1s0j11n-4"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",borderRadius:"1rem",padding:"0.25rem"}),K=Object(r.d)("select").withConfig({displayName:"EstadisticasModal___StyledSelect4",componentId:"sc-1s0j11n-5"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",borderRadius:"1rem",padding:"0.25rem"}),T=Object(r.d)("button").withConfig({displayName:"EstadisticasModal___StyledButton",componentId:"sc-1s0j11n-6"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(220, 38, 38, var(--tw-bg-opacity))",borderRadius:"0.25rem",paddingLeft:"0.5rem",paddingRight:"0.5rem",paddingTop:"0.25rem",paddingBottom:"0.25rem"}),P=Object(r.d)("select").withConfig({displayName:"EstadisticasModal___StyledSelect5",componentId:"sc-1s0j11n-7"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",borderRadius:"1rem",padding:"0.25rem"}),F=Object(r.d)("select").withConfig({displayName:"EstadisticasModal___StyledSelect6",componentId:"sc-1s0j11n-8"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",borderRadius:"1rem",padding:"0.25rem"}),H=Object(r.d)("input").withConfig({displayName:"EstadisticasModal___StyledInput",componentId:"sc-1s0j11n-9"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",width:"3rem",borderRadius:"1rem",padding:"0.25rem"}),L=Object(r.d)("input").withConfig({displayName:"EstadisticasModal___StyledInput2",componentId:"sc-1s0j11n-10"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",width:"3rem",borderRadius:"1rem",padding:"0.25rem"}),B=Object(r.d)("select").withConfig({displayName:"EstadisticasModal___StyledSelect7",componentId:"sc-1s0j11n-11"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",borderRadius:"1rem",padding:"0.25rem"}),V=Object(r.d)("select").withConfig({displayName:"EstadisticasModal___StyledSelect8",componentId:"sc-1s0j11n-12"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",borderRadius:"1rem",padding:"0.25rem"}),W=Object(r.d)("input").withConfig({displayName:"EstadisticasModal___StyledInput3",componentId:"sc-1s0j11n-13"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",width:"9rem",borderRadius:"1rem",padding:"0.25rem"}),J=Object(r.d)("input").withConfig({displayName:"EstadisticasModal___StyledInput4",componentId:"sc-1s0j11n-14"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",width:"9rem",borderRadius:"1rem",padding:"0.25rem"}),z=Object(r.d)("div").withConfig({displayName:"EstadisticasModal___StyledDiv3",componentId:"sc-1s0j11n-15"})({display:"flex",flexDirection:"column",paddingLeft:"0.75rem",paddingRight:"0.75rem",paddingTop:"0.5rem",paddingBottom:"0.5rem",borderRadius:"1rem","--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))"}),G=Object(r.d)("label").withConfig({displayName:"EstadisticasModal___StyledLabel",componentId:"sc-1s0j11n-16"})({display:"flex",gap:"0.5rem",alignItems:"center",justifyContent:"space-between"}),Q=Object(r.d)("label").withConfig({displayName:"EstadisticasModal___StyledLabel2",componentId:"sc-1s0j11n-17"})({display:"flex",gap:"0.5rem",alignItems:"center",justifyContent:"space-between"}),X=Object(r.d)("div").withConfig({displayName:"EstadisticasModal___StyledDiv4",componentId:"sc-1s0j11n-18"})({display:"flex",flexDirection:"column",paddingLeft:"0.75rem",paddingRight:"0.75rem",paddingTop:"0.5rem",paddingBottom:"0.5rem",borderRadius:"1rem","--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))"}),Y=Object(r.d)("label").withConfig({displayName:"EstadisticasModal___StyledLabel3",componentId:"sc-1s0j11n-19"})({display:"flex",gap:"0.5rem",alignItems:"center",justifyContent:"space-between"}),q=Object(r.d)("label").withConfig({displayName:"EstadisticasModal___StyledLabel4",componentId:"sc-1s0j11n-20"})({display:"flex",gap:"0.5rem",alignItems:"center",justifyContent:"space-between"}),U=Object(r.d)("label").withConfig({displayName:"EstadisticasModal___StyledLabel5",componentId:"sc-1s0j11n-21"})({display:"flex",gap:"1rem",alignItems:"center",userSelect:"none",borderWidth:"1px","--tw-border-opacity":"1",borderColor:"rgba(255, 255, 255, var(--tw-border-opacity))",borderRadius:"1rem",padding:"0.75rem"}),Z=Object(r.d)("div").withConfig({displayName:"EstadisticasModal___StyledDiv5",componentId:"sc-1s0j11n-22"})({display:"flex",alignItems:"center",gap:"0.75rem"}),$=Object(r.d)("div").withConfig({displayName:"EstadisticasModal___StyledDiv6",componentId:"sc-1s0j11n-23"})({display:"flex",flexDirection:"column",gap:"0.5rem"}),ee=Object(r.d)("span").withConfig({displayName:"EstadisticasModal___StyledSpan",componentId:"sc-1s0j11n-24"})({width:"max-content"}),te=Object(r.d)("span").withConfig({displayName:"EstadisticasModal___StyledSpan2",componentId:"sc-1s0j11n-25"})({width:"max-content"}),ae=Object(r.d)("div").withConfig({displayName:"EstadisticasModal___StyledDiv7",componentId:"sc-1s0j11n-26"})({flexGrow:"1"});t.default=function(e){var t,a,o=e.setShowEstadisticasModal,s=e.initEstadistica,l=e.initPerfilId,r=e.initPerfilCarta24Id,m=Object(u.useState)(null!==s&&void 0!==s?s:"puntos"),O=Object(c.a)(m,2),v=O[0],_=O[1],ne=Object(u.useState)("dateRange"),ie=Object(c.a)(ne,2),ce=ie[0],oe=ie[1],se=Object(u.useState)(),le=Object(c.a)(se,2),re=le[0],de=le[1],ue=Object(u.useState)(),je=Object(c.a)(ue,2),be=je[0],pe=je[1],he=Object(u.useState)(),ge=Object(c.a)(he,2),fe=ge[0],ye=ge[1],xe=Object(u.useState)("all"),me=Object(c.a)(xe,2),Oe=me[0],ve=me[1],we=Object(u.useState)("all"),Ce=Object(c.a)(we,2),_e=Ce[0],Ie=(Ce[1],Object(u.useState)(null!==l&&void 0!==l?l:"all")),Se=Object(c.a)(Ie,2),Ae=Se[0],Ne=Se[1],ke=Object(u.useState)(null!==r&&void 0!==r?r:"all"),Me=Object(c.a)(ke,2),Ee=Me[0],De=Me[1],Re=Object(u.useState)(18),Ke=Object(c.a)(Re,2),Te=Ke[0],Pe=Ke[1],Fe=Object(u.useState)(80),He=Object(c.a)(Fe,2),Le=He[0],Be=He[1],Ve=Object(u.useState)("all"),We=Object(c.a)(Ve,2),Je=We[0],ze=We[1],Ge=Object(u.useState)("all"),Qe=Object(c.a)(Ge,2),Xe=Qe[0],Ye=Qe[1],qe=Object(u.useState)((new Date).toISOString().substring(0,7)+"-01"),Ue=Object(c.a)(qe,2),Ze=Ue[0],$e=Ue[1],et=Object(u.useState)((new Date).toISOString().substring(0,10)),tt=Object(c.a)(et,2),at=tt[0],nt=tt[1],it=Object(u.useState)("bonus"),ct=Object(c.a)(it,2),ot=ct[0],st=ct[1],lt=Object(u.useState)("puntos"),rt=Object(c.a)(lt,2),dt=rt[0],ut=rt[1],jt=Object(b.useFilterGraphFilter)(),bt=Object(u.useState)(!0),pt=Object(c.a)(bt,2),ht=pt[0],gt=pt[1],ft=Object(j.d)(["tags"],b.fetchTags,{staleTime:1/0}).data,yt=Object(j.d)(["estadisticas",v,ce,re,be,fe,Oe,_e,Ae,Ee,Te,Le,Je,Xe,Ze,at],A,{refetchInterval:!1,staleTime:1/0,refetchOnMount:"always"}).data,xt=Object(j.d)(["perfiles"],b.fetchPerfiles,{refetchInterval:!1}).data,mt=Object(j.d)(["cartas-bot-all",Ae],N,{refetchInterval:!1}).data,Ot=null===yt||void 0===yt?void 0:yt.map((function(e){if("puntos"===v){var t,a,n=e.points,o=e.count,s=e.day,l=e.hour,r=e.country,d=e.ageRange,u=e.clientesComunicadosViejos,j=e.clientesComunicadosNuevos,p=0,h=JSON.parse(JSON.stringify(null!==(t=null===(a="puntos"===dt?n:o)||void 0===a?void 0:a[ot])&&void 0!==t?t:{}));Object.entries(h).forEach((function(e){var t=Object(c.a)(e,2),a=t[0],n=t[1],i=b.bonusYWriteoffTypes.find((function(e){return e.value===a})).name;jt["show"+i.replace(/ /g,"")]&&(p+=n)}));for(var g=0,f=Object.entries(h);g<f.length;g++){var y=Object(c.a)(f[g],2),x=y[0],m=y[1];h[x]=Math.floor(m)}return Object(i.a)(Object(i.a)({day:s,hour:l,country:r,ageRange:d},h),{},{total:Math.floor(p),cantidadDeClientesViejos:u.length,cantidadDeClientesNuevos:j.length})}if("clientes"===v){var O=e.notContacted,w=e.contacted,C=e.pointed,_=e.total,I=e.country,S=e.ageRange,A=e.clientesComunicadosViejos,N=e.clientesComunicadosNuevos;return{notContacted:O,contacted:w,pointed:C,hour:fe,country:I,ageRange:S,total:_,cantidadDeClientesViejos:A.length,cantidadDeClientesNuevos:N.length}}return e})),vt=new Set,wt=new Set,Ct=Object(n.a)(null!==yt&&void 0!==yt?yt:[]);try{for(Ct.s();!(a=Ct.n()).done;){var _t=a.value,It=_t.clientesComunicadosViejos,St=_t.clientesComunicadosNuevos;null===It||void 0===It||It.forEach((function(e){return vt.add(e)})),null===St||void 0===St||St.forEach((function(e){return wt.add(e)}))}}catch(At){Ct.e(At)}finally{Ct.f()}return wt.forEach((function(e){return vt.delete(e)})),Object(w.jsx)(d.a,{setShowModal:o,children:Object(w.jsxs)(k,{children:[Object(w.jsxs)(M,{children:[Object(w.jsx)("button",{onClick:function(){return gt((function(e){return!e}))},children:ht?"< >":"> <"}),Object(w.jsxs)("label",{children:["Contabilizar:"," ",Object(w.jsxs)(E,{value:v,onChange:function(e){_(e.target.value),oe("country"),de(),pe(),ye()},children:[Object(w.jsx)("option",{value:"clientes",children:"Clientes"}),Object(w.jsx)("option",{value:"puntos",children:"Puntos"}),Object(w.jsx)("option",{value:"cartas24",children:"Cartas 24"})]})]}),re?Object(w.jsxs)("span",{children:["Pais: ",re]}):null,be?Object(w.jsxs)("span",{children:["Edad: ",be[0],"-",be[1]]}):null,void 0!==fe?Object(w.jsxs)("span",{children:["Hora: ",0===fe?"12 AM":fe<12?"".concat(fe," AM"):12===fe?"12 PM":"".concat(fe-12," PM")]}):null,"cartas24"===v?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("label",{children:["Perfil:",Object(w.jsxs)(D,{value:Ae,onChange:function(e){De("all"),Ne(e.target.value)},children:[Object(w.jsx)("option",{value:"all",children:"Todos"}),null===xt||void 0===xt?void 0:xt.map((function(e){return Object(w.jsx)("option",{value:e.id,children:e.nombre},e.id)}))]})]}),"all"!==Ae?Object(w.jsxs)("label",{children:["Carta:",Object(w.jsxs)(R,{value:Ee,onChange:function(e){return De(e.target.value)},children:[Object(w.jsx)("option",{value:"all",children:"Todas"}),null===mt||void 0===mt?void 0:mt.map((function(e){return Object(w.jsxs)("option",{value:e.id,children:[e.id," ",e.title]},e.id)}))]})]}):null]}):Object(w.jsxs)("label",{children:["Agrupar por:"," ",Object(w.jsxs)(K,{value:ce,onChange:function(e){return oe(e.target.value)},children:[re?null:Object(w.jsx)("option",{value:"country",children:"Paises"}),be?null:Object(w.jsx)("option",{value:"age",children:"Edades"}),"puntos"!==v||fe?null:Object(w.jsx)("option",{value:"hours",children:"Horas"}),"puntos"!==v||fe||re||be?null:Object(w.jsx)("option",{value:"dateRange",children:"Rango de fechas"})]})]}),re||be||void 0!==fe?Object(w.jsx)(T,{onClick:function(){de(),pe(),ye()},children:"Limpiar"}):null,"clientes"===v&&"country"===ce?Object(w.jsxs)(w.Fragment,{children:[+I.a.get("id")!==b.ghostAdminId?Object(w.jsxs)("label",{children:["Tag:",Object(w.jsxs)(P,{value:Oe,onChange:function(e){return ve(e.target.value)},children:[Object(w.jsx)("option",{value:"all",children:"Todos"}),null===ft||void 0===ft?void 0:ft.map((function(e){return Object(w.jsx)("option",{value:e,children:e},e)}))]})]}):null,Object(w.jsxs)("label",{children:["Perfil:",Object(w.jsxs)(F,{value:Ae,onChange:function(e){return Ne(e.target.value)},children:[Object(w.jsx)("option",{value:"all",children:"Todos"}),null===xt||void 0===xt?void 0:xt.map((function(e){return Object(w.jsx)("option",{value:e.id,children:e.nombre},e.id)}))]})]}),Object(w.jsxs)("label",{children:["Edad minima:",Object(w.jsx)(H,{type:"number",value:Te,onChange:function(e){return Pe(e.target.value)}})]}),Object(w.jsxs)("label",{children:["Edad maxima:",Object(w.jsx)(L,{type:"number",value:Le,onChange:function(e){return Be(e.target.value)}})]}),Object(w.jsxs)("label",{children:["Sexo:",Object(w.jsxs)(B,{value:Je,onChange:function(e){return ze(e.target.value)},children:[Object(w.jsx)("option",{value:"all",children:"Todos"}),Object(w.jsx)("option",{value:"fem",children:"Mujer"}),Object(w.jsx)("option",{value:"mal",children:"Hombre"})]})]}),Object(w.jsxs)("label",{children:["En busca de:",Object(w.jsxs)(V,{value:Xe,onChange:function(e){return Ye(e.target.value)},children:[Object(w.jsx)("option",{value:"all",children:"Todos"}),Object(w.jsx)("option",{value:"mal",children:"Hombre"}),Object(w.jsx)("option",{value:"fem",children:"Mujer"})]})]})]}):null,"puntos"===v&&"dateRange"===ce?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("label",{children:["Desde:",Object(w.jsx)(W,{type:"date",value:Ze,onChange:function(e){return $e(e.target.value)}})]}),Object(w.jsxs)("label",{children:["Hasta:",Object(w.jsx)(J,{type:"date",value:at,onChange:function(e){return nt(e.target.value)}})]})]}):null,"puntos"===v?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(z,{children:[Object(w.jsxs)(G,{children:["Puntos",Object(w.jsx)("input",{type:"radio",name:"puntosorservicio",checked:"puntos"===dt,onChange:function(){return ut("puntos")}})]}),Object(w.jsxs)(Q,{children:["Servicio",Object(w.jsx)("input",{type:"radio",name:"puntosorservicio",checked:"servicio"===dt,onChange:function(){return ut("servicio")}})]})]}),Object(w.jsxs)(X,{children:[Object(w.jsxs)(Y,{children:["Bonus",Object(w.jsx)("input",{type:"radio",name:"bonusorwriteoff",checked:"bonus"===ot,onChange:function(){return st("bonus")}})]}),Object(w.jsxs)(q,{children:["Writeoff",Object(w.jsx)("input",{type:"radio",name:"bonusorwriteoff",checked:"writeoff"===ot,onChange:function(){return st("writeoff")}})]})]})]}):null,"puntos"===v||"clientes"===v?Object(w.jsxs)(U,{onDoubleClick:function(){return Object(S.b)(jt,"Clientes")},children:[Object(w.jsxs)(Z,{children:[Object(w.jsx)("span",{children:"Clientes"}),Object(w.jsx)("input",{type:"checkbox",checked:jt.showClientes,onChange:function(e){return jt.setShowClientes(e.target.checked)}})]}),Object(w.jsxs)($,{children:[Object(w.jsxs)(ee,{children:[vt.size," Viejos"]}),Object(w.jsxs)(te,{children:[wt.size," Nuevos"]})]})]}):null,"puntos"===v?("bonus"===ot?b.bonusTypes:b.writeoffTypes).map((function(e,t){var a=e.name,n=e.value;return"todos"===n||n.startsWith("manual")?null:Object(w.jsx)(S.a,{text:a,checked:jt["show"+a.replace(/ /g,"")],setChecked:jt["setShow"+a.replace(/ /g,"")],color:b.contrastingHexColors[t],service:n,filter:jt,total:Math.floor(null===yt||void 0===yt?void 0:yt.reduce((function(e,t){var a,i,c=t.points,o=t.count;return e+(null!==(a=null===(i=("puntos"===dt?c:o)[ot])||void 0===i?void 0:i[n])&&void 0!==a?a:0)}),0))},a)})):null]}),Object(w.jsx)(ae,{style:{width:"".concat(ht?100:100+3*Math.max((null!==(t=null===yt||void 0===yt?void 0:yt.length)&&void 0!==t?t:0)-50,0),"%")},children:yt?Object(w.jsx)(p.a,{children:Object(w.jsxs)(h.a,{data:Ot,onClick:function(e){e&&("all"===Oe&&"all"===Ae&&"all"===Je&&"all"===Xe||"clientes"!==v)&&("clientes"===v?"country"!==ce||be?"age"!==ce||re||(oe("country"),pe(null===e||void 0===e?void 0:e.activePayload[0].payload.ageRange.split("-"))):(oe("age"),de(null===e||void 0===e?void 0:e.activePayload[0].payload.country)):"puntos"===v&&("country"!==ce||be&&fe?"age"!==ce||re&&fe?"hours"!==ce||re&&be||(re?be||oe("age"):oe("country"),ye(null===e||void 0===e?void 0:e.activeTooltipIndex)):(oe(re?"hours":"country"),pe(null===e||void 0===e?void 0:e.activePayload[0].payload.ageRange.split("-"))):(oe(be?"hours":"age"),de(null===e||void 0===e?void 0:e.activePayload[0].payload.country))))},children:[Object(w.jsx)(g.a,{formatter:function(e,t){return"cartas24"===v?[e,"all"===t?"Todos":t]:"puntos"===v?[e,null===(a=b.bonusTypes.find((function(e){return e.value===t})))||void 0===a?void 0:a.name]:[e,"notContacted"===t?"No contactados":"contacted"===t?"Contactados":"pointed"===t?"Punteados":"total"===t?"Total":"."];var a},contentStyle:{backgroundColor:"#333333"}}),Object(w.jsx)(f.a,{strokeDasharray:"3 3"}),Object(w.jsx)(y.a,{dataKey:"cartas24"===v?"day":"country"===ce?"country":"age"===ce?"ageRange":"hours"===ce?"hour":"day"}),Object(w.jsx)(x.a,{yAxisId:"left-axis",orientation:"left"}),Object(w.jsx)(x.a,{yAxisId:"right-axis",orientation:"right"}),C(v,Oe,Ae,ce,Ot,mt,Ee,ot,dt,jt)]})},ce+(ht?"c":"nc")):null})]})})}}}]);