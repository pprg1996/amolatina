(this.webpackJsonpivan=this.webpackJsonpivan||[]).push([[12,17],{101:function(e,t,i){"use strict";i.d(t,"b",(function(){return f}));var a=i(9),n=i(20),r=i(5),o=i(2),d=i(7).ActionIcon,c=Object(r.d)(d).withConfig({displayName:"ColoredCheckbox___StyledActionIcon",componentId:"sc-2a66eg-0"})(["",""],(function(e){return e._css2})),s=r.d.div.withConfig({displayName:"ColoredCheckbox__DivColor",componentId:"sc-2a66eg-1"})(["",""],(function(e){return!0===e.checked?{"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",display:"flex",alignItems:"center",gap:"0.25rem",fontWeight:"700"}:{"--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",display:"flex",alignItems:"center",gap:"0.25rem",fontWeight:"700"}})),p=Object(r.d)(s).withConfig({displayName:"ColoredCheckbox___StyledDivColor",componentId:"sc-2a66eg-2"})(["",""],(function(e){return e._css})),l=Object(r.d)("div").withConfig({displayName:"ColoredCheckbox___StyledDiv",componentId:"sc-2a66eg-3"})({display:"flex",justifyContent:"center"}),m=Object(r.d)("div").withConfig({displayName:"ColoredCheckbox___StyledDiv2",componentId:"sc-2a66eg-4"})({display:"flex",justifyContent:"center"}),u=Object(r.d)("span").withConfig({displayName:"ColoredCheckbox___StyledSpan",componentId:"sc-2a66eg-5"})(["",""],(function(e){return e._css3})),f=function(e,t){var i,r=!0,o=Object(n.a)(Object.entries(e).filter((function(e){var i=Object(a.a)(e,1)[0];return i.startsWith("show")&&i!=="show"+t.replace(/ /g,"")})));try{for(o.s();!(i=o.n()).done;){Object(a.a)(i.value,2)[1]&&(r=!1)}}catch(x){o.e(x)}finally{o.f()}if(e["show"+t.replace(/ /g,"")]&&r){var d,c=Object(n.a)(Object.entries(e).filter((function(e){return Object(a.a)(e,1)[0].startsWith("set")})));try{for(c.s();!(d=c.n()).done;){var s=Object(a.a)(d.value,2),p=s[0],l=s[1];"setShowClientes"!==p&&l(!0)}}catch(x){c.e(x)}finally{c.f()}}else for(var m=0,u=Object.entries(e);m<u.length;m++){var f=Object(a.a)(u[m],2),h=f[0],g=f[1];"function"===typeof g&&(h==="setShow"+t.replace(/ /g,"")?g(!0):g(!1))}};t.a=function(e){var t=e.text,i=e.checked,a=e.setChecked,n=e.color,r=e.service,d=e.filter,s=e.total,h=e.mode,g=void 0===h?"":h;return Object(o.jsxs)(p,{style:!0===i?{backgroundColor:n}:{borderColor:n},checked:i,title:t,onDoubleClick:function(){return f(d,t)},onClick:function(){return a(!0!==i)},_css:[{paddingLeft:"0.125rem",borderWidth:"1px",flexShrink:"0",display:"flex",alignItems:"center",flexDirection:"column",cursor:"pointer","@media (min-width: 768px)":{borderRadius:"0.375rem",paddingTop:"0.25rem",paddingBottom:"0.25rem",gap:"0.25rem"},"@media (min-width: 1024px)":{borderRadius:"0.5rem",paddingTop:"0.4rem",paddingBottom:"0.4rem"},"@media (min-width: 1280px)":{borderRadius:"0.75rem",paddingTop:"0.7rem",paddingBottom:"0.7rem"},"@media (min-width: 1536px)":{borderRadius:"1rem",paddingLeft:"0.15rem",paddingRight:"0.15rem",paddingTop:"0.8rem",paddingBottom:"0.8rem"}},""===g?"@media (min-width: 2560px) { padding: 0.75rem !important; grid-gap: 0.5rem !important; }":"@media (min-width: 2560px) { padding: 0.45rem !important; grid-gap: 0.25rem !important; }"],children:[Object(o.jsx)(l,{children:Object(o.jsx)(c,{type:r,_css2:[{width:"auto","@media (min-width: 768px)":{height:"0.6rem"},"@media (min-width: 1024px)":{height:"0.5rem",paddingLeft:"0.75rem",paddingRight:"0.75rem"},"@media (min-width: 1280px)":{height:"0.7rem"},"@media (min-width: 1536px)":{height:"0.9rem"}},""===g?"@media (min-width: 2560px) { height: 1.75rem !important; }":"@media (min-width: 2560px) { height: 1.25rem !important; }"]})}),Object(o.jsx)(m,{children:Object(o.jsx)(u,{_css3:[{fontWeight:"700","@media (min-width: 768px)":{fontSize:"0.25rem"},"@media (min-width: 1024px)":{fontSize:"0.3rem"},"@media (min-width: 1280px)":{fontSize:"0.45rem"},"@media (min-width: 1536px)":{fontSize:"0.5rem"}},""===g?"@media (min-width: 2560px) { font-size: 0.75rem !important; }":"@media (min-width: 2560px) { font-size: 0.65rem !important; }"],children:s})})]})}},124:function(e,t,i){"use strict";i.d(t,"a",(function(){return u}));var a,n,r,o,d,c=i(0),s=["title","titleId"];function p(){return(p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e}).apply(this,arguments)}function l(e,t){if(null==e)return{};var i,a,n=function(e,t){if(null==e)return{};var i,a,n={},r=Object.keys(e);for(a=0;a<r.length;a++)i=r[a],t.indexOf(i)>=0||(n[i]=e[i]);return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)i=r[a],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function m(e,t){var i=e.title,m=e.titleId,u=l(e,s);return c.createElement("svg",p({id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 1023.6 1023.6",style:{enableBackground:"new 0 0 1023.6 1023.6"},xmlSpace:"preserve",ref:t,"aria-labelledby":m},u),i?c.createElement("title",{id:m},i):null,a||(a=c.createElement("style",{type:"text/css"},"\n\t.st0{fill:#17171C;}\n\t.st1{fill:#1F1F26;}\n")),n||(n=c.createElement("circle",{className:"st0",cx:511.8,cy:511.8,r:511.8})),r||(r=c.createElement("path",{className:"st1",d:"M499.8,495.2c33.9,0,63.2-12.2,87.2-36.1c24-24,36.1-53.3,36.1-87.2s-12.2-63.2-36.1-87.2 c-24-24-53.3-36.1-87.2-36.1s-63.2,12.2-87.2,36.1s-36.2,53.3-36.2,87.2s12.2,63.2,36.1,87.2C436.5,483.1,465.9,495.2,499.8,495.2z  M433.8,305.9c18.4-18.4,40-27.3,66-27.3s47.6,8.9,66,27.3c18.4,18.4,27.3,40,27.3,66s-8.9,47.6-27.3,66c-18.4,18.4-40,27.3-66,27.3 s-47.6-8.9-66-27.3s-27.3-40-27.3-66C406.4,345.9,415.4,324.3,433.8,305.9z"})),o||(o=c.createElement("path",{className:"st1",d:"M715.5,642.3c-0.7-10-2.1-20.9-4.1-32.4c-2.1-11.6-4.8-22.5-8-32.5c-3.3-10.3-7.8-20.6-13.4-30.3 c-5.8-10.2-12.6-19-20.2-26.3c-8-7.6-17.7-13.7-29-18.2c-11.2-4.4-23.7-6.7-37-6.7c-5.2,0-10.3,2.1-20,8.5c-6,3.9-13,8.4-20.9,13.5 c-6.7,4.3-15.8,8.3-27,11.9c-10.9,3.5-22.1,5.3-33,5.3c-11,0-22.1-1.8-33-5.3c-11.2-3.6-20.3-7.6-27-11.9c-7.8-5-14.8-9.5-20.9-13.5 c-9.8-6.4-14.8-8.5-20-8.5c-13.3,0-25.8,2.3-37,6.7c-11.3,4.5-21,10.6-29,18.2c-7.6,7.3-14.4,16.1-20.2,26.3 c-5.6,9.8-10.1,20-13.4,30.3c-3.2,10-5.9,20.9-8,32.5c-2.1,11.5-3.5,22.4-4.1,32.4c-0.7,9.8-1,20-1,30.2c0,26.7,8.5,48.4,25.3,64.3 c16.6,15.8,38.5,23.8,65.1,23.8h246.5c26.6,0,48.5-8,65.1-23.7c16.8-15.9,25.3-37.6,25.3-64.3C716.6,662.2,716.2,652.1,715.5,642.3z  M670.6,715.1c-10.9,10.4-25.4,15.5-44.4,15.5H379.7c-18.9,0-33.4-5.1-44.4-15.5c-10.7-10.2-15.9-24.1-15.9-42.6 c0-9.6,0.3-19.1,0.9-28.2c0.6-8.9,1.9-18.7,3.8-29.1c1.8-10.3,4.2-19.9,7-28.7c2.7-8.4,6.3-16.7,10.9-24.7 c4.3-7.6,9.3-14.2,14.8-19.4c5.1-4.9,11.6-9,19.3-12c7.1-2.8,15-4.3,23.6-4.6c1.1,0.6,2.9,1.6,6,3.6c6.2,4,13.3,8.6,21.1,13.6 c8.9,5.6,20.3,10.8,33.9,15.2c13.9,4.5,28.2,6.8,42.3,6.8c14.1,0,28.3-2.3,42.3-6.8c13.6-4.4,25.1-9.5,33.9-15.2 c8-5.1,15-9.6,21.1-13.6c3-2,4.9-3,6-3.6c8.6,0.2,16.6,1.8,23.6,4.6c7.6,3,14.1,7.1,19.3,12c5.5,5.3,10.5,11.8,14.8,19.4 c4.5,8,8.2,16.3,10.9,24.7c2.8,8.8,5.2,18.4,7,28.7c1.9,10.4,3.1,20.2,3.8,29.1l0,0c0.6,9.1,1,18.5,1,28.1 C686.6,691,681.3,704.9,670.6,715.1z"})),d||(d=c.createElement("g",null,c.createElement("g",null,c.createElement("path",{className:"st1",d:"M599.3,505.1c-74.4,0-134.9,60.4-134.9,134.9s60.3,135,134.9,135s134.9-60.4,134.9-134.9 S673.8,505.1,599.3,505.1z M678.1,645.5c0,3.1-2.5,5.6-5.6,5.6h-61.9v61.8c0,3.1-2.5,5.6-5.6,5.6h-11.3c-3.1,0-5.6-2.5-5.6-5.6 v-61.8h-61.8c-3.1,0-5.6-2.5-5.6-5.6v-11.3c0-3.1,2.5-5.6,5.6-5.6h61.8v-61.8c0-3.1,2.5-5.6,5.6-5.6H605c3.1,0,5.6,2.5,5.6,5.6 v61.8h61.7c3.1,0,5.6,2.5,5.6,5.6v11.3H678.1z"})))))}var u=c.forwardRef(m);i.p},125:function(e,t,i){"use strict";var a=i(4),n=i(110),r=i(13),o=i.n(r),d=i(2);t.a=function(e){var t=e.id,i=e.nombre,r=e.foto,c=e.puntos1,s=e.puntos2,p=e.summary1,l=e.summary2,m=e.supervisorId,u=e.usarMultasOAvisos,f=e.noModal,h=e.tipoEntidad,g=e.amolatinaId,x=e.metaDia,b=e.metaMes,j=e.latestFeedTimestamp,w=e.fineCount,y=e.fineAlertCount,O=e.first_point,v=e.contenidos,C=e.online,_=e.mingle,S=e.introductory,I=e.operador,D=e.operadorDePausa,M=e.operadoresAsignadosIds,k=e.missingMingleTimestamp,T=e.offlineTimestamp,R=e.unrepliedLettersTimestamps,F=e.token,N=e.media,z=e.modeGraphics,L=e.graphics_data,q=e.perfiles,A=e.perfilesPausados,E=e.pausado,P=e.typeWidth,B=e.setShowModal,W=e.setDataEntities,G=o.a.get("role"),H=+o.a.get("id");return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("button",{onClick:function(){return"admin"===G||"supervisor"===G||(null===I||void 0===I?void 0:I.id)===H&&"perfil"===h?(W(Object(a.a)({},{id:t,nombre:i,foto:r,puntos1:c,puntos2:s,summary1:p,summary2:l,supervisorId:m,usarMultasOAvisos:u,noModal:f,tipoEntidad:h,amolatinaId:g,metaDia:x,metaMes:b,latestFeedTimestamp:j,fineCount:w,fineAlertCount:y,first_point:O,contenidos:v,online:C,mingle:_,introductory:S,operador:I,operadorDePausa:D,operadoresAsignadosIds:M,missingMingleTimestamp:k,offlineTimestamp:T,unrepliedLettersTimestamps:R,token:F,media:N,modeGraphics:z,graphics_data:L,perfiles:q,perfilesPausados:A,pausado:E,typeWidth:P,setShowModal:B,setDataEntities:W})),B(!0)):t===H&&"operador"===h?(W({id:t,nombre:i,foto:r,puntos1:c,puntos2:s,summary1:p,summary2:l,supervisorId:m,usarMultasOAvisos:u,noModal:f,tipoEntidad:h,amolatinaId:g,metaDia:x,metaMes:b,latestFeedTimestamp:j,fineCount:w,fineAlertCount:y,online:C,mingle:_,introductory:S,operador:I,operadorDePausa:D,operadoresAsignadosIds:M,missingMingleTimestamp:k,offlineTimestamp:T,unrepliedLettersTimestamps:R,token:F,perfiles:q,perfilesPausados:A,pausado:E,first_point:O}),B(!0)):void 0},children:Object(d.jsx)(n.a,{id:t,nombre:i,foto:r,puntos1:c,puntos2:s,summary1:p,summary2:l,tipoEntidad:h,meta1:x,meta2:b,latestFeedTimestamp:j,usarMultasOAvisos:u,fineCount1:null===w||void 0===w?void 0:w.dia,fineAlertCount1:null===y||void 0===y?void 0:y.dia,fineCount2:null===w||void 0===w?void 0:w.mes,fineAlertCount2:null===y||void 0===y?void 0:y.mes,first_point:O,contenidos:v,online:C,mingle:_,introductory:S,operador:I,operadorDePausa:D,operadoresAsignadosIds:M,missingMingleTimestamp:k,offlineTimestamp:T,unrepliedLettersTimestamps:R,token:F,media:N,modeGraphics:z,graphics_data:L,perfiles:q,perfilesPausados:A,pausado:E,typeWidth:P})})})}},248:function(e,t,i){"use strict";i.r(t);var a=i(9),n=i(1),r=i.n(n),o=i(6),d=i(124),c=i(89),s=i(7),p=i(0),l=i(10),m=i(13),u=i.n(m),f=i(51),h=i(41),g=i(5),x=i(52),b=i(2),j=Object(g.d)(f.a).withConfig({displayName:"ConfigOperadorModal__Input",componentId:"sc-1wq3xac-0"})(["@media (min-width:2560px){font-size:1rem !important;}",""],{"@media (min-width: 768px)":{fontSize:"0.7rem",padding:"5px 8px"},"@media (min-width: 1024px)":{fontSize:"0.8rem",padding:"5px 8px"},"@media (min-width: 1280px)":{fontSize:"0.9rem",padding:"5px 8px"},"@media (min-width: 1536px)":{fontSize:"1rem",padding:"5px 8px"}}),w=g.d.span.withConfig({displayName:"ConfigOperadorModal__ErrorRegistro",componentId:"sc-1wq3xac-1"})({marginTop:"16px",marginBottom:"16px","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",textAlign:"center"}),y=g.d.span.withConfig({displayName:"ConfigOperadorModal__SubirFotoTxt",componentId:"sc-1wq3xac-2"})(["@media (min-width:2560px){font-size:1rem !important;}",""],{fontWeight:"500","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",display:"block",textAlign:"center",marginTop:"12px","@media (min-width: 768px)":{fontSize:"0.7rem"},"@media (min-width: 1024px)":{fontSize:"0.8rem"},"@media (min-width: 1280px)":{fontSize:"0.9rem"},"@media (min-width: 1536px)":{fontSize:"1rem"}}),O=g.d.label.withConfig({displayName:"ConfigOperadorModal__Label",componentId:"sc-1wq3xac-3"})(["@media (min-width:2560px){padding:0 12px !important;}"," & .st1{display:initial;transition:fill 0.2s ease-in-out;}&:hover .st1{fill:#3346ff;}"],{cursor:"pointer",position:"relative","@media (min-width: 768px)":{padding:"0 4px"}}),v=g.d.img.withConfig({displayName:"ConfigOperadorModal__Foto",componentId:"sc-1wq3xac-4"})([""," left:0;top:0;border-radius:100%;object-fit:cover;object-position:center;"],{position:"absolute",padding:"0 4px",width:"100%",height:"75%","@media (min-width: 1536px)":{height:"75%"}}),C=function(){var e=Object(o.a)(r.a.mark((function e(t){var i,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=s.renombrarPropiedadesAnidadas,e.next=3,Object(s.customFetch)("/operators/list?expand=profiles.letters.client,profiles.operator,paused_profiles.operator");case 3:e.t1=e.sent.data,i=(0,e.t0)(e.t1),a=null===i||void 0===i?void 0:i.filter((function(e){return e.id===t}))[0],l.b.setQueryData("operadores",(function(e){if(e){var i=e.findIndex((function(e){return e.id===t}));return e[i]=a,e}}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=Object(g.d)("div").withConfig({displayName:"ConfigOperadorModal___StyledDiv",componentId:"sc-1wq3xac-5"})({padding:"0.5rem"}),S=Object(g.d)("div").withConfig({displayName:"ConfigOperadorModal___StyledDiv2",componentId:"sc-1wq3xac-6"})({display:"flex",justifyContent:"center","--tw-text-opacity":"1",color:"rgba(243, 244, 246, var(--tw-text-opacity))","@media (min-width: 768px)":{padding:"0.25rem"}}),I=Object(g.d)("div").withConfig({displayName:"ConfigOperadorModal___StyledDiv3",componentId:"sc-1wq3xac-7"})({display:"flex",justifyContent:"center","@media (min-width: 768px)":{padding:"0.5rem"}}),D=Object(g.d)("div").withConfig({displayName:"ConfigOperadorModal___StyledDiv4",componentId:"sc-1wq3xac-8"})({display:"flex",alignItems:"center",gap:"1rem","--tw-text-opacity":"1",color:"rgba(243, 244, 246, var(--tw-text-opacity))"}),M=Object(g.d)("div").withConfig({displayName:"ConfigOperadorModal___StyledDiv5",componentId:"sc-1wq3xac-9"})({display:"flex",justifyContent:"center","@media (min-width: 768px)":{padding:"0.5rem"}}),k=Object(g.d)("div").withConfig({displayName:"ConfigOperadorModal___StyledDiv6",componentId:"sc-1wq3xac-10"})({display:"flex",justifyContent:"center","--tw-text-opacity":"1",color:"rgba(243, 244, 246, var(--tw-text-opacity))","@media (min-width: 768px)":{padding:"0.25rem"}}),T=Object(g.d)("div").withConfig({displayName:"ConfigOperadorModal___StyledDiv7",componentId:"sc-1wq3xac-11"})({display:"flex",justifyContent:"center","--tw-text-opacity":"1",color:"rgba(243, 244, 246, var(--tw-text-opacity))","@media (min-width: 768px)":{padding:"0.25rem"}}),R=Object(g.d)("div").withConfig({displayName:"ConfigOperadorModal___StyledDiv8",componentId:"sc-1wq3xac-12"})({padding:"0.5rem"}),F=Object(g.d)("div").withConfig({displayName:"ConfigOperadorModal___StyledDiv9",componentId:"sc-1wq3xac-13"})({display:"flex",justifyContent:"center","@media (min-width: 768px)":{paddingBottom:"0.25rem",gap:"0.5rem"}}),N=Object(g.d)("button").withConfig({displayName:"ConfigOperadorModal___StyledButton",componentId:"sc-1wq3xac-14"})(["",""],(function(e){return e._css}));t.default=function(e){var t=e.operadorSeleccionadoId,i=e.setshowConfigModal,n=Object(l.d)(["operador",t],s.fetchOperador),m=n.data,f=n.isLoading,g=null===m||void 0===m?void 0:m.nombre,z=null===m||void 0===m?void 0:m.cedula,L=t,q=null===m||void 0===m?void 0:m.foto,A=u.a.get("role"),E=Object(p.useRef)(),P=Object(p.useRef)(),B=Object(p.useRef)(),W=Object(p.useRef)(),G=Object(p.useState)(null),H=Object(a.a)(G,2),U=H[0],Y=H[1],Q=Object(p.useState)(null),V=Object(a.a)(Q,2),J=V[0],X=V[1],K=Object(p.useRef)(),Z=Object(p.useCallback)((function(){var e=new FileReader;e.onload=function(e){var t=new Image;t.src=e.target.result;var i=e.target.result.split(":")[1].split(";")[0];t.onload=function(){var e=document.createElement("canvas"),a=t.width,n=t.height;a>n?a>200&&(n*=200/a,a=200):n>200&&(a*=200/n,n=200),e.width=a,e.height=n,e.getContext("2d").drawImage(t,0,0,a,n),Y(e.toDataURL(i))},P.current.height=P.current.width},K.current.files[0]&&e.readAsDataURL(K.current.files[0])}),[]),$=function(){var e=Object(o.a)(r.a.mark((function e(t){var a,n,o,d,c,p,m;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.id,n=t.nombre,o=t.base64,d=encodeURIComponent(o),c=g!==n?"&name=".concat(n):"",p="admin"===A&&""!==B.current.value?"&password=".concat(Object(x.sha256)(B.current.value)):"",m=void 0!==o&&null!==o&&"admin"===A?"&photo=".concat(d):"",""!==c||""!==p||""!==m){e.next=7;break}return e.abrupt("return",i(!1));case 7:return e.prev=7,e.next=10,Object(s.customFetch)("/operators/update-info",{headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"id=".concat(a).concat(c).concat(m).concat(p),method:"POST"});case 10:l.b.invalidateQueries("operador"),i(!1),C(a),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(7),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[7,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsx)(c.a,{setShowModal:i,children:Object(b.jsx)(_,{children:f?Object(b.jsx)(h.a,{}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(S,{children:Object(b.jsx)(O,{children:Object(b.jsx)(j,{type:"text",value:z,disabled:!0})})}),Object(b.jsx)(I,{children:Object(b.jsx)(D,{children:Object(b.jsx)(O,{children:Object(b.jsx)(j,{ref:E,type:"text",defaultValue:g,placeholder:"Nombre"})})})}),"admin"===A?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)(M,{children:[Object(b.jsx)(j,{ref:K,onChange:Z,name:"foto",id:"foto",type:"file",accept:"image/png, image/jpeg"}),Object(b.jsxs)(O,{id:"fotolabel",htmlFor:"foto",children:[Object(b.jsx)(d.a,{}),Object(b.jsx)(y,{children:"Subir Foto"}),Object(b.jsx)(v,{ref:P,src:null===U?q:U})]})]}),Object(b.jsx)(k,{children:Object(b.jsx)(O,{children:Object(b.jsx)(j,{ref:B,type:"password",placeholder:"Contrase\xf1a"})})}),Object(b.jsx)(T,{children:Object(b.jsx)(O,{children:Object(b.jsx)(j,{ref:W,type:"password",placeholder:"Repite Contrase\xf1a"})})})]}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("input",{ref:B,type:"hidden"}),Object(b.jsx)("input",{ref:W,type:"hidden"}),Object(b.jsx)("input",{ref:K,type:"hidden"})]}),Object(b.jsx)(R,{children:J?Object(b.jsx)(w,{children:J}):null}),Object(b.jsx)(F,{children:Object(b.jsx)(N,{onClick:function(e){e.preventDefault(),B.current.value===W.current.value?$({id:L,nombre:E.current.value,base64:U,password:B.current.value}):X("Las contrase\xf1as deben ser iguales")},_css:[{"--tw-bg-opacity":"1",backgroundColor:"rgba(37, 99, 235, var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgba(243, 244, 246, var(--tw-text-opacity))","@media (min-width: 768px)":{borderRadius:"0.375rem",fontSize:"0.7rem",padding:"0.25rem"},"@media (min-width: 1024px)":{borderRadius:"0.5rem",fontSize:"0.8rem"},"@media (min-width: 1280px)":{borderRadius:"0.75rem",fontSize:"0.9rem",padding:"0.5rem"},"@media (min-width: 1536px)":{borderRadius:"1rem",fontSize:"1rem"}},"@media (min-width: 2560px) { line-height: 1rem !important; font-size: 1rem !important; padding: 0.5rem !important; }"],children:"Guardar"})})]})})})}},440:function(e,t,i){"use strict";i.r(t);var a=i(4),n=i(9),r=i(1),o=i.n(r),d=i(6),c=i(5),s=i(83),p=i(7),l=i(10),m=i(125),u=i(0),f=i(122),h=i(116),g=i(13),x=i.n(g),b=i(248),j=i(101),w=i(41),y=i(2),O=function(){var e=Object(d.a)(o.a.mark((function e(t,i,a){var n,r,d,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=new Date(a,i,0).getDate(),r=(new Date).getFullYear()+"-"+((new Date).getMonth()+1)+"-"+n,(d=a+"-"+i+"-"+n)===r){e.next=11;break}return e.t0=p.renombrarPropiedadesAnidadas,e.next=7,Object(p.customFetch)("/operators/list?expand=profiles.letters.client,profiles.operator,paused_profiles.operator&CustomDay=".concat(d));case 7:e.t1=e.sent.data,c=(0,e.t0)(e.t1),e.next=16;break;case 11:return e.t2=p.renombrarPropiedadesAnidadas,e.next=14,Object(p.customFetch)("/operators/list?expand=profiles.letters.client,profiles.operator,paused_profiles.operator");case 14:e.t3=e.sent.data,c=(0,e.t2)(e.t3);case 16:return e.abrupt("return",c);case 17:case"end":return e.stop()}}),e)})));return function(t,i,a){return e.apply(this,arguments)}}(),v=function(){var e=Object(d.a)(o.a.mark((function e(t,i,a,n){var r,d,c,s,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",null);case 2:return r=new Date(a,i,0).getDate(),d=(new Date).getFullYear()+"-"+((new Date).getMonth()+1)+"-"+r,s="",(c=a+"-"+i+"-"+r)!==d&&(s="&CustomDay="+c),e.next=9,Object(p.customFetch)("/operators/graphics?".concat(s));case 9:return l=e.sent,e.abrupt("return",l);case 11:case"end":return e.stop()}}),e)})));return function(t,i,a,n){return e.apply(this,arguments)}}(),C=Object(u.lazy)((function(){return i.e(27).then(i.bind(null,415))})),_=Object(u.lazy)((function(){return Promise.all([i.e(2),i.e(24)]).then(i.bind(null,416))})),S=c.d.div.withConfig({displayName:"Operadores__OperadoresDiv",componentId:"sc-1pye1q6-0"})(["@media (min-width:2560px){padding-top:20px !important;padding-right:10px !important;padding-left:16px !important;grid-gap:32px !important;}"," ",""],{marginTop:"12px",paddingBottom:"20px",gridTemplateColumns:"repeat(4, minmax(0, 1fr))",display:"grid",alignItems:"flex-start",overflowX:"hidden","@media (min-width: 768px)":{paddingTop:"5px",paddingRight:"2px",paddingLeft:"2px",gap:"6px"},"@media (min-width: 1024px)":{gap:"10px",paddingTop:"10px",paddingRight:"5px"},"@media (min-width: 1280px)":{gap:"12px",paddingTop:"12px",paddingRight:"6px",paddingLeft:"4px"}},s.b),I=c.d.div.withConfig({displayName:"Operadores__DivRadio",componentId:"sc-1pye1q6-1"})(['input[type="radio"]{@media (min-width:2560px){width:16px !important;height:16px !important;margin-right:8px !important;border:2px solid #4c4c3f !important;}'," appearance:none;}input:checked{@media (min-width:2560px){border:6px solid #4c4c3f !important;}","}"],{width:"4px",height:"4px",cursor:"pointer",borderRadius:"50%","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))","@media (min-width: 768px)":{width:"6px",height:"6px",marginRight:"2px",border:"1px solid #4c4c3f"},"@media (min-width: 1024px)":{width:"8px",height:"8px"},"@media (min-width: 1280px)":{width:"12px",height:"12px"}},{border:"1px solid #4c4c3f","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))","@media (min-width: 768px)":{border:"2px solid #4c4c3f"},"@media (min-width: 1024px)":{border:"4px solid #4c4c3f"},"@media (min-width: 1280px)":{border:"4px solid #4c4c3f"}}),D=Object(c.d)(I).withConfig({displayName:"Operadores___StyledDivRadio2",componentId:"sc-1pye1q6-4"})({display:"flex",flexDirection:"column","--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))","@media (min-width: 768px)":{paddingLeft:"0.25rem",paddingRight:"0.25rem",paddingTop:"0.25rem",paddingBottom:"0.25rem",borderRadius:"0.375rem"},"@media (min-width: 1024px)":{borderRadius:"0.5rem"},"@media (min-width: 1280px)":{paddingLeft:"0.5rem",paddingRight:"0.5rem",paddingTop:"0.375rem",paddingBottom:"0.375rem",borderRadius:"0.75rem"},"@media (min-width: 1536px)":{borderRadius:"1rem"}}),M=Object(c.d)(I).withConfig({displayName:"Operadores___StyledDivRadio",componentId:"sc-1pye1q6-5"})({display:"flex",flexDirection:"column","--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))","@media (min-width: 768px)":{paddingLeft:"0.25rem",paddingRight:"0.25rem",paddingTop:"0.25rem",paddingBottom:"0.25rem",borderRadius:"0.375rem"},"@media (min-width: 1024px)":{borderRadius:"0.5rem"},"@media (min-width: 1280px)":{paddingLeft:"0.5rem",paddingRight:"0.5rem",paddingTop:"0.375rem",paddingBottom:"0.375rem",borderRadius:"0.75rem"},"@media (min-width: 1536px)":{borderRadius:"1rem"}}),k=function(){var e=Object(d.a)(o.a.mark((function e(t,i,a,n){var r,d,c,s,m;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new Date(n,a,0).getDate(),d=(new Date).getFullYear()+"-"+((new Date).getMonth()+1)+"-"+r,s="",(c=n+"-"+a+"-"+r)!==d&&(s="&CustomDay="+c),e.next=7,Promise.all([Object(p.customFetch)("/feeds/all-operators-summary?tiempo=dia".concat(s)),Object(p.customFetch)("/feeds/all-operators-summary?tiempo=mes".concat(s))]);case 7:return m=e.sent,l.b.invalidateQueries("feedsSummary"),e.abrupt("return",Object(p.renombrarPropiedadesAnidadas)({summaryDia:m[0],summaryMes:m[1]}));case 10:case"end":return e.stop()}}),e)})));return function(t,i,a,n){return e.apply(this,arguments)}}(),T=Object(c.d)("div").withConfig({displayName:"Operadores___StyledDiv",componentId:"sc-1pye1q6-2"})(["@media (min-width:2560px){grid-gap:0.5rem !important;}"]),R=Object(c.d)(T).withConfig({displayName:"Operadores___Styled_StyledDiv",componentId:"sc-1pye1q6-6"})({display:"flex",alignItems:"center","@media (min-width: 768px)":{gap:"0.125rem",paddingLeft:"0.5rem",paddingRight:"0.5rem",paddingTop:"0.375rem",paddingBottom:"0.375rem"},"@media (min-width: 1024px)":{paddingLeft:"0.75rem",paddingRight:"0.75rem"},"@media (min-width: 1280px)":{gap:"0.25rem"}}),F=Object(c.d)(h.a).withConfig({displayName:"Operadores___StyledContextMenu",componentId:"sc-1pye1q6-3"})(["@media (min-width:2560px){font-size:1rem !important;}"]),N=Object(c.d)(F).withConfig({displayName:"Operadores___Styled_StyledContextMenu",componentId:"sc-1pye1q6-7"})({"@media (min-width: 768px)":{fontSize:"0.3rem"},"@media (min-width: 1024px)":{fontSize:"0.5rem"},"@media (min-width: 1280px)":{fontSize:"0.7rem"}}),z=Object(c.d)("label").withConfig({displayName:"Operadores___StyledLabel",componentId:"sc-1pye1q6-8"})({display:"flex",alignItems:"center",justifyContent:"space-between","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))","@media (min-width: 768px)":{gap:"0.125rem"},"@media (min-width: 1024px)":{gap:"0.375rem"}}),L=Object(c.d)("label").withConfig({displayName:"Operadores___StyledLabel2",componentId:"sc-1pye1q6-9"})({display:"flex",alignItems:"center",justifyContent:"space-between","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))","@media (min-width: 768px)":{gap:"0.125rem"},"@media (min-width: 1024px)":{gap:"0.375rem"}}),q=Object(c.d)("label").withConfig({displayName:"Operadores___StyledLabel3",componentId:"sc-1pye1q6-10"})({display:"flex",alignItems:"center",justifyContent:"space-between","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))","@media (min-width: 768px)":{gap:"0.125rem"},"@media (min-width: 1024px)":{gap:"0.375rem"},"@media (min-width: 1280px)":{gap:"0.5rem"}}),A=Object(c.d)("label").withConfig({displayName:"Operadores___StyledLabel4",componentId:"sc-1pye1q6-11"})({display:"flex",alignItems:"center",justifyContent:"space-between","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))","@media (min-width: 768px)":{gap:"0.125rem"},"@media (min-width: 1024px)":{gap:"0.375rem"},"@media (min-width: 1280px)":{gap:"0.5rem"}});t.default=function(e){var t,i=e.year,r=e.month,o=e.entidadSeleccionadaFeed,d=e.orden,c=e.multasOAvisos,s=e.typeWidth,g=e.operatorSort,I=e.setTypeFichaTecnica,T=e.setProfileIdFichaTecnica,F=e.setIdFichaTecnica,E=e.setShowFichaTecnica,P=e.setShowModal,B=e.setDataEntities,W=e.modeGraphics,G=x.a.get("role"),H=Object(l.d)(["operadores",r,i],O),U=H.data,Y=H.status,Q=Object(l.d)(["feedsSummary","",r,i],k),V=Q.data,J=Q.status,X=Object(l.d)(["operators-graphics",r,i,W],v),K=X.data,Z=X.status,$=Object(u.useContext)(f.b),ee=Object(u.useState)(!1),te=Object(n.a)(ee,2),ie=te[0],ae=te[1],ne=Object(u.useState)(!1),re=Object(n.a)(ne,2),oe=re[0],de=re[1],ce=Object(u.useState)(0),se=Object(n.a)(ce,2),pe=se[0],le=se[1],me=Object(l.d)(["supervisores"],p.fetchSupervisores).data,ue=Object(u.useState)(!1),fe=Object(n.a)(ue,2),he=fe[0],ge=fe[1],xe=Object(u.useState)("bonus"),be=Object(n.a)(xe,2),je=be[0],we=be[1],ye=Object(u.useState)("puntos"),Oe=Object(n.a)(ye,2),ve=Oe[0],Ce=Oe[1],_e=Object(p.useFilterGraphFilter)();return Object(y.jsx)(y.Fragment,{children:"loading"===Y||"loading"===J||"loading"===Z?Object(y.jsx)(w.a,{}):Object(y.jsxs)(y.Fragment,{children:[W?Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)(R,{children:[Object(y.jsxs)(M,{children:[Object(y.jsxs)(z,{children:["Puntos",Object(y.jsx)("input",{type:"radio",name:"puntosorservicio",checked:"puntos"===ve,onChange:function(){return Ce("puntos")}})]}),Object(y.jsxs)(L,{children:["Cantidad",Object(y.jsx)("input",{type:"radio",name:"puntosorservicio",checked:"servicio"===ve,onChange:function(){return Ce("servicio")}})]})]}),Object(y.jsxs)(D,{children:[Object(y.jsxs)(q,{children:["Bonus",Object(y.jsx)("input",{type:"radio",name:"bonusorwriteoff",checked:"bonus"===je,onChange:function(){return we("bonus")}})]}),Object(y.jsxs)(A,{children:["Writeoff",Object(y.jsx)("input",{type:"radio",name:"bonusorwriteoff",checked:"writeoff"===je,onChange:function(){return we("writeoff")}})]})]}),("bonus"===je?p.bonusTypes:p.writeoffTypes).map((function(e,t){var i=e.name,a=e.value;return"todos"===a?null:Object(y.jsx)(j.a,{text:i,checked:_e["show"+i.replace(/ /g,"")],setChecked:_e["setShow"+i.replace(/ /g,"")],color:p.contrastingHexColors[t],service:a,filter:_e,mode:"sm",total:"puntos"===ve?Object(p.number_format)((null===K||void 0===K?void 0:K.reduce((function(e,t){var i=t.graphics_data,n=0;return Object.values(null!==i&&void 0!==i?i:{}).forEach((function(e){var t,i;n+=null!==(t=null===e||void 0===e||null===(i=e.points[je])||void 0===i?void 0:i[a])&&void 0!==t?t:0})),e+n}),0))/10,2,",","")+"\ud83d\udc8e":Math.floor(null===K||void 0===K?void 0:K.reduce((function(e,t){var i=t.graphics_data,n=0;return Object.values(null!==i&&void 0!==i?i:{}).forEach((function(e){var t,i;n+=null!==(t=null===e||void 0===e||null===(i=e.count[je])||void 0===i?void 0:i[a])&&void 0!==t?t:0})),e+n}),0))},i)}))]})}):null,Object(y.jsxs)(S,{children:[null===U||void 0===U||null===(t=U.sort((function(e,t){return"dia"===d?t.progresoDia-e.progresoDia:t.progresoMes-e.progresoMes})))||void 0===t?void 0:t.filter((function(e){return"offline"===g?!1===e.pausado&&0===e.perfiles.length:"online"===g?e.perfiles.length>0:e.nombre}),[g]).map((function(e){var t,i;if("supervisor"===o.entity){var n=o.ids;if(!n.includes(e.supervisorId)&&!n.includes(e.id)&&!(null!==me&&void 0!==me?me:[]).filter((function(e){return n.includes(e.id)})).map((function(e){return e.substitute})).includes(+e.id))return null}for(var r=0,d=0;d<((null===$||void 0===$?void 0:$.length)||-1);d++){var p;if(e.id===+(null!==(p=$[d].extraUserId)&&void 0!==p?p:$[d].userId)&&"feeds"===$[d].tablename){var l=new Date($[d].timestamp);r=Date.UTC(l.getFullYear(),l.getMonth(),l.getDate(),l.getHours(),l.getMinutes(),l.getSeconds(),l.getMilliseconds());break}}return Object(y.jsxs)(u.Fragment,{children:[Object(y.jsx)(h.b,{id:""+e.id,children:Object(y.jsx)(m.a,Object(a.a)(Object(a.a)({setShowModal:P,setDataEntities:B,typeWidth:s},Object(a.a)(Object(a.a)({},e),{},{summary1:null===V||void 0===V?void 0:V.summaryDia[e.id],summary2:null===V||void 0===V?void 0:V.summaryMes[e.id],puntos1:e.progresoDia,puntos2:e.progresoMes,latestFeedTimestamp:r,usarMultasOAvisos:c,modeGraphics:W,graphics_data:{filter:_e,data:null!==(t=null===K||void 0===K||null===(i=K.find((function(t){return t.id===e.id})))||void 0===i?void 0:i.graphics_data)&&void 0!==t?t:[],showPuntosOrServicio:ve,showBonusOrWriteoff:je}})),{},{tipoEntidad:"operador"}))}),Object(y.jsxs)(N,{id:""+e.id,children:["admin"===G?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(h.c,{onClick:function(){ge(!0),le(e.id)},children:"Configurar"}),Object(y.jsx)(h.c,{onClick:function(){E(!0),I("operator"),T(-1),F(e.id)},children:"Ficha Tecnica"})]}):null,Object(y.jsx)(h.c,{onClick:function(){ae(!0),le(e.id)},children:"Ver multas"}),Object(y.jsx)(h.c,{onClick:function(){de(!0),le(e.id)},children:"Ver progreso de metas"})]})]},e.id)})),ie?Object(y.jsx)(u.Suspense,{fallback:Object(y.jsx)("div",{children:"Loading..."}),children:Object(y.jsx)(C,{operadorId:pe,setShowMultasModal:ae})}):null,oe?Object(y.jsx)(u.Suspense,{fallback:Object(y.jsx)("div",{children:"Loading..."}),children:Object(y.jsx)(_,{operadorId:pe,setShowMetasOperadorModal:de})}):null,he?Object(y.jsx)(u.Suspense,{fallback:Object(y.jsx)("div",{children:"Loading..."}),children:Object(y.jsx)(b.default,{operadorSeleccionadoId:pe,setshowConfigModal:ge})}):null]})]})})}}}]);