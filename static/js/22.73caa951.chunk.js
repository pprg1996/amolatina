(this.webpackJsonpivan=this.webpackJsonpivan||[]).push([[22],{408:function(t,e,i){"use strict";i.r(e);var n=i(4),d=i(9),o=i(1),a=i.n(o),r=i(8),l=i(86),c=i(6),s=i(0),u=i.n(s),p=i(10),m=i(81),b=i(41),g=i(5),h=i(53),f=i(54),j=i(57),v=i(2),x=function(){var t=Object(r.a)(a.a.mark((function t(e,i){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i){t.next=2;break}return t.abrupt("return",null);case 2:return t.next=4,Object(c.customFetch)("/clients/info-client?id=".concat(i));case 4:return t.next=6,t.sent.data;case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})));return function(e,i){return t.apply(this,arguments)}}(),w=function(){var t=Object(r.a)(a.a.mark((function t(e,i){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&i){t.next=2;break}return t.abrupt("return",null);case 2:return t.next=4,Object(c.customFetch)("/clients/translate-text?text=".concat(e,"&lang=").concat(i));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})));return function(e,i){return t.apply(this,arguments)}}(),y=g.d.input.withConfig({displayName:"ModalChat__Input",componentId:"sc-1fddwaj-0"})({appearance:"none",backgroundColor:"transparent",fontSize:"1rem",fontWeight:"500","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",marginLeft:"1rem",marginRight:"1rem",flex:"1 1 auto",borderBottomWidth:"2px",paddingLeft:"0.25rem",paddingRight:"0.25rem"}),_=Object(g.d)(y).withConfig({displayName:"ModalChat___StyledInput2",componentId:"sc-1fddwaj-1"})({width:"90%",marginTop:"8px"}),C=Object(g.d)(y).withConfig({displayName:"ModalChat___StyledInput",componentId:"sc-1fddwaj-2"})({width:"auto",cursor:"pointer"}),O=g.d.span.withConfig({displayName:"ModalChat__Fecha",componentId:"sc-1fddwaj-3"})(["@media (min-width:2560px){font-size:0.625em !important;}",""],{"--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",fontSize:"0.3rem",letterSpacing:"0.08em",marginLeft:"1.5em",marginRight:"1.5em",fontWeight:"700","@media (min-width: 1024px)":{fontSize:"0.4rem"},"@media (min-width: 1280px)":{fontSize:"0.5rem"}}),k=g.d.button.withConfig({displayName:"ModalChat__Button",componentId:"sc-1fddwaj-4"})(["@media (min-width:2560px){padding:4px 8px !important;margin-bottom:12px !important;}@media (min-height:1000px) and (max-width:767px) and (min-width:651px){padding:4px 8px !important;margin-bottom:12px !important;}@media (min-width:401px) and (max-width:650px) and (min-height:1000px){padding:2px 4px !important;margin-bottom:8px !important;}@media (max-height:999px) and (min-width:651px) and (max-width:767px){padding:2px 4px !important;margin-bottom:8px !important;}@media (min-width:401px) and (max-width:650px) and (max-height:999px){padding:2px 4px !important;margin-bottom:4px !important;}@media (max-width:400px) and (max-height:999px){padding:1px 2px !important;margin-bottom:2px !important;}"," border:1px solid #4c4c3f;transition:background-color 0.15s linear;"],{"--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",padding:"1.5px 3px",borderRadius:"8px",marginBottom:"4px",":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgba(76, 76, 63, var(--tw-bg-opacity))"},"@media (min-width: 1024px)":{padding:"3px 6px",marginBottom:"6px"},"@media (min-width: 1280px)":{padding:"4px 8px",marginBottom:"10px"}}),I=Object(g.d)("div").withConfig({displayName:"ModalChat___StyledDiv",componentId:"sc-1fddwaj-5"})(["",""],(function(t){return t._css})),S=Object(g.d)("div").withConfig({displayName:"ModalChat___StyledDiv2",componentId:"sc-1fddwaj-6"})(["",""],(function(t){return t._css2})),N=Object(g.d)("audio").withConfig({displayName:"ModalChat___StyledAudio",componentId:"sc-1fddwaj-7"})({width:"400px"}),M=Object(g.d)("div").withConfig({displayName:"ModalChat___StyledDiv3",componentId:"sc-1fddwaj-8"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(31, 31, 38, var(--tw-bg-opacity))",borderRadius:"1rem",padding:"0.5rem"}),D=Object(g.d)("img").withConfig({displayName:"ModalChat___StyledImg",componentId:"sc-1fddwaj-9"})({height:"300px",width:"auto",borderRadius:"2rem",cursor:"pointer"}),R=Object(g.d)("div").withConfig({displayName:"ModalChat___StyledDiv4",componentId:"sc-1fddwaj-10"})(["",""],(function(t){return t._css3})),B=Object(g.d)("video").withConfig({displayName:"ModalChat___StyledVideo",componentId:"sc-1fddwaj-11"})({height:"300px",width:"auto",borderRadius:"2rem"}),F=Object(g.d)("div").withConfig({displayName:"ModalChat___StyledDiv5",componentId:"sc-1fddwaj-12"})({display:"flex",alignItems:"center",justifyContent:"center",width:"100%"}),T=Object(g.d)(h.a).withConfig({displayName:"ModalChat___StyledEmailArrowLeftRedSvg",componentId:"sc-1fddwaj-13"})({width:"2rem",height:"2rem",marginTop:"0.25rem",marginBottom:"0.25rem"}),W=Object(g.d)(f.a).withConfig({displayName:"ModalChat___StyledEmailArrowRightGreenSvg",componentId:"sc-1fddwaj-14"})({width:"2rem",height:"2rem",marginTop:"0.25rem",marginBottom:"0.25rem"}),z=Object(g.d)("div").withConfig({displayName:"ModalChat___StyledDiv6",componentId:"sc-1fddwaj-15"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(31, 31, 38, var(--tw-bg-opacity))",borderRadius:"1rem",padding:"0.5rem",borderWidth:"4px","--tw-border-opacity":"1",borderColor:"rgba(245, 158, 11, var(--tw-border-opacity))"}),A=Object(g.d)("div").withConfig({displayName:"ModalChat___StyledDiv7",componentId:"sc-1fddwaj-16"})(["",""],(function(t){return t._css4})),L=Object(g.d)("div").withConfig({displayName:"ModalChat___StyledDiv8",componentId:"sc-1fddwaj-17"})({display:"flex",justifyContent:"flex-end"}),E=Object(g.d)("button").withConfig({displayName:"ModalChat___StyledButton",componentId:"sc-1fddwaj-18"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))",borderRadius:"1rem",fontWeight:"700",padding:"0.5rem",margin:"0.25rem"}),H=Object(g.d)("div").withConfig({displayName:"ModalChat___StyledDiv9",componentId:"sc-1fddwaj-19"})(["",""],(function(t){return t._css5})),P=Object(g.d)("button").withConfig({displayName:"ModalChat___StyledButton2",componentId:"sc-1fddwaj-20"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))",borderRadius:"1rem",padding:"0.25rem"}),V=Object(g.d)("div").withConfig({displayName:"ModalChat___StyledDiv10",componentId:"sc-1fddwaj-21"})(["",""],(function(t){return t._css6})),G=Object(g.d)("button").withConfig({displayName:"ModalChat___StyledButton3",componentId:"sc-1fddwaj-22"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))",borderRadius:"1rem",padding:"0.25rem"}),J=Object(g.d)("div").withConfig({displayName:"ModalChat___StyledDiv11",componentId:"sc-1fddwaj-23"})({display:"flex",flexShrink:"1",gap:"0.5rem"}),X=Object(g.d)("img").withConfig({displayName:"ModalChat___StyledImg2",componentId:"sc-1fddwaj-24"})({width:"75px",height:"75px",cursor:"pointer",borderRadius:"1rem"}),Y=Object(g.d)("div").withConfig({displayName:"ModalChat___StyledDiv12",componentId:"sc-1fddwaj-25"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(31, 31, 38, var(--tw-bg-opacity))",borderRadius:"1rem",padding:"0.5rem"}),q=Object(g.d)("img").withConfig({displayName:"ModalChat___StyledImg3",componentId:"sc-1fddwaj-26"})({height:"300px",width:"auto",borderRadius:"2rem"}),K=Object(g.d)("div").withConfig({displayName:"ModalChat___StyledDiv13",componentId:"sc-1fddwaj-27"})({width:"340px"}),Q=Object(g.d)("div").withConfig({displayName:"ModalChat___StyledDiv14",componentId:"sc-1fddwaj-28"})({display:"flex",alignItems:"center",justifyContent:"center",width:"100%"}),U=Object(g.d)(j.a).withConfig({displayName:"ModalChat___StyledGiftBagSvg",componentId:"sc-1fddwaj-29"})({width:"2rem",height:"2rem",marginTop:"0.25rem",marginBottom:"0.25rem"}),Z=Object(g.d)("div").withConfig({displayName:"ModalChat___StyledDiv15",componentId:"sc-1fddwaj-30"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(31, 31, 38, var(--tw-bg-opacity))",borderRadius:"1rem",display:"flex",alignItems:"center",justifyContent:"center",width:"100%"}),$=Object(g.d)("img").withConfig({displayName:"ModalChat___StyledImg4",componentId:"sc-1fddwaj-31"})({height:"300px",width:"auto",borderRadius:"2rem"}),tt=Object(g.d)("div").withConfig({displayName:"ModalChat___StyledDiv16",componentId:"sc-1fddwaj-32"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(31, 31, 38, var(--tw-bg-opacity))",borderRadius:"1rem",padding:"0.5rem"}),et=Object(g.d)("div").withConfig({displayName:"ModalChat___StyledDiv17",componentId:"sc-1fddwaj-33"})(["",""],(function(t){return t._css7})),it=Object(g.d)("button").withConfig({displayName:"ModalChat___StyledButton4",componentId:"sc-1fddwaj-34"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))",borderRadius:"1rem",padding:"0.25rem"}),nt=Object(g.d)("div").withConfig({displayName:"ModalChat___StyledDiv18",componentId:"sc-1fddwaj-35"})(["",""],(function(t){return t._css8})),dt=Object(g.d)("button").withConfig({displayName:"ModalChat___StyledButton5",componentId:"sc-1fddwaj-36"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))",borderRadius:"1rem",padding:"0.25rem"}),ot=function(t){var e,i,n,o,l,s,p,m,b,g,h,f,j,x,w,y,_,C,k=t.justify,ot=t.data,at=t.keyNum,rt=t.TranslateTextData,lt=u.a.useState(!1),ct=Object(d.a)(lt,2),st=ct[0],ut=ct[1],pt=u.a.useState(!1),mt=Object(d.a)(pt,2),bt=mt[0],gt=mt[1],ht=u.a.useState(!1),ft=Object(d.a)(ht,2),jt=ft[0],vt=ft[1],xt=new Date(null===ot||void 0===ot?void 0:ot.timestamp),wt=xt.getHours(),yt=xt.getDate();yt=yt<10?"0".concat(yt):yt;var _t=xt.getMinutes();_t=_t<10?"0".concat(_t):_t;var Ct=Object(c.mesDelYear)(xt.getMonth()),Ot=xt.getFullYear(),kt=wt<12?"am":"pm",It=!1===st?null===ot||void 0===ot?void 0:ot.text:null===ot||void 0===ot?void 0:ot.text_translate;return Object(v.jsx)(I,{_css:[{display:"flex",marginTop:"0.25rem",marginBottom:"0.25rem",padding:"0.25rem",width:"100%"},"right"===k?{justifyContent:"flex-end"}:{justifyContent:"flex-start"}],children:Object(v.jsx)(S,{_css2:[{width:"50%",textAlign:"left",flexShrink:"1",display:"flex",flexDirection:"column"},"right"===k?{alignItems:"flex-end"}:{alignItems:"flex-start"}],children:Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(O,{children:[yt," de ",Ct," del ",Ot," - ",wt<13?wt:wt-12,":",_t," ",kt]}),"Voice message"===(null===ot||void 0===ot||null===(e=ot.text)||void 0===e?void 0:e.trim())?Object(v.jsx)(v.Fragment,{children:null===ot||void 0===ot||null===(i=ot.medialink)||void 0===i?void 0:i.filter((function(t){return"audio"===(null===t||void 0===t?void 0:t.type)})).map((function(t){return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("div",{w:"w-full",children:Object(v.jsx)(N,{controls:!0,src:null===t||void 0===t?void 0:t.link})})})}))}):"Sent image"===(null===ot||void 0===ot||null===(n=ot.text)||void 0===n?void 0:n.trim())?Object(v.jsx)(M,{children:null===ot||void 0===ot||null===(o=ot.medialink)||void 0===o?void 0:o.filter((function(t){return"image"===t.type})).map((function(t){return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("div",{children:Object(v.jsx)(D,{alt:"SendImage",src:null===t||void 0===t?void 0:t.link,onClick:function(t){return Object(c.toggleFullscreen)(t)},className:"canfullscreen"})})})}))}):"Sent you a video"===(null===ot||void 0===ot||null===(l=ot.text)||void 0===l?void 0:l.trim())?Object(v.jsx)(R,{_css3:[{"--tw-bg-opacity":"1",backgroundColor:"rgba(31, 31, 38, var(--tw-bg-opacity))",borderRadius:"1rem",padding:"0.5rem",display:"flex",flexDirection:"column"},"right"===k?{alignItems:"flex-end"}:{alignItems:"flex-start"}],children:null===ot||void 0===ot||null===(s=ot.medialink)||void 0===s?void 0:s.filter((function(t){return"video"===t.type})).map((function(t){return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("div",{children:Object(v.jsx)(B,{controls:!0,children:Object(v.jsx)("source",{src:null===t||void 0===t?void 0:t.link,type:"video/mp4"})})})})}))}):"Sent letter"===(null===ot||void 0===ot||null===(p=ot.text)||void 0===p?void 0:p.trim())?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(F,{children:"left"===k?Object(v.jsx)(T,{}):Object(v.jsx)(W,{})}),Object(v.jsx)(z,{children:Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(A,{_css4:[!1===bt?{overflow:"hidden",height:"5rem",flexWrap:"wrap"}:null],children:!1===st?(null===ot||void 0===ot||null===(m=ot.medialink)||void 0===m||null===(b=m.find((function(t){return"letter"===t.type})))||void 0===b||null===(g=b.link)||void 0===g?void 0:g.subject)+" "+(null===ot||void 0===ot||null===(h=ot.medialink)||void 0===h||null===(f=h.find((function(t){return"letter"===t.type})))||void 0===f||null===(j=f.link)||void 0===j?void 0:j.text):null===ot||void 0===ot?void 0:ot.text_translate}),!1===bt?Object(v.jsx)(L,{children:Object(v.jsx)(E,{onClick:function(){return gt(!0)},children:"Mostrar mas..."})}):null,jt?null:Object(v.jsx)(v.Fragment,{children:!1===st?Object(v.jsx)(H,{_css5:["right"===k?{textAlign:"right",justifyContent:"flex-start"}:{textAlign:"left",justifyContent:"flex-end"},"@media (min-width: 2560px) { font-size: 0.7rem !important; }",{fontSize:"0.4rem",fontWeight:"700",display:"flex"}],children:Object(v.jsx)(P,{onClick:Object(r.a)(a.a.mark((function t(){var e,i,n,d,o,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(vt(!0),""!==(null===ot||void 0===ot?void 0:ot.text_translate)){t.next=4;break}return t.next=4,rt(at,(null===ot||void 0===ot||null===(e=ot.medialink)||void 0===e||null===(i=e.find((function(t){return"letter"===t.type})))||void 0===i||null===(n=i.link)||void 0===n?void 0:n.subject)+" "+(null===ot||void 0===ot||null===(d=ot.medialink)||void 0===d||null===(o=d.find((function(t){return"letter"===t.type})))||void 0===o||null===(r=o.link)||void 0===r?void 0:r.text),ut);case 4:vt(!1);case 5:case"end":return t.stop()}}),t)}))),children:"Traducir"})}):Object(v.jsx)(V,{_css6:["right"!==k?{textAlign:"right"}:{textAlign:"left"},{fontSize:"0.4rem",fontWeight:"700"}],children:Object(v.jsx)(G,{onClick:function(){return ut(!1)},children:"Original"})})}),Object(v.jsx)(J,{children:null===ot||void 0===ot||null===(x=ot.medialink)||void 0===x?void 0:x.filter((function(t){return"image"===t.type})).map((function(t){return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("div",{children:Object(v.jsx)(X,{alt:"SendImage",src:null===t||void 0===t?void 0:t.link,onClick:function(t){return Object(c.toggleFullscreen)(t)},className:"canfullscreen"})})})}))})]})})]}):"Sent a sticker."===(null===ot||void 0===ot||null===(w=ot.text)||void 0===w?void 0:w.trim())?Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(Y,{children:null===ot||void 0===ot||null===(y=ot.medialink)||void 0===y?void 0:y.filter((function(t){return"image"===t.type})).map((function(t){return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("div",{children:Object(v.jsx)(q,{alt:"SendImage",src:null===t||void 0===t?void 0:t.link})})})}))})}):"Sent you a gift"===(null===ot||void 0===ot||null===(_=ot.text)||void 0===_?void 0:_.trim())?Object(v.jsxs)(K,{children:[Object(v.jsx)(Q,{children:Object(v.jsx)(U,{})}),Object(v.jsx)(Z,{children:null===ot||void 0===ot||null===(C=ot.medialink)||void 0===C?void 0:C.filter((function(t){return"image"===t.type})).map((function(t){return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("div",{children:Object(v.jsx)($,{alt:"SendImage",src:null===t||void 0===t?void 0:t.link})})})}))})]}):Object(v.jsx)(tt,{children:Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{children:It}),jt?null:Object(v.jsx)(v.Fragment,{children:!1===st?Object(v.jsx)(et,{_css7:[{fontSize:"0.4rem",textAlign:"left",fontWeight:"700"},"@media (min-width: 2560px) { font-size: 0.7rem !important; }"],children:Object(v.jsx)(it,{onClick:Object(r.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(vt(!0),""!==(null===ot||void 0===ot?void 0:ot.text_translate)){t.next=4;break}return t.next=4,rt(at,null===ot||void 0===ot?void 0:ot.text,ut);case 4:vt(!1);case 5:case"end":return t.stop()}}),t)}))),children:"Traducir"})}):Object(v.jsx)(nt,{_css8:["right"!==k?{textAlign:"right"}:{textAlign:"left"},{fontSize:"0.4rem",fontWeight:"700"}],children:Object(v.jsx)(dt,{onClick:function(){return ut(!1)},children:"Original"})})})]})})]})})},null===ot||void 0===ot?void 0:ot.id)},at=Object(g.d)("div").withConfig({displayName:"ModalChat___StyledDiv19",componentId:"sc-1fddwaj-37"})(["",""],(function(t){return t._css9})),rt=Object(g.d)("div").withConfig({displayName:"ModalChat___StyledDiv20",componentId:"sc-1fddwaj-38"})({fontWeight:"700",fontSize:"1rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",marginBottom:"0.5rem",width:"100%"}),lt=Object(g.d)("img").withConfig({displayName:"ModalChat___StyledImg5",componentId:"sc-1fddwaj-39"})({objectFit:"cover",borderRadius:"9999px",width:"50px",height:"50px"}),ct=Object(g.d)("div").withConfig({displayName:"ModalChat___StyledDiv21",componentId:"sc-1fddwaj-40"})({display:"flex",alignItems:"center"}),st=Object(g.d)("img").withConfig({displayName:"ModalChat___StyledImg6",componentId:"sc-1fddwaj-41"})(["",""],(function(t){return t._css10})),ut=Object(g.d)("div").withConfig({displayName:"ModalChat___StyledDiv22",componentId:"sc-1fddwaj-42"})(["",""],(function(t){return t._css11})),pt=Object(g.d)("button").withConfig({displayName:"ModalChat___StyledButton6",componentId:"sc-1fddwaj-43"})(["",""],(function(t){return t._css12})),mt=Object(g.d)("label").withConfig({displayName:"ModalChat___StyledLabel",componentId:"sc-1fddwaj-44"})({display:"flex",alignItems:"center",justifyContent:"space-between",paddingLeft:"0.5rem",paddingRight:"0.5rem",gap:"0.5rem",borderBottomWidth:"2px","--tw-border-opacity":"1",borderColor:"rgba(31, 41, 55, var(--tw-border-opacity))",paddingTop:"0.5rem",paddingBottom:"0.5rem",cursor:"pointer"}),bt=Object(g.d)("img").withConfig({displayName:"ModalChat___StyledImg7",componentId:"sc-1fddwaj-45"})(["",""],(function(t){return t._css13})),gt=Object(g.d)("button").withConfig({displayName:"ModalChat___StyledButton7",componentId:"sc-1fddwaj-46"})(["",""],(function(t){return t._css14})),ht=Object(g.d)("label").withConfig({displayName:"ModalChat___StyledLabel2",componentId:"sc-1fddwaj-47"})({display:"flex",alignItems:"center",justifyContent:"space-between",paddingLeft:"0.5rem",paddingRight:"0.5rem",gap:"0.5rem",borderBottomWidth:"2px","--tw-border-opacity":"1",borderColor:"rgba(31, 41, 55, var(--tw-border-opacity))",paddingTop:"0.5rem",paddingBottom:"0.5rem",cursor:"pointer"}),ft=Object(g.d)("img").withConfig({displayName:"ModalChat___StyledImg8",componentId:"sc-1fddwaj-48"})(["",""],(function(t){return t._css15})),jt=Object(g.d)("div").withConfig({displayName:"ModalChat___StyledDiv23",componentId:"sc-1fddwaj-49"})(["",""],(function(t){return t._css16})),vt=Object(g.d)("div").withConfig({displayName:"ModalChat___StyledDiv24",componentId:"sc-1fddwaj-50"})({display:"flex",justifyContent:"center",marginTop:"0.25rem",marginBottom:"0.25rem",padding:"0.25rem",width:"100%"}),xt=Object(g.d)("div").withConfig({displayName:"ModalChat___StyledDiv25",componentId:"sc-1fddwaj-51"})({width:"50%",textAlign:"center"}),wt=Object(g.d)("button").withConfig({displayName:"ModalChat___StyledButton8",componentId:"sc-1fddwaj-52"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(76, 76, 63, var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",padding:"0.5rem",borderRadius:"1rem"});e.default=function(t){var e,i,o,s,h,f,j,y,O,I,S,N,M,D=t.clientid,R=t.setShowChat,B=t.ProfileChat,F={send:"send"},T=Object(p.d)(["clientes",D],x).data,W=Object(p.d)(["perfiles"],c.fetchPerfiles).data,z=u.a.useRef(),A=u.a.useState(!1),L=Object(d.a)(A,2),E=L[0],H=L[1],P=u.a.useState(!1),V=Object(d.a)(P,2),G=V[0],J=V[1],X=u.a.useState(F),Y=Object(d.a)(X,2),q=Y[0],K=Y[1],Q=u.a.useState(""),U=Object(d.a)(Q,2),Z=U[0],$=U[1],tt=u.a.useState(!1),et=Object(d.a)(tt,2),it=et[0],nt=et[1],dt=u.a.useState(B),yt=Object(d.a)(dt,2),_t=yt[0],Ct=yt[1],Ot=u.a.useState(1),kt=Object(d.a)(Ot,2),It=kt[0],St=kt[1],Nt=function(){var t=Object(r.a)(a.a.mark((function t(e,i,d,o){var r,l;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&i&&d){t.next=2;break}return t.abrupt("return",null);case 2:return t.next=4,Object(c.customFetch)("/clients/client-chat?clientId=".concat(e,"&profileId=").concat(i,"&page=").concat(d));case 4:if(r=t.sent,!(d>1)){t.next=11;break}return l=Object(n.a)(Object(n.a)({},r),q),o(!0),t.abrupt("return",K(l));case 11:return o(!0),K(r),setTimeout((function(){var t=document.getElementById("ChatClient").scrollHeight;document.getElementById("ChatClient").scrollTop=t}),500),t.abrupt("return");case 15:case"end":return t.stop()}}),t)})));return function(e,i,n,d){return t.apply(this,arguments)}}(),Mt=function(){var t=Object(r.a)(a.a.mark((function t(e,i,n){var d,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e||i){t.next=2;break}return t.abrupt("return",null);case 2:return t.next=4,w(i,"en");case 4:if(d=t.sent,o=q,"500"!==d){t.next=8;break}return t.abrupt("return");case 8:return o[e].text_translate=d,n(!0),t.abrupt("return",K(o));case 11:case"end":return t.stop()}}),t)})));return function(e,i,n){return t.apply(this,arguments)}}(),Dt=u.a.useCallback((function(){H(!1)}),[H]),Rt=function(t){Ct(t),St(1),$(""),K(F),H(!1),J(!1)};if((null===T||void 0===T||null===(e=T.profiles)||void 0===e?void 0:e.length)>0&&(-1===+_t||void 0===_t)){var Bt,Ft,Tt=null===T||void 0===T||null===(Bt=T.profiles)||void 0===Bt||null===(Ft=Bt[0])||void 0===Ft?void 0:Ft.profile_id;void 0!==Tt&&Ct(Tt)}if(!1===it){var Wt;N=null===T||void 0===T||null===(Wt=T.profiles)||void 0===Wt?void 0:Wt.find((function(t){return(null===t||void 0===t?void 0:t.profile_id)===_t}))}else{var zt=null===W||void 0===W?void 0:W.find((function(t){return(null===t||void 0===t?void 0:t.id)===_t}));N={profile_id:null===zt||void 0===zt?void 0:zt.id,name:null===zt||void 0===zt?void 0:zt.nombre,tomado:-1,photo:null===zt||void 0===zt?void 0:zt.foto,amolatinaid:null===zt||void 0===zt?void 0:zt.amolatinaId,astoken:null===(null===zt||void 0===zt?void 0:zt.token)?0:1}}Object.keys(q).filter((function(t){return"send"===t})).length>0&&!1===G&&void 0!==(null===T||void 0===T?void 0:T.amolatinaId)&&void 0!==(null===(i=N)||void 0===i?void 0:i.amolatinaid)&&-1!==_t&&Nt(null===T||void 0===T?void 0:T.amolatinaId,null===(M=N)||void 0===M?void 0:M.amolatinaid,It,J);return Object(c.useClickOutside)(z,Dt),Object(v.jsx)(l.a,{setShowModal:R,children:Object(v.jsxs)(at,{_css9:[{"--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",width:"70vw",height:"95vh","@media (min-width: 768px)":{padding:"0.5rem",gap:"0.375rem"},"@media (min-width: 1024px)":{padding:"1rem",gap:"0.75rem"}},"@media (min-width: 2560px) { padding: 1rem !important; grid-gap: 0.75rem !important; width: 1000px !important; }"],children:[Object(v.jsxs)(rt,{children:[Object(v.jsx)(lt,{alt:"Foto de ficha",src:Object(c.imageExists)(null===T||void 0===T?void 0:T.foto)}),Object(v.jsx)("span",{children:null===T||void 0===T?void 0:T.nombre}),Object(v.jsxs)(ct,{onClick:function(t){t.stopPropagation(),H(!0!==E)},children:[Object(v.jsx)(st,{alt:"Foto de ficha",src:Object(c.imageExists)(null===(o=N)||void 0===o?void 0:o.photo),_css10:[{objectFit:"cover",borderRadius:"9999px",width:"50px",height:"50px"},0===+(null===(s=N)||void 0===s?void 0:s.astoken)?{"--tw-border-opacity":"1",borderColor:"rgba(220, 38, 38, var(--tw-border-opacity))",borderWidth:"4px"}:null]}),Object(v.jsx)("label",{children:Object(v.jsx)(C,{value:null!==(h=null===(f=N)||void 0===f?void 0:f.name)&&void 0!==h?h:"Sin Perfil",disabled:!0})})]}),Object(v.jsxs)(ut,{ref:z,_css11:[{fontSize:"1rem",borderRadius:"1rem",display:"flex",alignItems:"center",flexDirection:"column",position:"fixed",top:"60px",right:"140px",padding:"0.5rem",width:"250px",maxHeight:"500px",overflowX:"hidden"},"background-color: rgba(31, 31, 38, var(--tw-bg-opacity)); z-index: 20; border: 1px solid #4c4c3f;",!1===E?"display:none;":"display:block;",m.b],children:[Object(v.jsx)(_,{type:"text",placeholder:"Buscar",value:Z,onChange:function(t){return $(t.target.value)}}),!1===it?Object(v.jsxs)(v.Fragment,{children:[null===T||void 0===T||null===(j=T.profiles)||void 0===j?void 0:j.filter((function(t){return t.name.toLowerCase().includes(Z.toLowerCase())})).map((function(t){var e;return Object(v.jsx)(pt,{onClick:function(e){e.preventDefault(),Rt(null===t||void 0===t?void 0:t.profile_id),H(!1),$("")},_css12:[{width:"100%",":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgba(75, 85, 99, var(--tw-bg-opacity))"},borderRadius:"1rem"},(null===t||void 0===t?void 0:t.profile_id)===(null===(e=N)||void 0===e?void 0:e.profile_id)?{"--tw-bg-opacity":"1",backgroundColor:"rgba(75, 85, 99, var(--tw-bg-opacity))"}:null],children:Object(v.jsxs)(mt,{children:[Object(v.jsx)(bt,{src:null===t||void 0===t?void 0:t.photo,alt:"Foto de perfil",_css13:[{width:"50px",height:"50px",borderRadius:"9999px"},0===+(null===t||void 0===t?void 0:t.astoken)?{"--tw-border-opacity":"1",borderColor:"rgba(220, 38, 38, var(--tw-border-opacity))",borderWidth:"4px"}:null]}),null===t||void 0===t?void 0:t.name]})},null===t||void 0===t?void 0:t.profile_id)})),Object(v.jsx)(k,{onClick:function(t){t.stopPropagation(),nt(!0)},children:"Elegir un perfil manualmente"})]}):null,!0===it?Object(v.jsxs)(v.Fragment,{children:[null===W||void 0===W||null===(y=W.filter((function(t){return t.activo})))||void 0===y?void 0:y.filter((function(t){return t.nombre.toLowerCase().includes(Z.toLowerCase())})).map((function(t){var e;return Object(v.jsx)(gt,{onClick:function(e){e.preventDefault(),Rt(null===t||void 0===t?void 0:t.id),H(!1),$("")},_css14:[{width:"100%",":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgba(75, 85, 99, var(--tw-bg-opacity))"},borderRadius:"1rem"},(null===t||void 0===t?void 0:t.id)===(null===(e=N)||void 0===e?void 0:e.profile_id)?{"--tw-bg-opacity":"1",backgroundColor:"rgba(75, 85, 99, var(--tw-bg-opacity))"}:null],children:Object(v.jsxs)(ht,{children:[Object(v.jsx)(ft,{src:null===t||void 0===t?void 0:t.foto,alt:"Foto de perfil",_css15:[{width:"50px",height:"50px",borderRadius:"9999px",objectFit:"cover"},null===(null===t||void 0===t?void 0:t.token)?{"--tw-border-opacity":"1",borderColor:"rgba(220, 38, 38, var(--tw-border-opacity))",borderWidth:"4px"}:null]}),null===t||void 0===t?void 0:t.nombre]})},null===t||void 0===t?void 0:t.id)})),Object(v.jsx)(k,{onClick:function(t){t.stopPropagation(),nt(!1)},children:"Elegir un perfil asociado"})]}):null]})]}),Object(v.jsxs)(jt,{id:"ChatClient",_css16:[{maxHeight:"90%","--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))",display:"flex",width:"100%",borderRadius:"1rem",padding:"0.75rem",flexDirection:"column",flexShrink:"1",overflowX:"hidden"},m.b,Object(g.c)(["&::-webkit-scrollbar-track{border-radius:10px;border:1px solid #4c4c3f;}&::-webkit-scrollbar-thumb{border-radius:10px;background-color:#4c4c3f;}"])],children:[!1===G?Object(v.jsx)(b.a,{}):null,Object(v.jsx)(vt,{children:Object(v.jsx)(xt,{children:(null===(O=Object.keys(q))||void 0===O?void 0:O.length)===50*It?Object(v.jsx)(wt,{onClick:Object(r.a)(a.a.mark((function t(){var e,i,n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=document.getElementById("ChatClient").scrollHeight,J(!1),t.next=4,Nt(null===T||void 0===T?void 0:T.amolatinaId,null===(e=N)||void 0===e?void 0:e.amolatinaid,It+1,J);case 4:n=document.getElementById("ChatClient").scrollHeight,document.getElementById("ChatClient").scrollTop=n-i,St(It+1);case 7:case"end":return t.stop()}}),t)}))),children:"Ver mas Antiguos"}):null})}),(null===(I=Object.keys(q))||void 0===I?void 0:I.length)>0?null===(S=Object.keys(q))||void 0===S?void 0:S.map((function(t){var e,i;return(null===(e=N)||void 0===e?void 0:e.amolatinaid)===+(null===(i=q[t])||void 0===i?void 0:i.sender)?Object(v.jsx)(ot,{justify:"right",data:q[t],keyNum:t,TranslateTextData:Mt}):Object(v.jsx)(ot,{justify:"left",data:q[t],keyNum:t,TranslateTextData:Mt})})):null]})]})})}}}]);