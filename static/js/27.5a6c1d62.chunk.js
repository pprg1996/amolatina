(this.webpackJsonpivan=this.webpackJsonpivan||[]).push([[27],{659:function(t,i,e){"use strict";e.r(i);var n=e(6),d=e(1),a=e.n(d),o=e(7),l=e(5),r=e(91),s=e(0),m=e.n(s),c=e(144),p=e(41),h=e(85),v=e(8),u=e(11),x=e(92),w=e(10),g=e.n(w),f=e(231),b=e(2),j=Object(l.d)(c.a).withConfig({displayName:"ModalListClients__CoronaSvg",componentId:"sc-1sozmlr-0"})(["",""],h.a),_=l.d.span.withConfig({displayName:"ModalListClients__Id",componentId:"sc-1sozmlr-1"})(["@media (min-width:2560px){font-size:0.75rem !important;}@media (min-height:1000px) and (min-width:651px) and (max-width:767px){font-size:0.975rem !important;}@media (min-height:1000px) and (min-width:451px) and (max-width:650px){font-size:0.75rem !important;}@media (min-width:651px) and (max-width:767px) and (max-height:999px){font-size:0.8rem !important;}@media (min-width:401px) and (max-width:650px) and (max-height:999px){font-size:0.7rem !important;}@media (max-width:400px) and (max-height:999px){font-size:0.4rem !important;}",""],{fontSize:"0.35rem","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",width:"8em",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",textAlign:"center","@media (min-width: 1024px)":{fontSize:"0.4rem"},"@media (min-width: 1280px)":{fontSize:"0.5rem"},"@media (min-width: 1536px)":{fontSize:"0.6rem"}}),y=Object(l.d)(_).withConfig({displayName:"ModalListClients___StyledId",componentId:"sc-1sozmlr-2"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(5, 150, 105, var(--tw-bg-opacity))",borderRadius:"1rem",width:"6em"}),O=function(){var t=Object(o.a)(a.a.mark((function t(i,e,n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(v.customFetch)("/profiles/list-clients-day?profileId=".concat(e,"&date=").concat(n));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(i,e,n){return t.apply(this,arguments)}}(),C=Object(l.d)("div").withConfig({displayName:"ModalListClients___StyledDiv",componentId:"sc-1sozmlr-3"})({"--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",width:"40vw",height:"85vh",padding:"1.25rem"}),z=Object(l.d)("div").withConfig({displayName:"ModalListClients___StyledDiv2",componentId:"sc-1sozmlr-4"})({height:"100%"}),S=Object(l.d)("div").withConfig({displayName:"ModalListClients___StyledDiv3",componentId:"sc-1sozmlr-5"})({display:"flex",alignItems:"center",justifyContent:"space-between",gap:"0.5rem",marginTop:"0.5rem",marginBottom:"0.5rem"}),I=Object(l.d)("select").withConfig({displayName:"ModalListClients___StyledSelect",componentId:"sc-1sozmlr-6"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",padding:"0.25rem",borderRadius:"0.25rem"}),D=Object(l.d)("div").withConfig({displayName:"ModalListClients___StyledDiv4",componentId:"sc-1sozmlr-7"})({"--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",fontWeight:"700",fontSize:"0.5rem","@media (min-width: 1024px)":{fontSize:"0.95rem"}}),M=Object(l.d)("div").withConfig({displayName:"ModalListClients___StyledDiv5",componentId:"sc-1sozmlr-8"})(["",""],(function(t){return t._css})),L=Object(l.d)("div").withConfig({displayName:"ModalListClients___StyledDiv6",componentId:"sc-1sozmlr-9"})(["",""],(function(t){return t._css2})),N=Object(l.d)("div").withConfig({displayName:"ModalListClients___StyledDiv7",componentId:"sc-1sozmlr-10"})({display:"flex",justifyContent:"space-between",paddingTop:"0.5rem",alignItems:"center"}),W=Object(l.d)("div").withConfig({displayName:"ModalListClients___StyledDiv8",componentId:"sc-1sozmlr-11"})({display:"flex",gap:"1rem"}),R=Object(l.d)("div").withConfig({displayName:"ModalListClients___StyledDiv9",componentId:"sc-1sozmlr-12"})(["",""],(function(t){return t._css3})),T=Object(l.d)("div").withConfig({displayName:"ModalListClients___StyledDiv10",componentId:"sc-1sozmlr-13"})({position:"relative",display:"flex"}),k=Object(l.d)("img").withConfig({displayName:"ModalListClients___StyledImg",componentId:"sc-1sozmlr-14"})({width:"4em",height:"4em",borderRadius:"9999px",objectFit:"cover"}),E=Object(l.d)("div").withConfig({displayName:"ModalListClients___StyledDiv11",componentId:"sc-1sozmlr-15"})(["",""],(function(t){return t._css4})),F=Object(l.d)("div").withConfig({displayName:"ModalListClients___StyledDiv12",componentId:"sc-1sozmlr-16"})({display:"flex",alignItems:"center"}),H=Object(l.d)("div").withConfig({displayName:"ModalListClients___StyledDiv13",componentId:"sc-1sozmlr-17"})(["",""],(function(t){return t._css5})),B=Object(l.d)("div").withConfig({displayName:"ModalListClients___StyledDiv14",componentId:"sc-1sozmlr-18"})(["",""],(function(t){return t._css6})),J=Object(l.d)("div").withConfig({displayName:"ModalListClients___StyledDiv15",componentId:"sc-1sozmlr-19"})({display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem","@media (min-width: 1024px)":{gap:"0.75rem"}}),P=Object(l.d)("div").withConfig({displayName:"ModalListClients___StyledDiv16",componentId:"sc-1sozmlr-20"})({position:"relative",display:"flex"}),U=Object(l.d)("img").withConfig({displayName:"ModalListClients___StyledImg2",componentId:"sc-1sozmlr-21"})({width:"4em",height:"4em",borderRadius:"9999px",objectFit:"cover"}),A=Object(l.d)("div").withConfig({displayName:"ModalListClients___StyledDiv17",componentId:"sc-1sozmlr-22"})({"--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",fontWeight:"700",fontSize:"0.5rem","@media (min-width: 1024px)":{fontSize:"0.95rem"}}),X=Object(l.d)("div").withConfig({displayName:"ModalListClients___StyledDiv18",componentId:"sc-1sozmlr-23"})({"--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",fontWeight:"700",fontSize:"0.5rem","@media (min-width: 1024px)":{fontSize:"0.95rem"}}),Y=function(t){var i,e,d,a,o,l,r,s,c,p,h,u,w,O,C,z,S,I,D,M,Y,q,G,K,Q=t.client,V=t.typeWidth,Z=+g.a.get("id"),$=m.a.useRef(),tt=Object(v.useCopyTextOnClickSaveData)($,null===Q||void 0===Q||null===(i=Q.extradata)||void 0===i?void 0:i.amolatina_id,{profile_id:-1,user_id:Z,client_id:null===Q||void 0===Q?void 0:Q.client_id,action:"copy"}),it=""!==(null===Q||void 0===Q||null===(e=Q.extradata)||void 0===e||null===(d=e.last_copy)||void 0===d?void 0:d.timestamp)?new Date(null===Q||void 0===Q||null===(a=Q.extradata)||void 0===a||null===(o=a.last_copy)||void 0===o?void 0:o.timestamp):null,et=null!==it?Date.UTC(it.getFullYear(),it.getMonth(),it.getDate(),it.getHours(),it.getMinutes(),it.getSeconds(),it.getMilliseconds()):null,nt=m.a.useState([]),dt=Object(n.a)(nt,2),at=dt[0],ot=dt[1],lt=m.a.useState(0),rt=Object(n.a)(lt,2),st=rt[0],mt=rt[1];m.a.useEffect((function(){var t,i;if("md"===V||"sm"===V||""===V)ot(Object(v.organizadorRadial)(j,4,8,11,null!==(t=null===Q||void 0===Q||null===(i=Q.extradata)||void 0===i?void 0:i.crowns)&&void 0!==t?t:0,11.25));else if("lg"===V){var e,n;ot(Object(v.organizadorRadial)(j,5,13,16,null!==(e=null===Q||void 0===Q||null===(n=Q.extradata)||void 0===n?void 0:n.crowns)&&void 0!==e?e:0,11.25))}else if("xl"===V){var d,a;ot(Object(v.organizadorRadial)(j,10,21,27,null!==(d=null===Q||void 0===Q||null===(a=Q.extradata)||void 0===a?void 0:a.crowns)&&void 0!==d?d:0,11.25))}else if("2xl"===V){var o,l;ot(Object(v.organizadorRadial)(j,10,22,28,null!==(o=null===Q||void 0===Q||null===(l=Q.extradata)||void 0===l?void 0:l.crowns)&&void 0!==o?o:0,11.25))}else{var r,s;ot(Object(v.organizadorRadial)(j,12,32,42,null!==(r=null===Q||void 0===Q||null===(s=Q.extradata)||void 0===s?void 0:s.crowns)&&void 0!==r?r:0,11.25))}}),[null===Q||void 0===Q||null===(l=Q.extradata)||void 0===l?void 0:l.crowns,V]),m.a.useEffect((function(){if(et){var t=setInterval((function(){et&&mt(Date.now()-et)}),333);return function(){return clearInterval(t)}}}),[st]);var ct=Object(f.a)(st);return Object(b.jsx)(L,{_css2:[{padding:"0.25rem",borderWidth:"2px","--tw-border-opacity":"1",borderColor:"rgba(107, 114, 128, var(--tw-border-opacity))",borderRadius:"20px",alignItems:"center"},"@media (min-width: 2560px) { padding: 1.25rem !important;  }","@media (min-height: 1000px) and (max-width: 767px) { padding: 1.25rem !important; }","@media (max-height: 999px) and (max-width: 767px) { padding: 1.25rem !important; }"],children:Object(b.jsxs)(N,{children:[Object(b.jsxs)(W,{children:[Object(b.jsxs)(R,{ref:$,_css3:[{display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem"},tt],children:[Object(b.jsxs)(T,{children:[at,Object(b.jsx)(k,{src:null!==(r=null===Q||void 0===Q||null===(s=Q.extradata)||void 0===s?void 0:s.photo)&&void 0!==r?r:x.a,onError:function(t){var i=t.currentTarget;i.onerror=null,i.src=x.a},alt:"..."}),Object(b.jsx)(E,{_css4:[{position:"absolute",bottom:"-10px",right:"-7px"},"@media (min-width: 2560px) { bottom: -10px !important; right: -10px !important; }"],children:Object(b.jsx)(F,{children:Object(b.jsx)(H,{_css5:[{display:"flex",justifyContent:"center",gap:"0.125rem","--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))",paddingTop:"0.15rem",paddingBottom:"0.15rem",minWidth:"1rem","@media (min-width: 768px)":{width:"2rem",paddingLeft:"0.25rem",paddingRight:"0.25rem",borderRadius:"0.375rem"},"@media (min-width: 1024px)":{width:"2.9rem",borderRadius:"0.5rem"},"@media (min-width: 1280px)":{borderRadius:"0.75rem"},"@media (min-width: 1536px)":{borderRadius:"1rem"}},"@media (min-width: 2560px) { padding-right: 0.5rem  !important; padding-left: 0.5rem  !important; width: 5rem !important;  }","@media (min-height: 1000px) and (max-width: 767px) { padding-right: 0.5rem  !important; padding-left: 0.5rem  !important; border-radius: 1rem !important; width: 5rem !important; }","@media (max-height: 999px) and (max-width: 767px) { padding-right: 0.5rem  !important; padding-left: 0.5rem  !important; border-radius: 1rem !important; width: 5rem !important; }"],children:Object(b.jsx)(B,{_css6:[{fontSize:"0.2rem","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))","@media (min-width: 1024px)":{fontSize:"0.25rem"},"@media (min-width: 1280px)":{fontSize:"0.35rem"},"@media (min-width: 1536px)":{fontSize:"0.4rem"}},"@media (min-width: 2560px) { font-size: 0.75rem !important; line-height: 1rem !important; }","@media (min-height: 1000px) and (max-width: 767px) { font-size: 0.75rem !important; line-height: 1rem !important; }","@media (max-height: 999px) and (max-width: 767px) { font-size: 0.375rem !important;  }"],children:(isNaN(Math.round(((new Date).getTime()-new Date(null!==(c=null===Q||void 0===Q||null===(p=Q.extradata)||void 0===p?void 0:p.first_point)&&void 0!==c?c:"").getTime())/864e5))?0:null!==(h=Math.round(((new Date).getTime()-new Date(null!==(u=null===Q||void 0===Q||null===(w=Q.extradata)||void 0===w?void 0:w.first_point)&&void 0!==u?u:"").getTime())/864e5))&&void 0!==h?h:0)+" D"})})})})]}),Object(b.jsx)(_,{title:null===Q||void 0===Q||null===(O=Q.extradata)||void 0===O?void 0:O.name,children:null===Q||void 0===Q||null===(C=Q.extradata)||void 0===C?void 0:C.name})]}),-1!==(null===Q||void 0===Q||null===(z=Q.extradata)||void 0===z||null===(S=z.last_copy)||void 0===S?void 0:S.user_id)?Object(b.jsxs)(J,{children:[Object(b.jsx)(P,{children:Object(b.jsx)(U,{src:null!==(I=null===Q||void 0===Q||null===(D=Q.extradata)||void 0===D||null===(M=D.last_copy)||void 0===M?void 0:M.photo)&&void 0!==I?I:x.a,onError:function(t){var i=t.currentTarget;i.onerror=null,i.src=x.a},alt:"..."})}),Object(b.jsx)(y,{title:null===Q||void 0===Q||null===(Y=Q.extradata)||void 0===Y||null===(q=Y.last_copy)||void 0===q?void 0:q.name,children:null===Q||void 0===Q||null===(G=Q.extradata)||void 0===G||null===(K=G.last_copy)||void 0===K?void 0:K.name})]}):null]}),"00"!==ct?Object(b.jsxs)(A,{children:["Copiado hace ",ct]}):null,Object(b.jsxs)(X,{children:[null===Q||void 0===Q?void 0:Q.cant," Punteadas"]})]})},"".concat(null===Q||void 0===Q?void 0:Q.client_id))};i.default=function(t){var i=t.setShowListClients,e=t.profileId,d=m.a.useState(!1),a=Object(n.a)(d,2),o=a[0],l=a[1],s=m.a.useState("30"),c=Object(n.a)(s,2),v=c[0],x=c[1],w=Object(u.d)(["clientPointsDay",e,v],O),g=w.data,f=w.status,j=m.a.useState(window.innerWidth>=2560?"4k":window.innerWidth>=1536?"2xl":window.innerWidth>=1280?"xl":window.innerWidth>=1024?"lg":window.innerWidth>=768?"md":window.innerWidth<768&&window.innerHeight>=1e3?"4k":"sm"),_=Object(n.a)(j,2),y=_[0],L=_[1];return m.a.useEffect((function(){var t=function(){window.innerWidth>=2560?L("4k"):window.innerWidth>=1536?L("2xl"):window.innerWidth>=1280?L("xl"):window.innerWidth>=1024?L("lg"):window.innerWidth>=768?L("md"):window.innerWidth<768&&window.innerHeight>=1e3?L("4k"):L("sm")};return window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}}),[]),Object(b.jsx)(r.a,{setShowModal:i,children:Object(b.jsx)(C,{children:"loading"===f||o?Object(b.jsx)(p.a,{}):Object(b.jsxs)(z,{children:[Object(b.jsxs)(S,{children:[Object(b.jsxs)("label",{children:["Ultimos dias:"," ",Object(b.jsxs)(I,{type:"date",value:v,onChange:function(t){return x(t.target.value)},children:[Object(b.jsx)("option",{value:30,children:"30"}),Object(b.jsx)("option",{value:60,children:"60"})]})]}),Object(b.jsxs)(D,{children:[-1!==g.length?g.length:"Cargando"," Clientes"]})]}),Object(b.jsx)(M,{_css:[{display:"flex",flexDirection:"column",overflowX:"hidden",height:"90%",width:"100%",padding:"0.5rem",gap:"0.5rem"},h.b],children:g.map((function(t){return Object(b.jsx)(Y,{client:t,setIsLoading:l,typeWidth:y})}))})]})})})}}}]);