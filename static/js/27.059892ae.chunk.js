(this.webpackJsonpivan=this.webpackJsonpivan||[]).push([[27],{415:function(e,t,r){"use strict";r.r(t);var s=r(4),a=r(9),i=r(2),n=r.n(i),o=r(8),d=r(5),u=r(78),c=r(7),l=r(10),p=r(161),m=r(0),b=r(134),j=r(164),v=r(1),O=Object(m.lazy)((function(){return r.e(23).then(r.bind(null,396))})),f=d.d.div.withConfig({displayName:"Operadores__OperadoresDiv",componentId:"sc-1pye1q6-0"})(["margin-top:12px;padding:20px 48px 20px 16px;display:grid;gap:32px;grid-template-columns:repeat(4,minmax(0,1fr));overflow-x:hidden;align-items:start;",""],u.b),g=function(){var e=Object(o.a)(n.a.mark((function e(t,r){var s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([Object(c.customFetch)("/feeds/all-operators-summary?tiempo=dia"),Object(c.customFetch)("/feeds/all-operators-summary?tiempo=mes")]);case 2:return s=e.sent,e.abrupt("return",Object(c.renombrarPropiedadesAnidadas)({summaryDia:s[0],summaryMes:s[1]}));case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();t.default=function(e){var t=e.supervisoresSeleccionadosIds,r=e.orden,i=e.multasOAvisos,n=Object(l.d)("operadores",c.fetchOperadores).data,o=Object(l.d)(["feedsSummary"],g).data,d=Object(m.useContext)(b.a),u=Object(m.useState)(!1),h=Object(a.a)(u,2),x=h[0],y=h[1],M=Object(m.useState)(0),D=Object(a.a)(M,2),w=D[0],S=D[1],k=Object(l.d)(["supervisores"],c.fetchSupervisores).data;return Object(v.jsxs)(f,{children:[null===n||void 0===n?void 0:n.sort((function(e,t){return"dia"===r?t.progresoDia-e.progresoDia:t.progresoMes-e.progresoMes})).map((function(e){if("todos"!==t){var r=null===t||void 0===t?void 0:t.map((function(e){return Number(e)}));if(!r.includes(e.supervisorId)&&!r.includes(e.id)&&!(null!==k&&void 0!==k?k:[]).filter((function(e){return r.includes(e.id)})).map((function(e){return e.substitute})).includes(+e.id))return null}for(var a=0,n=0;n<((null===d||void 0===d?void 0:d.length)||-1);n++){var u;if(e.id===+(null!==(u=d[n].extraUserId)&&void 0!==u?u:d[n].userId)&&"feeds"===d[n].tablename){var c=new Date(d[n].timestamp);a=Date.UTC(c.getFullYear(),c.getMonth(),c.getDate(),c.getHours(),c.getMinutes(),c.getSeconds(),c.getMilliseconds());break}}return Object(v.jsxs)(m.Fragment,{children:[Object(v.jsx)(j.b,{id:""+e.id,children:Object(v.jsx)(p.a,Object(s.a)(Object(s.a)({},Object(s.a)(Object(s.a)({},e),{},{summary1:null===o||void 0===o?void 0:o.summaryDia[e.id],summary2:null===o||void 0===o?void 0:o.summaryMes[e.id],puntos1:e.progresoDia,puntos2:e.progresoMes,latestFeedTimestamp:a,usarMultasOAvisos:i})),{},{tipoEntidad:"operador"}))}),Object(v.jsx)(j.a,{id:""+e.id,children:Object(v.jsx)(j.c,{onClick:function(){y(!0),S(e.id)},children:"Ver multas"})})]},e.id)})),x?Object(v.jsx)(m.Suspense,{fallback:Object(v.jsx)("div",{children:"Loading..."}),children:Object(v.jsx)(O,{operadorId:w,setShowMultasModal:y})}):null]})}}}]);