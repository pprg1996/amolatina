(this.webpackJsonpivan=this.webpackJsonpivan||[]).push([[19],{180:function(e,t,i){"use strict";var n=i(2),a=i.n(n),d=i(7),r=i(3),o=i(10),c=i(0),s=i(126),l=i(1),p=Object(r.d)("div").withConfig({displayName:"EscalonMeta___StyledDiv",componentId:"ukibmr-0"})({position:"relative"}),m=Object(r.d)("div").withConfig({displayName:"EscalonMeta___StyledDiv2",componentId:"ukibmr-1"})(["",""],(function(e){return e._css})),u=Object(r.d)("div").withConfig({displayName:"EscalonMeta___StyledDiv3",componentId:"ukibmr-2"})(["",""],(function(e){return e._css2})),g=Object(r.d)("span").withConfig({displayName:"EscalonMeta___StyledSpan",componentId:"ukibmr-3"})(["",""],(function(e){return e._css3})),h=Object(r.d)("div").withConfig({displayName:"EscalonMeta___StyledDiv4",componentId:"ukibmr-4"})({display:"flex",alignItems:"center","@media (min-width: 768px)":{gap:"0.25rem"},"@media (min-width: 1024px)":{gap:"0.5rem"}}),b=Object(r.d)(s.a).withConfig({displayName:"EscalonMeta___StyledDiamondSvg",componentId:"ukibmr-5"})(["",""],(function(e){return e._css4})),x=Object(r.d)("div").withConfig({displayName:"EscalonMeta___StyledDiv5",componentId:"ukibmr-6"})({display:"flex",alignItems:"center","@media (min-width: 768px)":{gap:"0.25rem"},"@media (min-width: 1024px)":{gap:"0.5rem"}}),j=Object(r.d)(o.ActionIcon).withConfig({displayName:"EscalonMeta___StyledActionIcon",componentId:"ukibmr-7"})(["",""],(function(e){return e._css5})),f=Object(r.d)("img").withConfig({displayName:"EscalonMeta___StyledImg",componentId:"ukibmr-8"})(["",""],(function(e){return e._css6})),w=Object(r.d)("input").withConfig({displayName:"EscalonMeta___StyledInput",componentId:"ukibmr-9"})({display:"none"}),y=Object(r.d)("button").withConfig({displayName:"EscalonMeta___StyledButton",componentId:"ukibmr-10"})(["",""],(function(e){return e._css7}));t.a=function(e){var t=e.step,i=e.index,n=e.editable,r=e.setStep,s=e.progreso,v=e.setDeleteStep,O=e.allData,_=Object(c.useRef)(null),M=Object(c.useCallback)((function(){var e=new FileReader;e.onload=function(e){var t=new Image;t.src=e.target.result;var n=e.target.result.split(":")[1].split(";")[0];t.onload=Object(d.a)(a.a.mark((function e(){var d,o,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d=document.createElement("canvas"),200,200,o=t.width,c=t.height,o>c?o>200&&(c*=200/o,o=200):c>200&&(o*=200/c,c=200),d.width=o,d.height=c,d.getContext("2d").drawImage(t,0,0,o,c),r(i,"photo",d.toDataURL(n));case 11:case"end":return e.stop()}}),e)})))},_.current.files[0]&&e.readAsDataURL(_.current.files[0])}),[i,r]);return Object(l.jsxs)(p,{children:[s?Object(l.jsx)(m,{_css:[{position:"absolute",left:"0px",top:"0px",height:"100%",borderRadius:"1rem","--tw-bg-opacity":"0.2",backgroundColor:"rgba(16, 185, 129, var(--tw-bg-opacity))"},{width:s.percentage+"%"}]}):null,Object(l.jsxs)(u,{_css2:[{position:"relative",display:"flex",alignItems:"center",borderWidth:"1px",borderRadius:"1rem","@media (min-width: 768px)":{padding:"0.125rem",gap:"0.125rem"},"@media (min-width: 1024px)":{padding:"0.25rem",gap:"0.5rem"}},"@media (min-width: 2560px) { padding: 0.75rem !important; grid-gap: 1rem !important; line-height: 2rem !important; font-size: 1.5rem !important; }","@media (min-height: 1000px) and (max-width: 767px) { padding: 0.75rem !important; grid-gap: 1rem !important; line-height: 2rem !important; font-size: 1.5rem !important; }"],children:[Object(l.jsx)(g,{_css3:[{"--tw-translate-x":"-50%","--tw-translate-y":"-50%","--tw-rotate":"0","--tw-skew-x":"0","--tw-skew-y":"0","--tw-scale-x":"1","--tw-scale-y":"1",transform:"translateX(var(--tw-translate-x)) translateY(var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))",position:"absolute",left:"0px",top:"0px","--tw-bg-opacity":"1",backgroundColor:"rgba(37, 99, 235, var(--tw-bg-opacity))",borderRadius:"9999px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center","@media (min-width: 768px)":{padding:"0.125rem",width:"0.75rem",height:"0.75rem"},"@media (min-width: 1024px)":{padding:"0.25rem",width:"1rem",height:"1rem"}},"@media (min-width: 2560px) { line-height: 1.75rem !important; font-size: 1.25rem !important; padding: 1rem !important; height: 2.5rem !important; width: 2.5rem !important; }","@media (min-height: 1000px) and (max-width: 767px) { line-height: 1.75rem !important; font-size: 1.25rem !important; padding: 1rem !important; height: 2.5rem !important; width: 2.5rem !important; }"],children:i+1}),void 0!==t.points?Object(l.jsxs)(h,{children:[Object(l.jsx)("span",{onClick:function(){if(n){var e=+prompt("Colocar los diamantes enteros ej. (100 = 10,00)");if(0===i)return r(i,"points",e);if(e>O[i-1].points)return r(i,"points",e)}},children:Object(o.number_format)(t.points/10,2,",","")}),Object(l.jsx)(b,{_css4:[{height:"auto","@media (min-width: 768px)":{width:"0.75rem"},"@media (min-width: 1024px)":{width:"1.2rem"}},"@media (min-width: 2560px) { width: 1.5rem !important; }","@media (min-height: 1000px) and (max-width: 767px) { width: 1.5rem !important; }"]})]}):Object(l.jsxs)(x,{children:[Object(l.jsx)("span",{onClick:function(){if(n){var e=+prompt();if(0===i)return r(i,"serviceamount",e);if(e>O[i-1].amount)return r(i,"serviceamount",e)}},children:t.amount}),Object(l.jsx)(j,{type:t.service,_css5:[{height:"auto","@media (min-width: 768px)":{width:"0.75rem"},"@media (min-width: 1024px)":{width:"1.25rem"}},"@media (min-width: 2560px) { width: 2rem !important; }","@media (min-height: 1000px) and (max-width: 767px) { width: 2rem !important; }"]})]}),Object(l.jsx)("span",{children:"="}),void 0!==t.prize?Object(l.jsxs)("span",{onClick:function(){n&&r(i,"prizeamount",+prompt())},children:["$",t.prize]}):void 0!==t.percentage?Object(l.jsxs)("span",{onClick:function(){n&&r(i,"percentage",+prompt())},children:[t.percentage,"%"]}):Object(l.jsx)(f,{src:t.photo,alt:"Regalo",onClick:function(){var e;n&&(null===(e=document.getElementById("goal-step-foto-"+i))||void 0===e||e.click())},_css6:[{borderRadius:"1rem","@media (min-width: 768px)":{maxWidth:"60px",maxHeight:"60px"},"@media (min-width: 1024px)":{maxWidth:"80px",maxHeight:"80px"},"@media (min-width: 1280px)":{maxWidth:"100px",maxHeight:"100px"},"@media (min-width: 1536px)":{maxWidth:"120px",maxHeight:"120px"}},"@media (min-width: 2560px) { border-radius: 2.5rem !important; max-width: 200px !important; max-height: 200px !important; }"]}),Object(l.jsx)(w,{type:"file",accept:"image/png, image/jpeg",ref:_,onChange:M,id:"goal-step-foto-"+i}),n&&O.length>1?Object(l.jsx)(y,{onClick:function(){return v(i)},_css7:[{borderRadius:"9999px","--tw-bg-opacity":"1",backgroundColor:"rgba(220, 38, 38, var(--tw-bg-opacity))",paddingLeft:"0.25rem",paddingRight:"0.21rem","@media (min-width: 768px)":{fontSize:"0.4rem"},"@media (min-width: 1024px)":{fontSize:"0.5rem"},"@media (min-width: 1280px)":{fontSize:"0.6rem"},"@media (min-width: 1536px)":{fontSize:"0.7rem"}},"@media (min-width: 2560px) { line-height: 1 !important; font-size: 0.75rem !important; }"],children:"x"}):null]})]})}},444:function(e,t,i){"use strict";i.r(t);var n=i(5),a=i(21),d=i(6),r=i(2),o=i.n(r),c=i(7),s=i(90),l=i(10),p=i(0),m=i(12),u=i(93),g=i(43),h=i(29),b=i(180),x=i(100),j=i(3),f=i(44),w=i(8),y=i.n(w),v=i(53),O=i(1),_=j.d.div.withConfig({displayName:"MetasModal__PicAndDecor",componentId:"sc-1c2luas-0"})({position:"relative",display:"flex"}),M=j.d.img.withConfig({displayName:"MetasModal__Foto",componentId:"sc-1c2luas-1"})({width:"4em",height:"4em",borderRadius:"9999px",objectFit:"cover"}),C=j.d.input.withConfig({displayName:"MetasModal__Input",componentId:"sc-1c2luas-2"})(["@media (min-width:2560px){font-size:2rem !important;}",""],{appearance:"none",backgroundColor:"transparent",fontSize:"1.25rem",fontWeight:"500","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))","--tw-border-opacity":"1",borderColor:"rgba(107, 114, 128, var(--tw-border-opacity))",flex:"1 1 auto",borderWidth:"2px",padding:"0.5rem",textAlign:"center",borderRadius:"1rem"}),S=Object(j.d)(C).withConfig({displayName:"MetasModal___StyledInput11",componentId:"sc-1c2luas-3"})({textAlign:"center",width:"100%"}),I=Object(j.d)(C).withConfig({displayName:"MetasModal___StyledInput10",componentId:"sc-1c2luas-4"})({textAlign:"center"}),N=Object(j.d)(C).withConfig({displayName:"MetasModal___StyledInput9",componentId:"sc-1c2luas-5"})({textAlign:"center"}),k=Object(j.d)(C).withConfig({displayName:"MetasModal___StyledInput8",componentId:"sc-1c2luas-6"})({textAlign:"center",width:"100%"}),D=Object(j.d)(C).withConfig({displayName:"MetasModal___StyledInput7",componentId:"sc-1c2luas-7"})({textAlign:"center",width:"100%"}),T=Object(j.d)(C).withConfig({displayName:"MetasModal___StyledInput6",componentId:"sc-1c2luas-8"})({textAlign:"center",width:"100%"}),R=Object(j.d)(C).withConfig({displayName:"MetasModal___StyledInput5",componentId:"sc-1c2luas-9"})({textAlign:"center",width:"100%"}),B=Object(j.d)(C).withConfig({displayName:"MetasModal___StyledInput4",componentId:"sc-1c2luas-10"})({textAlign:"center"}),z=Object(j.d)(C).withConfig({displayName:"MetasModal___StyledInput3",componentId:"sc-1c2luas-11"})({textAlign:"center"}),F=j.d.div.withConfig({displayName:"MetasModal__DivRadio",componentId:"sc-1c2luas-12"})(["input:checked{@media (min-width:2560px){border:6px solid #4c4c3f !important;}","}"],{"@media (min-width: 768px)":{border:"2px solid #4c4c3f"},"@media (min-width: 1024px)":{border:"3px solid #4c4c3f"},"@media (min-width: 1280px)":{border:"4px solid #4c4c3f"}}),A=Object(j.d)(F).withConfig({displayName:"MetasModal___StyledDivRadio",componentId:"sc-1c2luas-13"})({display:"flex","@media (min-width: 768px)":{gap:"0.25rem"},"@media (min-width: 1024px)":{gap:"1rem"}}),P={id:-1,entity:"",entityId:-1,condition:"",prize:"",steps:[],title:"",timestamp:"",description:"",active:!0,timespan:"",shifts:-1,country:"all"},L=j.d.span.withConfig({displayName:"MetasModal__Id",componentId:"sc-1c2luas-14"})(["@media (min-width:2560px){font-size:0.75rem !important;}@media (min-height:1000px) and (min-width:651px) and (max-width:767px){font-size:0.975rem !important;}@media (min-height:1000px) and (min-width:451px) and (max-width:650px){font-size:0.75rem !important;}@media (min-width:651px) and (max-width:767px) and (max-height:999px){font-size:0.8rem !important;}@media (min-width:401px) and (max-width:650px) and (max-height:999px){font-size:0.7rem !important;}@media (max-width:400px) and (max-height:999px){font-size:0.4rem !important;}",""],{fontSize:"0.35rem","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",width:"8em",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",textAlign:"center","@media (min-width: 1024px)":{fontSize:"0.4rem"},"@media (min-width: 1280px)":{fontSize:"0.5rem"},"@media (min-width: 1536px)":{fontSize:"0.6rem"}}),W=function(){var e=Object(c.a)(o.a.mark((function e(t,i,n,a,d,r,c){var s,p,m,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=null,p=null,"mensual"===i?(m=parseFloat(n)+1<10?"0"+(parseFloat(n)+1):parseFloat(n)+1>12?"01":parseFloat(n)+1,u=parseFloat(n)+1>12?a+1:a,s="&fromDate=".concat(a,"-").concat(n,"-01T00:00:00.000"),p="&toDate=".concat(u,"-").concat(m,"-01T00:00:00.000")):"fecha"===i&&(s="&fromDate=".concat(d),p="&toDate=".concat(r)),e.next=5,Object(l.customFetch)("/goals/list-goals-winners?".concat(s).concat(p,"&agencyId=").concat(c));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,i,n,a,d,r,o){return e.apply(this,arguments)}}(),E=function(){var e=Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.customFetch)("/operators/list-calendar?type=all");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv",componentId:"sc-1c2luas-15"})({width:"80vw",height:"80vh",position:"relative"}),Q=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv2",componentId:"sc-1c2luas-16"})(["",""],(function(e){return e._css})),q=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv3",componentId:"sc-1c2luas-17"})({"--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",display:"flex",flexDirection:"column",alignItems:"center",position:"relative",height:"100%","@media (min-width: 768px)":{padding:"0.25rem",gap:"0.25rem"},"@media (min-width: 1280px)":{padding:"1rem",gap:"1rem"}}),G=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv4",componentId:"sc-1c2luas-18"})({display:"flex",justifyContent:"center"}),U=Object(j.d)("select").withConfig({displayName:"MetasModal___StyledSelect",componentId:"sc-1c2luas-19"})({width:"10rem","--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",borderRadius:"0.25rem",paddingLeft:"0.25rem",paddingRight:"0.25rem"}),X=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv5",componentId:"sc-1c2luas-20"})({display:"flex","@media (min-width: 768px)":{gap:"0.25rem"},"@media (min-width: 1280px)":{gap:"1rem"}}),Y=Object(j.d)(x.a).withConfig({displayName:"MetasModal___StyledToggleGroup",componentId:"sc-1c2luas-21"})({alignSelf:"center"}),H=Object(j.d)(x.b).withConfig({displayName:"MetasModal___StyledToggleGroupItem",componentId:"sc-1c2luas-22"})(["",""],(function(e){return e._css2})),V=Object(j.d)(x.b).withConfig({displayName:"MetasModal___StyledToggleGroupItem2",componentId:"sc-1c2luas-23"})(["",""],(function(e){return e._css3})),$=Object(j.d)(x.b).withConfig({displayName:"MetasModal___StyledToggleGroupItem3",componentId:"sc-1c2luas-24"})(["",""],(function(e){return e._css4})),K=Object(j.d)(x.b).withConfig({displayName:"MetasModal___StyledToggleGroupItem4",componentId:"sc-1c2luas-25"})(["",""],(function(e){return e._css5})),Z=Object(j.d)(x.b).withConfig({displayName:"MetasModal___StyledToggleGroupItem5",componentId:"sc-1c2luas-26"})(["",""],(function(e){return e._css6})),ee=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv6",componentId:"sc-1c2luas-27"})({display:"flex",flexDirection:"column",overflowX:"hidden",height:"100%",width:"100%",padding:"0.5rem",gap:"0.5rem"}),te=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv7",componentId:"sc-1c2luas-28"})({display:"flex",justifyContent:"flex-start",gap:"0.5rem"}),ie=Object(j.d)("select").withConfig({displayName:"MetasModal___StyledSelect2",componentId:"sc-1c2luas-29"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",padding:"0.25rem",borderRadius:"0.25rem"}),ne=Object(j.d)("select").withConfig({displayName:"MetasModal___StyledSelect3",componentId:"sc-1c2luas-30"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",padding:"0.25rem",borderRadius:"0.25rem"}),ae=Object(j.d)("select").withConfig({displayName:"MetasModal___StyledSelect4",componentId:"sc-1c2luas-31"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",padding:"0.25rem",borderRadius:"0.25rem"}),de=Object(j.d)("input").withConfig({displayName:"MetasModal___StyledInput",componentId:"sc-1c2luas-32"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",padding:"0.25rem",borderRadius:"0.25rem"}),re=Object(j.d)("input").withConfig({displayName:"MetasModal___StyledInput2",componentId:"sc-1c2luas-33"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",padding:"0.25rem",borderRadius:"0.25rem"}),oe=Object(j.d)("button").withConfig({displayName:"MetasModal___StyledButton",componentId:"sc-1c2luas-34"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))",":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgba(56, 56, 69, var(--tw-bg-opacity))"},borderRadius:"1rem",fontWeight:"700",padding:"0.5rem",margin:"0.25rem"}),ce=Object(j.d)("button").withConfig({displayName:"MetasModal___StyledButton2",componentId:"sc-1c2luas-35"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))",":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgba(56, 56, 69, var(--tw-bg-opacity))"},borderRadius:"1rem",fontWeight:"700",padding:"0.5rem",margin:"0.25rem"}),se=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv8",componentId:"sc-1c2luas-36"})({display:"flex",flexDirection:"column",gap:"0.5rem",height:"100%"}),le=function(e){var t=e.operadores,i=e.agency,n=e.selectAgency,a=Object(p.useState)("mensual"),r=Object(d.a)(a,2),o=r[0],c=r[1],s=Object(p.useState)((new Date).getMonth()+1<10?"0"+((new Date).getMonth()+1):(new Date).getMonth()+1),l=Object(d.a)(s,2),u=l[0],h=l[1],b=Object(p.useState)((new Date).getFullYear()),x=Object(d.a)(b,2),j=x[0],f=x[1],w=Object(p.useState)((new Date).toISOString().slice(0,-16)+"01T00:00:00"),y=Object(d.a)(w,2),v=y[0],_=y[1],M=Object(p.useState)(!1),C=Object(d.a)(M,2),S=C[0],I=C[1],N=Object(p.useState)(0),k=Object(d.a)(N,2),D=k[0],T=k[1],R=new Date;R.setUTCMonth(R.getUTCMonth()+1,0);var B=Object(p.useState)(R.toISOString().slice(0,-13)+"00:00:00"),z=Object(d.a)(B,2),F=z[0],A=z[1],P=Object(m.d)(["logMetas",o,u,j,v,F,n,D],W),L=P.data,E=P.status;return Object(O.jsx)(ee,{children:"loading"===E?Object(O.jsx)(g.a,{}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(te,{children:[Object(O.jsxs)("label",{children:["Rango:"," ",Object(O.jsxs)(ie,{onChange:function(e){return c(e.target.value)},value:o,children:[Object(O.jsx)("option",{value:"mensual",children:"Mensual"}),Object(O.jsx)("option",{value:"fecha",children:"Fecha"})]})]}),"mensual"===o?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("label",{children:["Mes:"," ",Object(O.jsxs)(ne,{onChange:function(e){return h(e.target.value)},value:u,children:[Object(O.jsx)("option",{value:"01",children:"Enero"}),Object(O.jsx)("option",{value:"02",children:"Febrero"}),Object(O.jsx)("option",{value:"03",children:"Marzo"}),Object(O.jsx)("option",{value:"04",children:"Abril"}),Object(O.jsx)("option",{value:"05",children:"Mayo"}),Object(O.jsx)("option",{value:"06",children:"Junio"}),Object(O.jsx)("option",{value:"07",children:"Julio"}),Object(O.jsx)("option",{value:"08",children:"Agosto"}),Object(O.jsx)("option",{value:"09",children:"Septiembre"}),Object(O.jsx)("option",{value:"10",children:"Octubre"}),Object(O.jsx)("option",{value:"11",children:"Noviembre"}),Object(O.jsx)("option",{value:"12",children:"Diciembre"})]})]}),Object(O.jsxs)("label",{children:["A\xf1o:"," ",Object(O.jsxs)(ae,{onChange:function(e){return f(e.target.value)},value:j,children:[Object(O.jsx)("option",{value:"2020",children:"2020"}),Object(O.jsx)("option",{value:"2021",children:"2021"}),Object(O.jsx)("option",{value:"2022",children:"2022"}),Object(O.jsx)("option",{value:"2023",children:"2023"}),Object(O.jsx)("option",{value:"2024",children:"2024"}),Object(O.jsx)("option",{value:"2025",children:"2025"}),Object(O.jsx)("option",{value:"2026",children:"2026"})]})]})]}):null,"fecha"===o?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("label",{children:["Desde:",Object(O.jsx)(de,{type:"datetime-local",value:v,onChange:function(e){return _(e.target.value)}})]}),Object(O.jsxs)("label",{children:["Hasta:",Object(O.jsx)(re,{type:"datetime-local",value:F,onChange:function(e){return A(e.target.value)}})]})]}):null,Object(O.jsx)(oe,{onClick:function(){I(!0),T(D+1)},children:"Expandir Todos"}),Object(O.jsx)(ce,{onClick:function(){I(!1),T(D+1)},children:"Contraer Todos"})]}),Object(O.jsx)(se,{children:Object(O.jsx)(O.Fragment,{children:L.map((function(e){return Object(O.jsx)(Ce,{meta:e,operadores:t,expandDataAll:S,agency:i})}))})})]})})},pe=Object(j.d)("button").withConfig({displayName:"MetasModal___StyledButton3",componentId:"sc-1c2luas-37"})({display:"flex",flexDirection:"column",padding:"0.5rem",borderWidth:"2px","--tw-border-opacity":"1",borderColor:"rgba(107, 114, 128, var(--tw-border-opacity))",borderRadius:"20px",alignItems:"center","--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))",":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgba(56, 56, 69, var(--tw-bg-opacity))"}}),me=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv9",componentId:"sc-1c2luas-38"})({display:"flex",justifyContent:"space-between",gap:"0.5rem"}),ue=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv10",componentId:"sc-1c2luas-39"})({display:"flex",justifyContent:"space-between",gap:"0.5rem",width:"100%"}),ge=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv11",componentId:"sc-1c2luas-40"})({width:"50%"}),he=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv12",componentId:"sc-1c2luas-41"})(["",""],(function(e){return e._css7})),be=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv13",componentId:"sc-1c2luas-42"})(["",""],(function(e){return e._css8})),xe=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv14",componentId:"sc-1c2luas-43"})({textAlign:"center"}),je=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv15",componentId:"sc-1c2luas-44"})(["",""],(function(e){return e._css9})),fe=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv16",componentId:"sc-1c2luas-45"})({width:"50%",display:"flex",flexWrap:"wrap",alignItems:"center",gap:"0.5rem"}),we=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv17",componentId:"sc-1c2luas-46"})({display:"flex",flexDirection:"column",alignItems:"center",borderWidth:"2px",gap:"0.5rem",borderRadius:"1rem",padding:"0.5rem"}),ye=Object(j.d)("img").withConfig({displayName:"MetasModal___StyledImg",componentId:"sc-1c2luas-47"})({width:"4em",height:"4em",borderRadius:"9999px",objectFit:"cover"}),ve=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv18",componentId:"sc-1c2luas-48"})({fontSize:"0.35rem","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",width:"8em",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",textAlign:"center","@media (min-width: 1024px)":{fontSize:"0.4rem"},"@media (min-width: 1280px)":{fontSize:"0.5rem"},"@media (min-width: 1536px)":{fontSize:"0.6rem"}}),Oe=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv19",componentId:"sc-1c2luas-49"})({display:"flex",justifyContent:"center"}),_e=Object(j.d)("span").withConfig({displayName:"MetasModal___StyledSpan",componentId:"sc-1c2luas-50"})({marginLeft:"0.25rem",marginRight:"0.25rem"}),Me=Object(j.d)(l.ActionIcon).withConfig({displayName:"MetasModal___StyledActionIcon",componentId:"sc-1c2luas-51"})(["",""],(function(e){return e._css10})),Ce=function(e){var t,i=e.meta,n=e.operadores,a=e.expandDataAll,r=e.agencias,o=Object(p.useState)(a),c=Object(d.a)(o,2),s=c[0],m=c[1],u=JSON.parse(i.steps),g=i.users.slice(1,-1).split(",");return Object(O.jsxs)(pe,{onClick:function(){return m(!0!==s)},children:[Object(O.jsxs)(me,{children:[Object(O.jsx)("div",{children:i.title}),Object(O.jsx)("div",{children:0===i.shifts?"Turno Dia":1===i.shifts?"Turno Noche":2===i.shifts?"Turno Tarde":"General"})]}),s?Object(O.jsxs)(ue,{children:[Object(O.jsx)(ge,{children:Object(O.jsx)(he,{_css7:[{display:"flex",flexDirection:"column",alignItems:"center","@media (min-width: 768px)":{gap:"0.75rem"},"@media (min-width: 1024px)":{gap:"1rem"},"@media (min-width: 1280px)":{gap:"1.25rem"},"@media (min-width: 1536px)":{gap:"1.5rem",maxHeight:"360px"}},h.b,"@media (min-width: 2560px) { grid-gap: 1.5rem !important; max-height:720px !important; }"],children:Object(O.jsxs)(be,{_css8:[{display:"flex",flexDirection:"column",borderWidth:"1px",borderRadius:"1rem",borderColor:"#17171c","@media (min-width: 768px)":{gap:"0.5rem",paddingLeft:"0.5rem",paddingRight:"0.5rem",paddingTop:"0.25rem",paddingBottom:"0.25rem"}},"@media (min-width: 2560px) { grid-gap: 1.25rem !important; padding-bottom: 1rem !important; padding-top: 1rem !important; padding-right: 1.5rem !important; padding-left: 1.5rem !important; }"],children:[Object(O.jsx)(xe,{children:"Detalle"}),Object(O.jsx)(je,{_css9:[{display:"flex",flexDirection:"column","@media (min-width: 768px)":{gap:"0.25rem"},"@media (min-width: 1280px)":{gap:"0.75rem"}},"@media (min-width: 2560px) { grid-gap: 1.5rem !important; }"],children:u.map((function(e,t){return Object(O.jsx)(b.a,{step:e,index:t})}))})]})})}),Object(O.jsx)(fe,{children:null===g||void 0===g||null===(t=g.sort((function(e,t){var i=e.split("|");return+t.split("|")[1]-+i[1]})))||void 0===t?void 0:t.map((function(e){var t,a,d,o,c=e.split("|");o=1===+c[0]?{nombre:null===r||void 0===r?void 0:r.find((function(e){return 1===e.id})).name,foto:null===r||void 0===r?void 0:r.find((function(e){return 1===e.id})).photo}:null===n||void 0===n?void 0:n.find((function(e){return e.id===+c[0]}));var s=u[+c[1]];return Object(O.jsxs)(we,{children:[Object(O.jsx)("div",{children:Object(O.jsx)(ye,{src:null===(t=o)||void 0===t?void 0:t.foto,alt:"..."})}),Object(O.jsx)(ve,{title:null===(a=o)||void 0===a?void 0:a.nombre,children:null===(d=o)||void 0===d?void 0:d.nombre}),Object(O.jsxs)(Oe,{children:["money"===i.prize?"".concat(null===s||void 0===s?void 0:s.prize,"$"):null," ","points"===i.condition?"".concat(Object(l.number_format)((null===s||void 0===s?void 0:s.points)/10,2,",","."),"\ud83d\udc8e"):null,"service"===i.condition?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(_e,{children:null===s||void 0===s?void 0:s.amount})," ",Object(O.jsx)(Me,{type:null===s||void 0===s?void 0:s.service,_css10:[{width:"0.75rem",height:"auto"},"@media (min-width: 2560px) { width: 2rem !important; }","@media (min-height: 1000px) and (max-width: 767px) { width: 2rem !important; }"]})]}):null]})]})}))})]}):null]},i.id)},Se=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv20",componentId:"sc-1c2luas-52"})({display:"flex",justifyContent:"center",gap:"1rem"}),Ie=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv21",componentId:"sc-1c2luas-53"})({display:"flex",flexDirection:"column",gap:"1rem",borderWidth:"2px","--tw-border-opacity":"1",borderColor:"rgba(156, 163, 175, var(--tw-border-opacity))",padding:"1.25rem",borderRadius:"1rem"}),Ne=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv22",componentId:"sc-1c2luas-54"})({textAlign:"center"}),ke=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv23",componentId:"sc-1c2luas-55"})({textAlign:"center"}),De=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv24",componentId:"sc-1c2luas-56"})({textAlign:"center"}),Te=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv25",componentId:"sc-1c2luas-57"})({textAlign:"center"}),Re=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv26",componentId:"sc-1c2luas-58"})({textAlign:"center"}),Be=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv27",componentId:"sc-1c2luas-59"})({textAlign:"center"}),ze=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv28",componentId:"sc-1c2luas-60"})({display:"flex",width:"100%",justifyContent:"center"}),Fe=Object(j.d)(f.b).withConfig({displayName:"MetasModal___StyledButton4",componentId:"sc-1c2luas-61"})({width:"100%"}),Ae=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv29",componentId:"sc-1c2luas-62"})({display:"flex",flexDirection:"column",gap:"1rem",borderWidth:"2px","--tw-border-opacity":"1",borderColor:"rgba(156, 163, 175, var(--tw-border-opacity))",padding:"1.25rem",borderRadius:"1rem"}),Pe=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv30",componentId:"sc-1c2luas-63"})({display:"flex",justifyContent:"center",alignItems:"center",gap:"0.5rem"}),Le=Object(j.d)("label").withConfig({displayName:"MetasModal___StyledLabel",componentId:"sc-1c2luas-64"})({display:"flex",flexDirection:"column",textAlign:"center"}),We=Object(j.d)(f.b).withConfig({displayName:"MetasModal___StyledButton5",componentId:"sc-1c2luas-65"})({marginTop:"1rem"}),Ee=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv31",componentId:"sc-1c2luas-66"})({position:"relative",display:"flex",justifyContent:"center",alignItems:"center",gap:"0.5rem"}),Je=Object(j.d)("label").withConfig({displayName:"MetasModal___StyledLabel2",componentId:"sc-1c2luas-67"})({display:"flex",flexDirection:"column",textAlign:"center"}),Qe=Object(j.d)("span").withConfig({displayName:"MetasModal___StyledSpan2",componentId:"sc-1c2luas-68"})(["",""],(function(e){return e._css11})),qe=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv32",componentId:"sc-1c2luas-69"})({display:"flex",justifyContent:"center",alignItems:"center",gap:"0.5rem"}),Ge=Object(j.d)("label").withConfig({displayName:"MetasModal___StyledLabel3",componentId:"sc-1c2luas-70"})({display:"flex",flexDirection:"column",textAlign:"center"}),Ue=Object(j.d)(f.b).withConfig({displayName:"MetasModal___StyledButton6",componentId:"sc-1c2luas-71"})({marginTop:"1rem"}),Xe=function(e){var t=e.dayPercentUse,i=e.setDayPercentUse,n=e.eveningPercentUse,a=e.setEveningPercentUse,d=e.nightPercentUse,r=e.setNightPercentUse,s=e.lastMonths,u=e.setLastMonths,g=e.rewardsPercent,h=e.setRewardsPercent,b=e.percentUse,x=e.setPercentUse,j=e.setIsLoading,w=e.ListpercentLevel,y=e.selectAgency,v=e.agency,_=e.limitFire,M=e.setLimitFire;-1===t&&i(parseFloat(v.percentday)),-1===n&&a(parseFloat(v.percentevening)),-1===d&&r(parseFloat(v.percentnight)),-1===s&&u(parseFloat(v.lastmonthsgoals)),-1===g&&h(parseFloat(v.percentrewards)),-1===_&&M(parseFloat(v.averagepoints)),-1===b&&x(parseFloat(v.percentnight)+parseFloat(v.percentevening)+parseFloat(v.percentday));var C=Object(p.useRef)(),F=function(e,o){var c=0,s=0,l=0;if("day"===o&&(c=e,l=n,s=d),"evening"===o&&(c=t,l=e,s=d),"night"===o&&(c=t,l=n,s=e),c+s+l<=100){if(x(c+s+l),"night"===o)return r(e);if("evening"===o)return a(e);if("day"===o)return i(e)}return c>0&&c+s+l>100&&("evening"===o||"night"===o)?(c-(c+s+l-100)>0?i(c-(c+s+l-100)):(i(0),"evening"===o&&(s-(0+s+l-100)<0?(r(0),a(100)):r(s-(0+s+l-100))),"night"===o&&(l-(0+s+l-100)<0?(a(0),r(100)):a(l-(0+s+l-100)))),"night"===o&&r(e>100?100:e),"evening"===o&&a(e>100?100:e),"day"===o&&i(e>100?100:e),x(100)):l>0&&c+s+l>100&&("day"===o||"night"===o)?(l-(c+s+l-100)>0?a(l-(c+s+l-100)):(a(0),"day"===o&&(s-(c+s+0-100)<0?(r(0),i(100)):r(s-(c+s+0-100))),"night"===o&&(c-(c+s+0-100)<0?(i(0),r(100)):i(c-(c+s+0-100)))),"night"===o&&r(e>100?100:e),"evening"===o&&a(e>100?100:e),"day"===o&&i(e>100?100:e),x(100)):s>0&&c+s+l>100&&("day"===o||"evening"===o)?(l-(c+s+l-100)>0?r(s-(c+s+l-100)):(r(0),"day"===o&&(c-(c+0+l-100)<0?(a(0),i(100)):a(c-(c+0+l-100))),"evening"===o&&(l-(c+0+l-100)<0?(i(0),a(100)):i(l-(c+0+l-100)))),"night"===o&&r(e>100?100:e),"evening"===o&&a(e>100?100:e),"day"===o&&i(e>100?100:e),x(100)):void 0};return Object(O.jsxs)(Se,{children:[Object(O.jsxs)(Ie,{children:[Object(O.jsxs)("div",{children:[Object(O.jsx)(Ne,{children:"Cantidad de meses"}),Object(O.jsx)(z,{type:"number",value:s,onChange:function(e){return u(e.target.value)}})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)(ke,{children:"Porcentaje Total"}),Object(O.jsx)("div",{children:Object(O.jsx)(B,{type:"text",value:Object(l.number_format)(b,2,",",".")+"%",disabled:!0})})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)(De,{children:"Dia"}),Object(O.jsx)("div",{children:Object(O.jsx)(R,{type:"number",value:t,onChange:function(e){return F(Number(e.target.value),"day")},onClick:function(e){return e.target.select()},min:0,max:100})})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)(Te,{children:"Tarde"}),Object(O.jsx)("div",{children:Object(O.jsx)(T,{type:"number",value:n,onChange:function(e){return F(Number(e.target.value),"evening")},onClick:function(e){return e.target.select()},min:0,max:100})})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)(Re,{children:"Noche"}),Object(O.jsx)("div",{children:Object(O.jsx)(D,{type:"number",value:d,onChange:function(e){return F(Number(e.target.value),"night")},onClick:function(e){return e.target.select()},min:0,max:100})})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)(Be,{children:"Porcentaje de Recompensa"}),Object(O.jsx)("div",{children:Object(O.jsx)(k,{type:"number",min:1,max:100,value:g,onChange:function(e){return h(e.target.value)}})})]}),Object(O.jsx)(ze,{children:Object(O.jsx)(Fe,{primario:!0,onClick:Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("qaz"!==prompt("Ingrese clave")){e.next=7;break}return j(!0),e.next=4,Object(l.customFetch)("/goals/put-config-goals",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({percentday:t,percentevening:n,percentnight:d,lastmonthsgoals:s,rewardsPercent:g,agency_id:y})});case 4:return e.next=6,m.b.invalidateQueries(["agency"]);case 6:j(!1);case 7:case"end":return e.stop()}}),e)}))),children:"Guardar"})})]}),Object(O.jsxs)(Ae,{children:[Object(O.jsxs)(Pe,{children:[Object(O.jsxs)(Le,{children:["Porcentaje por nivel",Object(O.jsx)(N,{type:"text",ref:C,defaultValue:0,onChange:function(e){return e.target.value<0?C.current.value=0:e.target.value>100?C.current.value=100:C.current.value=e.target.value}})]}),Object(O.jsx)(We,{primario:!0,onClick:Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(C.current.value>0)){e.next=8;break}if("qaz"!==prompt("Ingrese clave")){e.next=8;break}return j(!0),e.next=5,Object(l.customFetch)("/goals/add-percentlevel",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({percentlevel:C.current.value,agency_id:y})});case 5:return e.next=7,m.b.invalidateQueries(["agency"]);case 7:j(!1);case 8:case"end":return e.stop()}}),e)}))),children:"Agregar"})]}),(null===w||void 0===w?void 0:w.length)>0?null===w||void 0===w?void 0:w.map((function(e){return Object(O.jsxs)(Ee,{children:[Object(O.jsxs)(Je,{children:[Object(O.jsx)(Qe,{_css11:[{"--tw-translate-x":"-50%","--tw-translate-y":"-50%","--tw-rotate":"0","--tw-skew-x":"0","--tw-skew-y":"0","--tw-scale-x":"1","--tw-scale-y":"1",transform:"translateX(var(--tw-translate-x)) translateY(var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))",width:"2rem",height:"2rem",position:"absolute",left:"0.5rem",top:"0.5rem","--tw-bg-opacity":"1",backgroundColor:"rgba(37, 99, 235, var(--tw-bg-opacity))",borderRadius:"9999px",padding:"0.25rem",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center"},"@media (min-width: 2560px) { line-height: 1.75rem !important; font-size: 1.25rem !important; padding: 1rem !important; height: 2.5rem !important; width: 2.5rem !important; }","@media (min-height: 1000px) and (max-width: 767px) { line-height: 1.75rem !important; font-size: 1.25rem !important; padding: 1rem !important; height: 2.5rem !important; width: 2.5rem !important; }"],children:e.key}),Object(O.jsx)(I,{type:"text",value:Object(l.number_format)(e.value,2,",",".")+"%",disabled:!0})]}),Object(O.jsx)(f.b,{cancel:!0,onClick:Object(c.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("qaz"!==prompt("Ingrese clave")){t.next=7;break}return j(!0),t.next=4,Object(l.customFetch)("/goals/delete-percentlevel",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({percentlevelnum:e.key,agency_id:y})});case 4:return t.next=6,m.b.invalidateQueries(["agency"]);case 6:j(!1);case 7:case"end":return t.stop()}}),t)}))),children:"Borrar"})]},e.key)})):null,Object(O.jsxs)(qe,{children:[Object(O.jsxs)(Ge,{children:["Promedio de \ud83d\udc8e para (\ud83d\udd25)",Object(O.jsx)(S,{type:"number",min:1,max:100,value:_,onChange:function(e){return M(e.target.value)}})]}),Object(O.jsx)(Ue,{primario:!0,onClick:function(){var e=Object(c.a)(o.a.mark((function e(t){var i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=t.currentTarget).disabled=!0,e.next=4,Object(l.customFetch)("/agency/config-agency",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({type:"average",averagepoints:_,agencyId:y})});case 4:return e.next=6,m.b.invalidateQueries(["agency"]);case 6:i.disabled=!1;case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:"Guardar"})]})]})]})},Ye=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv33",componentId:"sc-1c2luas-72"})({display:"flex",flexDirection:"column",overflowX:"hidden",height:"100%",width:"100%",padding:"0.5rem",gap:"0.5rem"}),He=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv34",componentId:"sc-1c2luas-73"})({width:"100%",display:"flex",justifyContent:"space-between"}),Ve=Object(j.d)(f.b).withConfig({displayName:"MetasModal___StyledButton7",componentId:"sc-1c2luas-74"})({width:"100%",paddingLeft:"0.25rem",paddingRight:"0.25rem",paddingTop:"0.25rem",paddingBottom:"0.25rem"}),$e=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv35",componentId:"sc-1c2luas-75"})({display:"flex",flexDirection:"column",gap:"0.5rem"}),Ke=Object(j.d)(f.b).withConfig({displayName:"MetasModal___StyledButton8",componentId:"sc-1c2luas-76"})({width:"100%",paddingLeft:"0.25rem",paddingRight:"0.25rem",paddingTop:"0.25rem",paddingBottom:"0.25rem"}),Ze=Object(j.d)("input").withConfig({displayName:"MetasModal___StyledInput12",componentId:"sc-1c2luas-77"})(["",""],(function(e){return e._css12})),et=Object(j.d)("input").withConfig({displayName:"MetasModal___StyledInput13",componentId:"sc-1c2luas-78"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",padding:"0.25rem",borderRadius:"0.25rem"}),tt=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv36",componentId:"sc-1c2luas-79"})(["",""],(function(e){return e._css13})),it=function(e){var t,i,n=e.metas,a=e.setIsLoading,r=e.perfiles,s=e.operadores,u=e.selectAgency,g=Object(p.useState)(""),b=Object(d.a)(g,2),x=b[0],j=b[1],f=null===n||void 0===n?void 0:n.filter((function(e){return"profile"===e.entity&&"Meta mensual automatica"===e.description})),w=Object(p.useState)((new Date).toISOString().slice(0,-14)),y=Object(d.a)(w,2),v=y[0],_=y[1];return Object(O.jsxs)(Ye,{children:[Object(O.jsxs)(He,{children:[Object(O.jsxs)("div",{children:[(null===f||void 0===f?void 0:f.length)>0?Object(O.jsx)(Ve,{cancel:!0,onClick:Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("qaz"!==prompt("Ingrese clave")){e.next=9;break}return a(!0),e.next=4,Object(l.customFetch)("/goals/disabled-goal-auto",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({profileId:"all",agency_id:u})});case 4:return e.next=6,m.b.invalidateQueries(["metas"]);case 6:return e.next=8,m.b.invalidateQueries(["perfiles",(new Date).toISOString().slice(0,-14)]);case 8:a(!1);case 9:case"end":return e.stop()}}),e)}))),children:"Desactivar todas las metas automaticas"}):null,0===(null===f||void 0===f?void 0:f.length)?Object(O.jsxs)($e,{children:[Object(O.jsx)("div",{children:Object(O.jsx)(Ke,{primario:!0,onClick:Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("qaz"!==prompt("Ingrese clave")){e.next=9;break}return a(!0),e.next=4,Object(l.customFetch)("/goals/create-goal-auto",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({profileId:"all",date:v,name:"all",agency_id:u})});case 4:return e.next=6,m.b.invalidateQueries(["metas"]);case 6:return e.next=8,m.b.invalidateQueries(["perfiles",(new Date).getMonth()+1,(new Date).getFullYear()]);case 8:a(!1);case 9:case"end":return e.stop()}}),e)}))),children:"Generar todas las metas automaticas"})}),Object(O.jsx)("div",{children:Object(O.jsx)(Ze,{type:"date",defaultValue:v,onChange:function(e){return _(e.target.value)},_css12:[{"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",borderRadius:"1rem",width:"100%","@media (min-width: 768px)":{padding:"0.25rem"}},"@media (min-width: 2560px) { padding: 0.5rem !important; }"]})})]}):null]}),Object(O.jsx)("div",{children:Object(O.jsx)(et,{placeholder:"Buscar",value:x,onChange:function(e){return j(e.target.value)}})})]}),Object(O.jsx)(tt,{_css13:[{display:"flex",flexDirection:"column",overflowX:"hidden",height:"100%",width:"100%",padding:"0.5rem",gap:"0.5rem"},h.b],children:null===r||void 0===r||null===(t=r.filter((function(e){return!1===e.hidden})))||void 0===t||null===(i=t.filter((function(e){return e.activo})))||void 0===i?void 0:i.filter((function(e){return e.nombre.toLowerCase().includes(x.toLowerCase())})).map((function(e){var t=null===n||void 0===n?void 0:n.filter((function(t){return t.entityId===e.id&&"profile"===t.entity&&"Meta mensual automatica"===t.description}));return Object(O.jsx)(yt,{perfil:e,metaAsoc:t,setIsLoading:a,operadores:s,selectAgency:u})}))})]})},nt=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv37",componentId:"sc-1c2luas-80"})({display:"flex",justifyContent:"space-between",padding:"0.5rem",borderWidth:"2px","--tw-border-opacity":"1",borderColor:"rgba(107, 114, 128, var(--tw-border-opacity))",borderRadius:"20px",alignItems:"center"}),at=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv38",componentId:"sc-1c2luas-81"})({display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem","@media (min-width: 1024px)":{gap:"0.75rem"}}),dt=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv39",componentId:"sc-1c2luas-82"})({"--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",fontWeight:"700",fontSize:"0.5rem","@media (min-width: 1024px)":{fontSize:"0.95rem"}}),rt=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv40",componentId:"sc-1c2luas-83"})({display:"flex",justifyContent:"center",gap:"0.5rem","@media (min-width: 1024px)":{gap:"0.75rem"}}),ot=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv41",componentId:"sc-1c2luas-84"})({display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem","@media (min-width: 1024px)":{gap:"0.75rem"}}),ct=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv42",componentId:"sc-1c2luas-85"})({display:"flex",alignItems:"center"}),st=Object(j.d)("select").withConfig({displayName:"MetasModal___StyledSelect5",componentId:"sc-1c2luas-86"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",padding:"0.375rem",width:"100%",borderRadius:"1rem 0 0 1rem"}),lt=Object(j.d)("button").withConfig({displayName:"MetasModal___StyledButton9",componentId:"sc-1c2luas-87"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))",":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgba(56, 56, 69, var(--tw-bg-opacity))"},fontWeight:"700",paddingTop:"0.5rem",paddingBottom:"0.5rem",paddingLeft:"0.5rem",paddingRight:"0.5rem",borderRadius:"0 1rem 1rem 0"}),pt=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv43",componentId:"sc-1c2luas-88"})({display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem","@media (min-width: 1024px)":{gap:"0.75rem"}}),mt=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv44",componentId:"sc-1c2luas-89"})({display:"flex",alignItems:"center"}),ut=Object(j.d)("select").withConfig({displayName:"MetasModal___StyledSelect6",componentId:"sc-1c2luas-90"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",padding:"0.375rem",width:"100%",borderRadius:"1rem 0 0 1rem"}),gt=Object(j.d)("button").withConfig({displayName:"MetasModal___StyledButton10",componentId:"sc-1c2luas-91"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))",":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgba(56, 56, 69, var(--tw-bg-opacity))"},fontWeight:"700",paddingTop:"0.5rem",paddingBottom:"0.5rem",paddingLeft:"0.5rem",paddingRight:"0.5rem",borderRadius:"0 1rem 1rem 0"}),ht=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv45",componentId:"sc-1c2luas-92"})({display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem","@media (min-width: 1024px)":{gap:"0.75rem"}}),bt=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv46",componentId:"sc-1c2luas-93"})({display:"flex",alignItems:"center"}),xt=Object(j.d)("select").withConfig({displayName:"MetasModal___StyledSelect7",componentId:"sc-1c2luas-94"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",padding:"0.375rem",width:"100%",borderRadius:"1rem"}),jt=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv47",componentId:"sc-1c2luas-95"})({display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem","@media (min-width: 1024px)":{gap:"0.75rem"}}),ft=Object(j.d)("select").withConfig({displayName:"MetasModal___StyledSelect8",componentId:"sc-1c2luas-96"})(["",""],(function(e){return e._css14})),wt=Object(j.d)("input").withConfig({displayName:"MetasModal___StyledInput14",componentId:"sc-1c2luas-97"})(["",""],(function(e){return e._css15})),yt=function(e){var t,i,n,a,r,s,u=e.perfil,g=e.metaAsoc,h=e.setIsLoading,b=e.operadores,x=e.selectAgency,j=Object(p.useState)("-1"),w=Object(d.a)(j,2),y=w[0],v=w[1],C=Object(p.useState)("-1"),S=Object(d.a)(C,2),I=S[0],N=S[1],k=Object(p.useState)(null!==(t=null===u||void 0===u||null===(i=u.operador)||void 0===i?void 0:i.id)&&void 0!==t?t:0),D=Object(d.a)(k,2),T=D[0],R=D[1],B=Object(p.useState)((new Date).toISOString().slice(0,-14)),z=Object(d.a)(B,2),F=z[0],A=z[1],P=(null===g||void 0===g?void 0:g.reduce((function(e,t){return e+t.steps[0].points}),0))/10;return Object(O.jsxs)(nt,{children:[Object(O.jsxs)(at,{children:[Object(O.jsx)(_,{children:Object(O.jsx)(M,{src:null===u||void 0===u?void 0:u.foto})}),Object(O.jsx)(L,{title:null===u||void 0===u?void 0:u.nombre,children:null===u||void 0===u?void 0:u.nombre})]}),g?Object(O.jsxs)(dt,{children:[parseFloat(P).toFixed(2)," \ud83d\udc8e"]}):null,Object(O.jsxs)(rt,{children:[Object(O.jsxs)(ot,{children:[Object(O.jsx)("div",{children:"Operadores"}),Object(O.jsxs)(ct,{children:[Object(O.jsxs)(st,{value:y,onChange:function(e){return v(e.target.value)},children:[Object(O.jsx)("option",{value:-1,children:"Seleccionar"}),null===b||void 0===b||null===(n=b.filter((function(e){return!1===e.hidden})))||void 0===n||null===(a=n.filter((function(e){return 0===u.operadoresAsignadosIds.length||!u.operadoresAsignadosIds.includes(e.id)})))||void 0===a?void 0:a.map((function(e){return Object(O.jsx)("option",{value:e.id,children:e.nombre})}))]}),Object(O.jsx)(lt,{onClick:Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("-1"!==y){e.next=2;break}return e.abrupt("return");case 2:return h(!0),e.next=5,Object(l.customFetch)("/profiles/assign-operator",{method:"POST",body:JSON.stringify({profileId:u.id,operatorId:+y}),headers:{"Content-Type":"application/json"}});case 5:return e.next=7,Object(l.refetchPerfil)(u.id);case 7:return e.next=9,Object(l.refetchOperador)(+y);case 9:return e.next=11,m.b.invalidateQueries(["operadores-goals"]);case 11:h(!1);case 12:case"end":return e.stop()}}),e)}))),children:Object(O.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-right",viewBox:"0 0 16 16",children:Object(O.jsx)("path",{"fill-rule":"evenodd",d:"M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"})})})]})]}),Object(O.jsxs)(pt,{children:[Object(O.jsx)("div",{children:"Asignados"}),Object(O.jsxs)(mt,{children:[Object(O.jsxs)(ut,{value:I,onChange:function(e){return N(e.target.value)},children:[Object(O.jsx)("option",{value:-1,children:"Seleccionar"}),null===b||void 0===b||null===(r=b.filter((function(e){return u.operadoresAsignadosIds.includes(e.id)})))||void 0===r?void 0:r.map((function(e){return Object(O.jsx)("option",{value:e.id,children:e.nombre})}))]}),Object(O.jsx)(gt,{onClick:Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("-1"!==I){e.next=2;break}return e.abrupt("return");case 2:return h(!0),e.next=5,Object(l.customFetch)("/profiles/remove-assigned-operator",{method:"POST",body:JSON.stringify({profileId:u.id,operatorId:+I}),headers:{"Content-Type":"application/json"}});case 5:return e.next=7,Object(l.refetchPerfil)(u.id);case 7:return e.next=9,Object(l.refetchOperador)(+I);case 9:return e.next=11,m.b.invalidateQueries(["operadores-goals"]);case 11:h(!1);case 12:case"end":return e.stop()}}),e)}))),children:Object(O.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-left",viewBox:"0 0 16 16",children:Object(O.jsx)("path",{"fill-rule":"evenodd",d:"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"})})})]})]}),Object(O.jsxs)(ht,{children:[Object(O.jsx)("div",{children:"Tomado"}),Object(O.jsx)(bt,{children:Object(O.jsxs)(xt,{value:T,onChange:function(){var e=Object(c.a)(o.a.mark((function e(t){var i,n,a,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h(!0),0!==+t.target.value){e.next=13;break}return e.next=4,Object(l.customFetch)("/profiles/release",{headers:{"Content-Type":"application/json"},body:JSON.stringify({list_id:[u.id],operatorId:T,force:!0}),method:"POST"});case 4:if("success"!==(null===(i=e.sent)||void 0===i?void 0:i.status)){e.next=11;break}return R(+t.target.value),e.next=9,Object(l.refetchPerfil)(+u.id);case 9:return e.next=11,Object(l.refetchOperador)(T);case 11:e.next=40;break;case 13:if(0===T||0===+t.target.value){e.next=31;break}return e.next=16,Object(l.customFetch)("/profiles/release",{headers:{"Content-Type":"application/json"},body:JSON.stringify({list_id:[u.id],operatorId:T,force:!0}),method:"POST"});case 16:if("success"!==(null===(n=e.sent)||void 0===n?void 0:n.status)){e.next=29;break}return e.next=20,Object(l.customFetch)("/profiles/select",{headers:{"Content-Type":"application/json"},body:JSON.stringify({list_id:[u.id],operatorId:+t.target.value,force:!0}),method:"POST"});case 20:if("success"!==(null===(a=e.sent)||void 0===a?void 0:a.status)){e.next=29;break}return R(+t.target.value),e.next=25,Object(l.refetchPerfil)(+u.id);case 25:return e.next=27,Object(l.refetchOperador)(+t.target.value);case 27:return e.next=29,Object(l.refetchOperador)(T);case 29:e.next=40;break;case 31:return e.next=33,Object(l.customFetch)("/profiles/select",{headers:{"Content-Type":"application/json"},body:JSON.stringify({list_id:[u.id],operatorId:+t.target.value,force:!0}),method:"POST"});case 33:if("success"!==(null===(d=e.sent)||void 0===d?void 0:d.status)){e.next=40;break}return R(+t.target.value),e.next=38,Object(l.refetchPerfil)(+u.id);case 38:return e.next=40,Object(l.refetchOperador)(+t.target.value);case 40:return e.next=42,m.b.invalidateQueries(["operadores-goals"]);case 42:h(!1);case 43:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[Object(O.jsx)("option",{value:0,children:"Sin Asignar"}),null===b||void 0===b||null===(s=b.filter((function(e){return u.operadoresAsignadosIds.includes(e.id)||+T===e.id})))||void 0===s?void 0:s.map((function(e){return Object(O.jsx)("option",{value:e.id,children:e.nombre})}))]})})]})]}),Object(O.jsxs)(jt,{children:[Object(O.jsx)("div",{children:"Metas Automaticas"}),Object(O.jsx)("div",{children:Object(O.jsxs)(ft,{onChange:function(){var e=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("qaz"!==prompt("Ingrese clave")){e.next=7;break}return h(!0),e.next=4,Object(l.customFetch)("/goals/set-auto-goal",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({profileId:u.id,autoGoal:t.target.value})});case 4:return e.next=6,Object(l.refetchPerfil)(+u.id);case 6:h(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_css14:[{"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",borderRadius:"1rem",width:"100%","@media (min-width: 768px)":{padding:"0.25rem"}},"@media (min-width: 2560px) { padding: 0.5rem !important; }"],children:[Object(O.jsx)("option",{value:!1,selected:!1===(null===u||void 0===u?void 0:u.autoGoal)?"selected":null,children:"Desactivada"}),Object(O.jsx)("option",{value:!0,selected:!0===(null===u||void 0===u?void 0:u.autoGoal)?"selected":null,children:"Activada"})]})})]}),Object(O.jsx)("div",{children:g?Object(O.jsx)(f.b,{cancel:!0,onClick:Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("qaz"!==prompt("Ingrese clave")){e.next=9;break}return h(!0),e.next=4,Object(l.customFetch)("/goals/disabled-goal-auto",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({profileId:u.id,agency_id:x})});case 4:return e.next=6,m.b.invalidateQueries(["metas"]);case 6:return e.next=8,Object(l.refetchPerfil)(+u.id);case 8:h(!1);case 9:case"end":return e.stop()}}),e)}))),children:"Desactivar Meta Actual"}):null}),Object(O.jsx)("div",{children:g?null:Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(f.b,{primario:!0,onClick:Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("qaz"!==prompt("Ingrese clave")){e.next=9;break}return h(!0),e.next=4,Object(l.customFetch)("/goals/create-goal-auto",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({profileId:u.id,date:F,name:u.nombre})});case 4:return e.next=6,Object(l.refetchPerfil)(+u.id);case 6:return e.next=8,m.b.invalidateQueries(["metas"]);case 8:h(!1);case 9:case"end":return e.stop()}}),e)}))),children:"Generar Meta"}),Object(O.jsx)("div",{children:Object(O.jsx)(wt,{type:"date",defaultValue:F,onChange:function(e){return A(e.target.value)},_css15:[{"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",borderRadius:"1rem",width:"100%","@media (min-width: 768px)":{padding:"0.25rem"}},"@media (min-width: 2560px) { padding: 0.5rem !important; }"]})})]})})]},u.amolatina_id)},vt=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv48",componentId:"sc-1c2luas-98"})(["",""],(function(e){return e._css16})),Ot=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv49",componentId:"sc-1c2luas-99"})(["",""],(function(e){return e._css17})),_t=Object(j.d)("input").withConfig({displayName:"MetasModal___StyledInput15",componentId:"sc-1c2luas-100"})(["",""],(function(e){return e._css18})),Mt=Object(j.d)("input").withConfig({displayName:"MetasModal___StyledInput16",componentId:"sc-1c2luas-101"})(["",""],(function(e){return e._css19})),Ct=Object(j.d)("select").withConfig({displayName:"MetasModal___StyledSelect9",componentId:"sc-1c2luas-102"})(["",""],(function(e){return e._css20})),St=Object(j.d)("select").withConfig({displayName:"MetasModal___StyledSelect10",componentId:"sc-1c2luas-103"})(["",""],(function(e){return e._css21})),It=Object(j.d)("select").withConfig({displayName:"MetasModal___StyledSelect11",componentId:"sc-1c2luas-104"})(["",""],(function(e){return e._css22})),Nt=Object(j.d)("select").withConfig({displayName:"MetasModal___StyledSelect12",componentId:"sc-1c2luas-105"})(["",""],(function(e){return e._css23})),kt=Object(j.d)("select").withConfig({displayName:"MetasModal___StyledSelect13",componentId:"sc-1c2luas-106"})(["",""],(function(e){return e._css24})),Dt=Object(j.d)("select").withConfig({displayName:"MetasModal___StyledSelect14",componentId:"sc-1c2luas-107"})(["",""],(function(e){return e._css25})),Tt=Object(j.d)("select").withConfig({displayName:"MetasModal___StyledSelect15",componentId:"sc-1c2luas-108"})(["",""],(function(e){return e._css26})),Rt=Object(j.d)("label").withConfig({displayName:"MetasModal___StyledLabel4",componentId:"sc-1c2luas-109"})({display:"flex",alignItems:"center","@media (min-width: 768px)":{gap:"0.125rem"},"@media (min-width: 1024px)":{gap:"0.25rem"}}),Bt=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv50",componentId:"sc-1c2luas-110"})(["",""],(function(e){return e._css27})),zt=Object(j.d)("button").withConfig({displayName:"MetasModal___StyledButton11",componentId:"sc-1c2luas-111"})(["",""],(function(e){return e._css28})),Ft=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv51",componentId:"sc-1c2luas-112"})({display:"flex",justifyContent:"center",gap:"0.5rem"}),At=Object(j.d)(f.b).withConfig({displayName:"MetasModal___StyledButton12",componentId:"sc-1c2luas-113"})({display:"flex",alignItems:"center",justifyContent:"center","@media (min-width: 768px)":{padding:"0.375rem"},"@media (min-width: 1280px)":{padding:"0.75rem"}}),Pt=Object(j.d)(f.b).withConfig({displayName:"MetasModal___StyledButton13",componentId:"sc-1c2luas-114"})({display:"flex",alignItems:"center",justifyContent:"center","@media (min-width: 768px)":{padding:"0.375rem"},"@media (min-width: 1280px)":{padding:"0.75rem"}}),Lt=Object(j.d)(f.b).withConfig({displayName:"MetasModal___StyledButton14",componentId:"sc-1c2luas-115"})({display:"flex",alignItems:"center",justifyContent:"center","@media (min-width: 768px)":{padding:"0.375rem"},"@media (min-width: 1280px)":{padding:"0.75rem"}}),Wt=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv52",componentId:"sc-1c2luas-116"})(["",""],(function(e){return e._css29})),Et=function(e){var t,i,r=e.perfiles,s=e.metas,h=e.timespan,x=e.setTimespan,j=e.selectAgency,w=Object(p.useState)("agency"),y=Object(d.a)(w,2),v=y[0],_=y[1],M=Object(p.useState)(1),C=Object(d.a)(M,2),S=C[0],I=C[1],N=Object(p.useState)("points"),k=Object(d.a)(N,2),D=k[0],T=k[1],R=Object(p.useState)(-1),B=Object(d.a)(R,2),z=B[0],F=B[1],L=Object(p.useState)("money"),W=Object(d.a)(L,2),E=W[0],J=W[1],Q=Object(p.useState)(""),q=Object(d.a)(Q,2),G=q[0],U=q[1],X=Object(p.useState)(!1),Y=Object(d.a)(X,2),H=Y[0],V=Y[1],$=Object(p.useState)("dialogs.messages:intervals"),K=Object(d.a)($,2),Z=K[0],ee=K[1],te=Object(p.useState)([{points:100,prize:100}]),ie=Object(d.a)(te,2),ne=ie[0],ae=ie[1],de=Object(p.useState)(!1),re=Object(d.a)(de,2),oe=re[0],ce=re[1],se=Object(p.useState)("Meta"),le=Object(d.a)(se,2),pe=le[0],me=le[1],ue=Object(p.useState)("all"),ge=Object(d.a)(ue,2),he=ge[0],be=ge[1],xe=Object(m.d)(["CountryCount","admin","operadores","all","all","all","all",j],l.fetchCount).data,je=Object(p.useState)(P),fe=Object(d.a)(je,2),we=fe[0],ye=fe[1],ve=function(e,t,i){if("prizeamount"===t?ne[e].prize=i:"points"===t?ne[e].points=i:"percentage"===t?ne[e].percentage=i:"serviceamount"===t?ne[e].amount=i:"photo"===t&&(ne[e].photo=i),"points"===t&&ne.length>e)for(var n=e;n<ne.length;n++)ne[n].points<i&&(ne[n].points=i+n);if("serviceamount"===t&&ne.length>e)for(var d=e;d<ne.length;d++)ne[d].amount<i&&(ne[d].amount=i+d);ae(Object(a.a)(ne))},Oe=Object(p.useCallback)((function(){"points"===D&&"money"===E?ae([{points:100,prize:100}]):"points"===D&&"gift"===E?ae([{points:100,photo:u.a}]):"points"===D&&"percentage"===E?ae([{points:100,percentage:10}]):"service"===D&&"money"===E?ae([{service:Z,amount:100,prize:100}]):"service"===D&&"gift"===E?ae([{service:Z,amount:100,photo:u.a}]):"service"===D&&"percentage"===E&&ae([{service:Z,amount:100,percentage:10}])}),[D,E,Z]);Object(p.useEffect)((function(){-1===we.id&&Oe()}),[E,D,Oe,we]),Object(p.useEffect)((function(){"service"===D&&ae((function(e){return e.map((function(e){return Object(n.a)(Object(n.a)({},e),{},{service:Z})}))}))}),[D,Z]);var _e=null===s||void 0===s?void 0:s.filter((function(e){return"agency"===e.entity&&!e.steps[0].photo})),Me=null===s||void 0===s?void 0:s.filter((function(e){return"profile"===e.entity&&!e.steps[0].photo})),Ce=null===s||void 0===s?void 0:s.filter((function(e){return"all"===e.entity&&!e.steps[0].photo})),Se=null===s||void 0===s?void 0:s.filter((function(e){return"supervisor"===e.entity&&!e.steps[0].photo})),Ie=null===s||void 0===s?void 0:s.filter((function(e){return e.steps[0].photo})),Ne=function(e){if(ye(e),-1===e.id)return _("agency"),x("month"),I(1),T("points"),F(-1),be("all"),J("money"),U(""),ee(!1),ae([{points:100,prize:100}]),ee("dialogs.messages:intervals"),void me("Meta");_(e.entity),x(e.timespan),I(e.entityId),T(e.condition),F(e.shifts),be(e.country),J(e.prize),U(e.description),me(e.title),"service"===e.condition&&ee(e.steps[0].service),ae(e.steps)},ke=function(e){var t=ne.filter((function(t){return t!==ne[e]}));return ae(t)};return Object(O.jsxs)(vt,{_css16:[{height:"100%","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",display:"flex",flexDirection:"column",alignItems:"center",position:"relative","@media (min-width: 768px)":{gap:"0.25rem",padding:"0.25rem"},"@media (min-width: 1024px)":{gap:"0.5rem",padding:"0.5rem"}},"@media (min-width: 2560px) { padding: 1rem !important; grid-gap: 1rem !important; }"],children:[Object(O.jsxs)(Ot,{_css17:[{display:"flex","@media (min-width: 768px)":{gap:"0.25rem"}},"@media (min-width: 2560px) { grid-gap: 1rem !important; }"],children:[Object(O.jsxs)("label",{children:["Titulo"," ",Object(O.jsx)(_t,{value:pe,onChange:function(e){return me(e.target.value)},disabled:"profile"===v?"disabled":null,_css18:[{"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",borderRadius:"1rem","@media (min-width: 768px)":{padding:"0.125rem",marginTop:"0.125rem"},"@media (min-width: 1024px)":{padding:"0.25rem",marginTop:"0.25rem"}},"@media (min-width: 2560px) { padding: 0.5rem !important; }"]})]}),Object(O.jsxs)("label",{children:["Descripcion"," ",Object(O.jsx)(Mt,{value:G,onChange:function(e){return U(e.target.value)},_css19:[{"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",borderRadius:"1rem","@media (min-width: 768px)":{padding:"0.125rem",marginTop:"0.125rem"},"@media (min-width: 1024px)":{padding:"0.25rem",marginTop:"0.25rem"}},"@media (min-width: 2560px) { padding: 0.5rem !important; }"]})]}),Object(O.jsxs)("label",{children:["Entidad"," ",Object(O.jsxs)(Ct,{value:v,disabled:-1!==we.id?"disabled":"",onChange:function(e){var t,i;(_(e.target.value),"profile"===e.target.value)&&(I(null===r||void 0===r||null===(t=r.filter((function(e){return!1===e.hidden&&!0===e.activo}))[0])||void 0===t?void 0:t.id),me("Meta ".concat(null===r||void 0===r||null===(i=r.filter((function(e){return!1===e.hidden&&!0===e.activo}))[0])||void 0===i?void 0:i.nombre)))},_css20:[{"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",borderRadius:"1rem","@media (min-width: 768px)":{padding:"0.125rem",marginTop:"0.125rem"},"@media (min-width: 1024px)":{padding:"0.25rem",marginTop:"0.25rem"}},"@media (min-width: 2560px) { padding: 0.5rem !important; }"],children:[Object(O.jsx)("option",{value:"agency",children:"Toda la agencia"}),Object(O.jsx)("option",{value:"profile",children:"Un perfil"}),Object(O.jsx)("option",{value:"all",children:"Operador"}),Object(O.jsx)("option",{value:"supervisor",children:"Global Supervisores"})]})]}),"profile"===v?Object(O.jsxs)("label",{children:["Perfil"," ",Object(O.jsx)(St,{value:S,disabled:-1!==we.id?"disabled":"",onChange:function(e){var t,i;I(e.target.value),"profile"===v&&me("Meta "+(null===r||void 0===r||null===(t=r.filter((function(e){return!1===e.hidden&&!0===e.activo})))||void 0===t||null===(i=t.find((function(t){return t.id===+e.target.value})))||void 0===i?void 0:i.nombre))},_css21:[{"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",borderRadius:"1rem","@media (min-width: 768px)":{padding:"0.125rem",marginTop:"0.125rem"},"@media (min-width: 1024px)":{padding:"0.25rem",marginTop:"0.25rem"}},"@media (min-width: 2560px) { padding: 0.5rem !important; }"],children:null===r||void 0===r||null===(t=r.filter((function(e){return!1===e.hidden&&!0===e.activo})))||void 0===t?void 0:t.map((function(e){return Object(O.jsx)("option",{value:e.id,children:e.nombre},e.id)}))})]}):null,Object(O.jsxs)("label",{children:["Premio"," ",Object(O.jsxs)(It,{value:E,onChange:function(e){return J(e.target.value)},disabled:-1!==we.id?"disabled":"",_css22:[{"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",borderRadius:"1rem","@media (min-width: 768px)":{padding:"0.125rem",marginTop:"0.125rem"},"@media (min-width: 1024px)":{padding:"0.25rem",marginTop:"0.25rem"}},"@media (min-width: 2560px) { padding: 0.5rem !important; }"],children:[Object(O.jsx)("option",{value:"money",children:"Dinero"}),Object(O.jsx)("option",{value:"percentage",children:"Porcentaje"}),Object(O.jsx)("option",{value:"gift",children:"Regalo"})]})]}),Object(O.jsxs)("label",{children:["Condici\xf3n",Object(O.jsxs)(Nt,{value:D,onChange:function(e){return T(e.target.value)},disabled:-1!==we.id?"disabled":"",_css23:[{"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",borderRadius:"1rem","@media (min-width: 768px)":{padding:"0.125rem",marginTop:"0.125rem"},"@media (min-width: 1024px)":{padding:"0.25rem",marginTop:"0.25rem"}},"@media (min-width: 2560px) { padding: 0.5rem !important; }"],children:[Object(O.jsx)("option",{value:"points",children:"Diamantes"}),Object(O.jsx)("option",{value:"service",children:"Servicio"})]})]}),Object(O.jsxs)("label",{children:["Turnos",Object(O.jsxs)(kt,{value:z,onChange:function(e){return F(e.target.value)},disabled:!0===H||-1!==we.id?"disabled":"",_css24:[{"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",borderRadius:"1rem","@media (min-width: 768px)":{padding:"0.125rem",marginTop:"0.125rem"},"@media (min-width: 1024px)":{padding:"0.25rem",marginTop:"0.25rem"}},"@media (min-width: 2560px) { padding: 0.5rem !important; }"],children:[Object(O.jsx)("option",{value:-1,children:"Todos"}),Object(O.jsx)("option",{value:0,children:"Dia"}),Object(O.jsx)("option",{value:2,children:"Tarde"}),Object(O.jsx)("option",{value:1,children:"Noche"})]})]}),"service"===D?Object(O.jsxs)("label",{children:["Servicio"," ",Object(O.jsx)(Dt,{disabled:-1!==we.id?"disabled":"",value:Z,onChange:function(e){var t=[];return ne.forEach((function(i){"service"===D&&"money"===E?t.push({service:e.target.value,amount:i.amount,prize:i.prize}):"service"===D&&"gift"===E?t.push({service:e.target.value,amount:i.amount,photo:i.photo}):"service"===D&&"percentage"===E&&t.push({service:e.target.value,amount:i.amount,percentage:i.percentage})})),ae(t),ee(e.target.value)},_css25:[{"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",borderRadius:"1rem","@media (min-width: 768px)":{padding:"0.125rem",marginTop:"0.125rem"},"@media (min-width: 1024px)":{padding:"0.25rem",marginTop:"0.25rem"}},"@media (min-width: 2560px) { padding: 0.5rem !important; }"],children:null===l.bonusTypes||void 0===l.bonusTypes?void 0:l.bonusTypes.map((function(e){return"todos"===e.value?null:Object(O.jsx)("option",{value:e.value,children:e.name},e.value)}))})]}):null,Object(O.jsxs)("label",{children:["Paises"," ",Object(O.jsxs)(Tt,{value:he,onChange:function(){var e=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:be(t.target.value);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_css26:[{"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",borderRadius:"1rem","@media (min-width: 768px)":{padding:"0.125rem",marginTop:"0.125rem"},"@media (min-width: 1024px)":{padding:"0.25rem",marginTop:"0.25rem"}},"@media (min-width: 2560px) { padding: 0.5rem !important; }"],children:[Object(O.jsx)("option",{value:"all",children:"Sin pais asignado"}),null===l.paises||void 0===l.paises||null===(i=l.paises.filter((function(e){return null===xe||void 0===xe?void 0:xe.includes(e.code)})))||void 0===i?void 0:i.map((function(e){return Object(O.jsx)("option",{value:e.code,children:e.name_es})}))]})]}),Object(O.jsx)(A,{children:Object(O.jsxs)(Rt,{children:[Object(O.jsx)("input",{type:"checkbox",checked:H,onChange:function(e){V(e.target.checked),!0===e.target.checked&&F(-1)},disabled:-1!==we.id?"disabled":""}),"Desactivar porcentajes"]})}),Object(O.jsx)(f.b,{cancel:!0,onClick:function(){return Oe()},children:"Limpiar"})]}),Object(O.jsxs)(Bt,{_css27:[{display:"flex",paddingBottom:"0px","@media (min-width: 768px)":{gap:"0.25rem",padding:"0.25rem"},"@media (min-width: 1280px)":{gap:"0.5rem",padding:"0.5rem"}},"@media (min-width: 2560px) { padding: 1rem !important; grid-gap: 1.5rem !important; }"],children:[ne.map((function(e,t){return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(b.a,{step:e,index:t,setStep:ve,editable:!0,setDeleteStep:ke,allData:ne},Math.random())})})),Object(O.jsx)(zt,{onClick:function(){"points"===D&&"money"===E?ae([].concat(Object(a.a)(ne),[{points:ne[ne.length-1].points+10,prize:100}])):"points"===D&&"gift"===E?ae([].concat(Object(a.a)(ne),[{points:ne[ne.length-1].points+10,photo:u.a}])):"points"===D&&"percentage"===E?ae([].concat(Object(a.a)(ne),[{points:ne[ne.length-1].points+10,percentage:10}])):"service"===D&&"money"===E?ae([].concat(Object(a.a)(ne),[{service:Z,amount:ne[ne.length-1].amount+10,prize:100}])):"service"===D&&"gift"===E?ae([].concat(Object(a.a)(ne),[{service:Z,amount:ne[ne.length-1].amount+10,photo:u.a}])):"service"===D&&"percentage"===E&&ae([].concat(Object(a.a)(ne),[{service:Z,amount:ne[ne.length-1].amount+10,percentage:10}]))},_css28:[{alignSelf:"center",":focus":{outline:"2px solid transparent",outlineOffset:"2px"},"@media (min-width: 768px)":{fontSize:"0.6rem"},"@media (min-width: 1024px)":{fontSize:"0.7rem"},"@media (min-width: 1280px)":{fontSize:"1rem"},"@media (min-width: 1536px)":{fontSize:"1.25rem"}},"@media (min-width: 2560px) { line-height: 1 !important; font-size: 3.75rem !important; }"],children:"+"})]}),-1!==we.id?Object(O.jsxs)(Ft,{children:[Object(O.jsx)(At,{cancel:!0,onClick:function(){return Ne(P)},children:"Cancelar"}),Object(O.jsx)(Pt,{primario:!0,onClick:Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ce(!0),e.next=3,Object(l.customFetch)("/goals/edit",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({entity:v,entityId:"all"!==v?S:1,condition:D,prize:E,steps:ne,title:pe,description:G,timespan:h,shifts:z,country:he,checkAct:H,id:we.id})});case 3:return e.next=5,m.b.invalidateQueries(["metas"]);case 5:Ne(P),ce(!1);case 7:case"end":return e.stop()}}),e)}))),children:"Editar Meta"})]}):Object(O.jsx)(Lt,{primario:!0,onClick:Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ce(!0),e.next=3,Object(l.customFetch)("/goals/create",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({entity:v,entityId:"all"!==v?S:1,condition:D,prize:E,steps:ne,title:pe,description:G,timespan:h,shifts:z,country:he,checkAct:H,agency_id:j})});case 3:return e.next=5,m.b.invalidateQueries(["metas"]);case 5:Oe(),ce(!1);case 7:case"end":return e.stop()}}),e)}))),children:"Crear Meta"}),Object(O.jsxs)(Wt,{_css29:[{display:"flex",height:"100%","@media (min-width: 768px)":{gap:"0.5rem"}},"@media (min-width: 2560px) { padding: 1rem !important; }"],children:[(null===Me||void 0===Me?void 0:Me.length)?Object(O.jsx)(on,{text:"Perfiles",metas:Me,setDataEdit:Ne}):null,(null===Ce||void 0===Ce?void 0:Ce.length)?Object(O.jsx)(ii,{text:"Operadores",metas:Ce,setDataEdit:Ne}):null," ",(null===Se||void 0===Se?void 0:Se.length)?Object(O.jsx)(ii,{text:"Supervisores",metas:Se,setDataEdit:Ne}):null,(null===_e||void 0===_e?void 0:_e.length)?Object(O.jsx)(on,{text:"Globales",metas:_e,setDataEdit:Ne}):null,(null===Ie||void 0===Ie?void 0:Ie.length)?Object(O.jsx)(ii,{text:"Concursos",metas:Ie,setDataEdit:Ne}):null]}),oe?Object(O.jsx)(g.a,{}):null]})},Jt=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv53",componentId:"sc-1c2luas-117"})(["",""],(function(e){return e._css30})),Qt=Object(j.d)("span").withConfig({displayName:"MetasModal___StyledSpan3",componentId:"sc-1c2luas-118"})(["",""],(function(e){return e._css31})),qt=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv54",componentId:"sc-1c2luas-119"})(["",""],(function(e){return e._css32})),Gt=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv55",componentId:"sc-1c2luas-120"})(["",""],(function(e){return e._css33})),Ut=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv56",componentId:"sc-1c2luas-121"})(["",""],(function(e){return e._css34})),Xt=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv57",componentId:"sc-1c2luas-122"})(["",""],(function(e){return e._css35})),Yt=Object(j.d)("img").withConfig({displayName:"MetasModal___StyledImg2",componentId:"sc-1c2luas-123"})({width:"100%",height:"100%"}),Ht=Object(j.d)(v.a).withConfig({displayName:"MetasModal___StyledGlobeSvg",componentId:"sc-1c2luas-124"})({width:"100%",height:"100%"}),Vt=Object(j.d)("span").withConfig({displayName:"MetasModal___StyledSpan4",componentId:"sc-1c2luas-125"})({overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",width:"100%",paddingLeft:"0.25rem",paddingRight:"0.25rem"}),$t=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv58",componentId:"sc-1c2luas-126"})(["",""],(function(e){return e._css36})),Kt=Object(j.d)(f.b).withConfig({displayName:"MetasModal___StyledButton15",componentId:"sc-1c2luas-127"})({width:"100%",paddingTop:"0px",paddingBottom:"0px"}),Zt=Object(j.d)(f.b).withConfig({displayName:"MetasModal___StyledButton16",componentId:"sc-1c2luas-128"})({width:"100%",paddingTop:"0px",paddingBottom:"0px"}),ei=Object(j.d)(f.b).withConfig({displayName:"MetasModal___StyledButton17",componentId:"sc-1c2luas-129"})({width:"100%",paddingTop:"0px",paddingBottom:"0px"}),ti=Object(j.d)(f.b).withConfig({displayName:"MetasModal___StyledButton18",componentId:"sc-1c2luas-130"})({width:"100%",paddingTop:"0px",paddingBottom:"0px"}),ii=function(e){var t=e.metas,i=e.text,n=e.setDataEdit;return Object(O.jsxs)(Jt,{_css30:[{display:"flex",flexDirection:"column",alignItems:"center",height:"100%","@media (min-width: 768px)":{gap:"0.125rem"},"@media (min-width: 1280px)":{gap:"0.75rem"}},"@media (min-width: 2560px) { grid-gap: 1.5rem !important; }"],children:[Object(O.jsx)(Qt,{_css31:[{"@media (min-width: 768px)":{fontSize:"0.45rem"},"@media (min-width: 1024px)":{fontSize:"0.6rem"},"@media (min-width: 1280px)":{fontSize:"0.7rem"},"@media (min-width: 1536px)":{fontSize:"1rem"}},"@media (min-width: 2560px) { line-height: 2rem !important; font-size: 1.5rem !important; }"],children:i}),Object(O.jsx)(qt,{_css32:[{display:"flex",flexDirection:"column",overflowX:"hidden","@media (min-width: 768px)":{gap:"0.25rem",height:"65%"},"@media (min-width: 1280px)":{gap:"1.25rem",height:"57%",minWidth:"150px"},"@media (min-width: 1536px)":{gap:"1.5rem",height:"65%"}},h.b,"@media (min-width: 2560px) { grid-gap: 1.5rem !important; height:70% !important; }"],children:null===t||void 0===t?void 0:t.map((function(e){return Object(O.jsxs)(Gt,{_css33:[{display:"flex",flexDirection:"column",borderWidth:"1px",borderRadius:"1rem",borderColor:"#17171c","@media (min-width: 768px)":{paddingLeft:"0.5rem",paddingRight:"0.5rem",paddingTop:"0.25rem",paddingBottom:"0.25rem",gap:"0.25rem"},"@media (min-width: 1280px)":{gap:"0.5rem"}},"@media (min-width: 2560px) { grid-gap: 1.25rem !important; padding-bottom: 1rem !important; padding-top: 1rem !important; padding-right: 1.5rem !important; padding-left: 1.5rem !important; }"],children:[Object(O.jsxs)(Ut,{_css34:[{display:"flex",gap:"0.125rem",alignItems:"center",paddingLeft:"0.5rem",paddingRight:"0.5rem",paddingTop:"0.25rem",paddingBottom:"0.25rem"},"Meta mensual automatica"!==e.description?{"--tw-bg-opacity":"1",backgroundColor:"rgba(6, 95, 70, var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",borderRadius:"1rem"}:null],children:[Object(O.jsx)(Xt,{_css35:[{width:"0.75rem",height:"auto","@media (min-width: 1024px)":{width:"0.9rem"}},"@media (min-width: 2560px) { width: 2rem !important; }","@media (min-height: 1000px) and (max-width: 767px) { width: 2rem !important; }"],children:"all"!==e.country?Object(O.jsx)(Yt,{alt:"Flag",src:"https://flagsapi.com/".concat(e.country,"/flat/64.png")}):Object(O.jsx)(Ht,{})}),Object(O.jsx)(Vt,{children:e.title})]}),Object(O.jsxs)($t,{_css36:[{display:"flex",flexDirection:"column","@media (min-width: 768px)":{gap:"0.25rem"},"@media (min-width: 1280px)":{gap:"0.75rem"}},"@media (min-width: 2560px) { grid-gap: 1.5rem !important; }"],children:[e.steps.map((function(e,t){return Object(O.jsx)(b.a,{step:e,index:t})})),"Meta mensual automatica"!==e.description?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(Kt,{primario:!0,onClick:function(){return n(e)},children:"Editar"}),!1===e.autogoal?Object(O.jsx)(Zt,{green:!0,onClick:Object(c.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("qaz"!==prompt("Ingrese clave")){t.next=5;break}return t.next=3,Object(l.customFetch)("/goals/auto-goal",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:e.id,mode:!0})});case 3:return t.next=5,m.b.invalidateQueries(["metas"]);case 5:case"end":return t.stop()}}),t)}))),children:"Activar Ciclo"}):Object(O.jsx)(ei,{yellow:!0,onClick:Object(c.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("qaz"!==prompt("Ingrese clave")){t.next=5;break}return t.next=3,Object(l.customFetch)("/goals/auto-goal",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:e.id})});case 3:return t.next=5,m.b.invalidateQueries(["metas"]);case 5:case"end":return t.stop()}}),t)}))),children:"Desactivar Ciclo"}),Object(O.jsx)(ti,{cancel:!0,onClick:Object(c.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("qaz"!==prompt("Ingrese clave")){t.next=5;break}return t.next=3,Object(l.customFetch)("/goals/delete",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:e.id})});case 3:return t.next=5,m.b.invalidateQueries(["metas"]);case 5:case"end":return t.stop()}}),t)}))),children:"Eliminar"})]}):null]})]},e.id)}))})]})},ni=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv59",componentId:"sc-1c2luas-131"})(["",""],(function(e){return e._css37})),ai=Object(j.d)("span").withConfig({displayName:"MetasModal___StyledSpan5",componentId:"sc-1c2luas-132"})(["",""],(function(e){return e._css38})),di=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv60",componentId:"sc-1c2luas-133"})(["",""],(function(e){return e._css39})),ri=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv61",componentId:"sc-1c2luas-134"})(["",""],(function(e){return e._css40})),oi=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv62",componentId:"sc-1c2luas-135"})(["",""],(function(e){return e._css41})),ci=Object(j.d)("span").withConfig({displayName:"MetasModal___StyledSpan6",componentId:"sc-1c2luas-136"})(["",""],(function(e){return e._css42})),si=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv63",componentId:"sc-1c2luas-137"})(["",""],(function(e){return e._css43})),li=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv64",componentId:"sc-1c2luas-138"})(["",""],(function(e){return e._css44})),pi=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv65",componentId:"sc-1c2luas-139"})(["",""],(function(e){return e._css45})),mi=Object(j.d)("img").withConfig({displayName:"MetasModal___StyledImg3",componentId:"sc-1c2luas-140"})({width:"100%",height:"100%"}),ui=Object(j.d)(v.a).withConfig({displayName:"MetasModal___StyledGlobeSvg2",componentId:"sc-1c2luas-141"})({width:"100%",height:"100%"}),gi=Object(j.d)("span").withConfig({displayName:"MetasModal___StyledSpan7",componentId:"sc-1c2luas-142"})({overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",width:"100%",paddingLeft:"0.25rem",paddingRight:"0.25rem"}),hi=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv66",componentId:"sc-1c2luas-143"})(["",""],(function(e){return e._css46})),bi=Object(j.d)(f.b).withConfig({displayName:"MetasModal___StyledButton19",componentId:"sc-1c2luas-144"})({width:"100%",paddingTop:"0px",paddingBottom:"0px"}),xi=Object(j.d)(f.b).withConfig({displayName:"MetasModal___StyledButton20",componentId:"sc-1c2luas-145"})({width:"100%",paddingTop:"0px",paddingBottom:"0px"}),ji=Object(j.d)(f.b).withConfig({displayName:"MetasModal___StyledButton21",componentId:"sc-1c2luas-146"})({width:"100%",paddingTop:"0px",paddingBottom:"0px"}),fi=Object(j.d)(f.b).withConfig({displayName:"MetasModal___StyledButton22",componentId:"sc-1c2luas-147"})({width:"100%",paddingTop:"0px",paddingBottom:"0px"}),wi=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv67",componentId:"sc-1c2luas-148"})(["",""],(function(e){return e._css47})),yi=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv68",componentId:"sc-1c2luas-149"})(["",""],(function(e){return e._css48})),vi=Object(j.d)("span").withConfig({displayName:"MetasModal___StyledSpan8",componentId:"sc-1c2luas-150"})(["",""],(function(e){return e._css49})),Oi=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv69",componentId:"sc-1c2luas-151"})(["",""],(function(e){return e._css50})),_i=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv70",componentId:"sc-1c2luas-152"})(["",""],(function(e){return e._css51})),Mi=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv71",componentId:"sc-1c2luas-153"})(["",""],(function(e){return e._css52})),Ci=Object(j.d)("img").withConfig({displayName:"MetasModal___StyledImg4",componentId:"sc-1c2luas-154"})({width:"100%",height:"100%"}),Si=Object(j.d)(v.a).withConfig({displayName:"MetasModal___StyledGlobeSvg3",componentId:"sc-1c2luas-155"})({width:"100%",height:"100%"}),Ii=Object(j.d)("span").withConfig({displayName:"MetasModal___StyledSpan9",componentId:"sc-1c2luas-156"})({overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",width:"100%",paddingLeft:"0.25rem",paddingRight:"0.25rem"}),Ni=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv72",componentId:"sc-1c2luas-157"})(["",""],(function(e){return e._css53})),ki=Object(j.d)(f.b).withConfig({displayName:"MetasModal___StyledButton23",componentId:"sc-1c2luas-158"})({width:"100%",paddingTop:"0px",paddingBottom:"0px"}),Di=Object(j.d)(f.b).withConfig({displayName:"MetasModal___StyledButton24",componentId:"sc-1c2luas-159"})({width:"100%",paddingTop:"0px",paddingBottom:"0px"}),Ti=Object(j.d)(f.b).withConfig({displayName:"MetasModal___StyledButton25",componentId:"sc-1c2luas-160"})({width:"100%",paddingTop:"0px",paddingBottom:"0px"}),Ri=Object(j.d)(f.b).withConfig({displayName:"MetasModal___StyledButton26",componentId:"sc-1c2luas-161"})({width:"100%",paddingTop:"0px",paddingBottom:"0px"}),Bi=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv73",componentId:"sc-1c2luas-162"})(["",""],(function(e){return e._css54})),zi=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv74",componentId:"sc-1c2luas-163"})(["",""],(function(e){return e._css55})),Fi=Object(j.d)("span").withConfig({displayName:"MetasModal___StyledSpan10",componentId:"sc-1c2luas-164"})(["",""],(function(e){return e._css56})),Ai=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv75",componentId:"sc-1c2luas-165"})(["",""],(function(e){return e._css57})),Pi=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv76",componentId:"sc-1c2luas-166"})(["",""],(function(e){return e._css58})),Li=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv77",componentId:"sc-1c2luas-167"})(["",""],(function(e){return e._css59})),Wi=Object(j.d)("img").withConfig({displayName:"MetasModal___StyledImg5",componentId:"sc-1c2luas-168"})({width:"100%",height:"100%"}),Ei=Object(j.d)(v.a).withConfig({displayName:"MetasModal___StyledGlobeSvg4",componentId:"sc-1c2luas-169"})({width:"100%",height:"100%"}),Ji=Object(j.d)("span").withConfig({displayName:"MetasModal___StyledSpan11",componentId:"sc-1c2luas-170"})({overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",width:"100%",paddingLeft:"0.25rem",paddingRight:"0.25rem"}),Qi=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv78",componentId:"sc-1c2luas-171"})(["",""],(function(e){return e._css60})),qi=Object(j.d)(f.b).withConfig({displayName:"MetasModal___StyledButton27",componentId:"sc-1c2luas-172"})({width:"100%",paddingTop:"0px",paddingBottom:"0px"}),Gi=Object(j.d)(f.b).withConfig({displayName:"MetasModal___StyledButton28",componentId:"sc-1c2luas-173"})(["",""],(function(e){return e._css61})),Ui=Object(j.d)(f.b).withConfig({displayName:"MetasModal___StyledButton29",componentId:"sc-1c2luas-174"})({width:"100%",paddingTop:"0px",paddingBottom:"0px"}),Xi=Object(j.d)(f.b).withConfig({displayName:"MetasModal___StyledButton30",componentId:"sc-1c2luas-175"})({width:"100%",paddingTop:"0px",paddingBottom:"0px"}),Yi=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv79",componentId:"sc-1c2luas-176"})(["",""],(function(e){return e._css62})),Hi=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv80",componentId:"sc-1c2luas-177"})(["",""],(function(e){return e._css63})),Vi=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv81",componentId:"sc-1c2luas-178"})(["",""],(function(e){return e._css64})),$i=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv82",componentId:"sc-1c2luas-179"})(["",""],(function(e){return e._css65})),Ki=Object(j.d)("img").withConfig({displayName:"MetasModal___StyledImg6",componentId:"sc-1c2luas-180"})({width:"100%",height:"100%"}),Zi=Object(j.d)(v.a).withConfig({displayName:"MetasModal___StyledGlobeSvg5",componentId:"sc-1c2luas-181"})({width:"100%",height:"100%"}),en=Object(j.d)("span").withConfig({displayName:"MetasModal___StyledSpan12",componentId:"sc-1c2luas-182"})({overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",width:"100%",paddingLeft:"0.25rem",paddingRight:"0.25rem"}),tn=Object(j.d)("div").withConfig({displayName:"MetasModal___StyledDiv83",componentId:"sc-1c2luas-183"})(["",""],(function(e){return e._css66})),nn=Object(j.d)(f.b).withConfig({displayName:"MetasModal___StyledButton31",componentId:"sc-1c2luas-184"})({width:"100%",paddingTop:"0px",paddingBottom:"0px"}),an=Object(j.d)(f.b).withConfig({displayName:"MetasModal___StyledButton32",componentId:"sc-1c2luas-185"})({width:"100%",paddingTop:"0px",paddingBottom:"0px"}),dn=Object(j.d)(f.b).withConfig({displayName:"MetasModal___StyledButton33",componentId:"sc-1c2luas-186"})({width:"100%",paddingTop:"0px",paddingBottom:"0px"}),rn=Object(j.d)(f.b).withConfig({displayName:"MetasModal___StyledButton34",componentId:"sc-1c2luas-187"})({width:"100%",paddingTop:"0px",paddingBottom:"0px"}),on=function(e){var t,i,n,a,d,r,s,p,u=e.metas,g=e.text,x=e.setDataEdit;return Object(O.jsxs)(ni,{_css37:[{display:"flex",flexDirection:"column",alignItems:"center",height:"100%","@media (min-width: 768px)":{gap:"0.125rem"},"@media (min-width: 1280px)":{gap:"0.75rem"}},"@media (min-width: 2560px) { grid-gap: 1.5rem !important; }"],children:[Object(O.jsx)(ai,{_css38:[{"@media (min-width: 768px)":{fontSize:"0.45rem"},"@media (min-width: 1024px)":{fontSize:"0.6rem"},"@media (min-width: 1280px)":{fontSize:"0.7rem"},"@media (min-width: 1536px)":{fontSize:"1rem"}},"@media (min-width: 2560px) { line-height: 2rem !important; font-size: 1.5rem !important; }"],children:g}),Object(O.jsxs)(di,{_css39:[{display:"flex",overflowX:"hidden","@media (min-width: 768px)":{gap:"0.25rem",height:"65%"},"@media (min-width: 1280px)":{gap:"1.25rem",height:"57%",minWidth:"150px"},"@media (min-width: 1536px)":{gap:"1.5rem",height:"65%"}},h.b,"@media (min-width: 2560px) { grid-gap: 1.5rem !important; height:70% !important; }"],children:[(null===u||void 0===u||null===(t=u.filter((function(e){return 0===e.shifts})))||void 0===t?void 0:t.length)>0?Object(O.jsxs)(ri,{_css40:[{display:"flex",flexDirection:"column",textAlign:"center","@media (min-width: 768px)":{gap:"0.5rem",paddingLeft:"0.5rem",paddingRight:"0.5rem",paddingTop:"0.25rem",paddingBottom:"0.25rem"},"@media (min-width: 1280px)":{minWidth:"150px"}},"@media (min-width: 2560px) { grid-gap: 1.25rem !important; padding-bottom: 1rem !important; padding-top: 1rem !important; padding-right: 1.5rem !important; padding-left: 1.5rem !important; }"],children:[Object(O.jsx)(oi,{_css41:[{display:"flex",flexDirection:"column",borderWidth:"2px",borderRadius:"1rem",borderColor:"#17171c",textAlign:"center","@media (min-width: 768px)":{gap:"0.5rem",paddingLeft:"0.5rem",paddingRight:"0.5rem",paddingTop:"0.25rem",paddingBottom:"0.25rem"},"@media (min-width: 1280px)":{minWidth:"150px"}},"@media (min-width: 2560px) { grid-gap: 1.25rem !important; padding-bottom: 1rem !important; padding-top: 1rem !important; padding-right: 1.5rem !important; padding-left: 1.5rem !important; }"],children:Object(O.jsx)(ci,{_css42:"@media (min-width: 2560px) { font-size: 1.5rem !important; }",children:"Dia"})}),null===u||void 0===u||null===(i=u.filter((function(e){return 0===e.shifts})))||void 0===i?void 0:i.sort((function(e,t){return e.title<t.title?-1:e.title>t.title?1:0})).map((function(e){return Object(O.jsxs)(si,{_css43:[{display:"flex",flexDirection:"column",borderWidth:"1px",borderRadius:"1rem",borderColor:"#17171c","@media (min-width: 768px)":{gap:"0.5rem",paddingLeft:"0.5rem",paddingRight:"0.5rem",paddingTop:"0.25rem",paddingBottom:"0.25rem"},"@media (min-width: 1280px)":{minWidth:"150px"}},"@media (min-width: 2560px) { grid-gap: 1.25rem !important; padding-bottom: 1rem !important; padding-top: 1rem !important; padding-right: 1.5rem !important; padding-left: 1.5rem !important; }"],children:[Object(O.jsxs)(li,{_css44:[{display:"flex",gap:"0.125rem",alignItems:"center",paddingLeft:"0.5rem",paddingRight:"0.5rem",paddingTop:"0.25rem",paddingBottom:"0.25rem"},"Meta mensual automatica"!==e.description?{"--tw-bg-opacity":"1",backgroundColor:"rgba(6, 95, 70, var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",borderRadius:"1rem"}:null],children:[Object(O.jsx)(pi,{_css45:[{width:"0.75rem",height:"auto","@media (min-width: 1024px)":{width:"0.9rem"}},"@media (min-width: 2560px) { width: 2rem !important; }","@media (min-height: 1000px) and (max-width: 767px) { width: 2rem !important; }"],children:"all"!==e.country?Object(O.jsx)(mi,{alt:"Flag",src:"https://flagsapi.com/".concat(e.country,"/flat/64.png")}):Object(O.jsx)(ui,{})}),Object(O.jsx)(gi,{children:e.title})]}),Object(O.jsxs)(hi,{_css46:[{display:"flex",flexDirection:"column","@media (min-width: 768px)":{gap:"0.25rem"},"@media (min-width: 1280px)":{gap:"0.75rem"}},"@media (min-width: 2560px) { grid-gap: 1.5rem !important; }"],children:[e.steps.map((function(e,t){return Object(O.jsx)(b.a,{step:e,index:t})})),"Meta mensual automatica"!==e.description?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(bi,{primario:!0,onClick:function(){return x(e)},children:"Editar"}),!1===e.autogoal?Object(O.jsx)(xi,{green:!0,onClick:Object(c.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("qaz"!==prompt("Ingrese clave")){t.next=5;break}return t.next=3,Object(l.customFetch)("/goals/auto-goal",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:e.id,mode:!0})});case 3:return t.next=5,m.b.invalidateQueries(["metas"]);case 5:case"end":return t.stop()}}),t)}))),children:"Activar Ciclo"}):Object(O.jsx)(ji,{yellow:!0,onClick:Object(c.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("qaz"!==prompt("Ingrese clave")){t.next=5;break}return t.next=3,Object(l.customFetch)("/goals/auto-goal",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:e.id})});case 3:return t.next=5,m.b.invalidateQueries(["metas"]);case 5:case"end":return t.stop()}}),t)}))),children:"Desactivar Ciclo"}),Object(O.jsx)(fi,{cancel:!0,onClick:Object(c.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("qaz"!==prompt("Ingrese clave")){t.next=5;break}return t.next=3,Object(l.customFetch)("/goals/delete",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:e.id})});case 3:return t.next=5,m.b.invalidateQueries(["metas"]);case 5:case"end":return t.stop()}}),t)}))),children:"Eliminar"})]}):null]})]},e.id)}))]}):null,(null===u||void 0===u||null===(n=u.filter((function(e){return 2===e.shifts})))||void 0===n?void 0:n.length)>0?Object(O.jsxs)(wi,{_css47:[{display:"flex",flexDirection:"column",textAlign:"center","@media (min-width: 768px)":{gap:"0.5rem",paddingLeft:"0.5rem",paddingRight:"0.5rem",paddingTop:"0.25rem",paddingBottom:"0.25rem"},"@media (min-width: 1280px)":{minWidth:"150px"}},"@media (min-width: 2560px) { grid-gap: 1.25rem !important; padding-bottom: 1rem !important; padding-top: 1rem !important; padding-right: 1.5rem !important; padding-left: 1.5rem !important; }"],children:[Object(O.jsx)(yi,{_css48:[{display:"flex",flexDirection:"column",borderWidth:"2px",borderRadius:"1rem",borderColor:"#17171c",textAlign:"center","@media (min-width: 768px)":{gap:"0.5rem",paddingLeft:"0.5rem",paddingRight:"0.5rem",paddingTop:"0.25rem",paddingBottom:"0.25rem"},"@media (min-width: 1280px)":{minWidth:"150px"}},"@media (min-width: 2560px) { grid-gap: 1.25rem !important; padding-bottom: 1rem !important; padding-top: 1rem !important; padding-right: 1.5rem !important; padding-left: 1.5rem !important; }"],children:Object(O.jsx)(vi,{_css49:"@media (min-width: 2560px) { font-size: 1.5rem !important; }",children:"Tarde"})}),null===u||void 0===u||null===(a=u.filter((function(e){return 2===e.shifts})))||void 0===a?void 0:a.sort((function(e,t){return e.title<t.title?-1:e.title>t.title?1:0})).map((function(e){return Object(O.jsxs)(Oi,{_css50:[{display:"flex",flexDirection:"column",borderWidth:"1px",borderRadius:"1rem",borderColor:"#17171c","@media (min-width: 768px)":{gap:"0.5rem",paddingLeft:"0.5rem",paddingRight:"0.5rem",paddingTop:"0.25rem",paddingBottom:"0.25rem"},"@media (min-width: 1280px)":{minWidth:"150px"}},"@media (min-width: 2560px) { grid-gap: 1.25rem !important; padding-bottom: 1rem !important; padding-top: 1rem !important; padding-right: 1.5rem !important; padding-left: 1.5rem !important; }"],children:[Object(O.jsxs)(_i,{_css51:[{display:"flex",gap:"0.125rem",alignItems:"center",paddingLeft:"0.5rem",paddingRight:"0.5rem",paddingTop:"0.25rem",paddingBottom:"0.25rem"},"Meta mensual automatica"!==e.description?{"--tw-bg-opacity":"1",backgroundColor:"rgba(6, 95, 70, var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",borderRadius:"1rem"}:null],children:[Object(O.jsx)(Mi,{_css52:[{width:"0.75rem",height:"auto","@media (min-width: 1024px)":{width:"0.9rem"}},"@media (min-width: 2560px) { width: 2rem !important; }","@media (min-height: 1000px) and (max-width: 767px) { width: 2rem !important; }"],children:"all"!==e.country?Object(O.jsx)(Ci,{alt:"Flag",src:"https://flagsapi.com/".concat(e.country,"/flat/64.png")}):Object(O.jsx)(Si,{})}),Object(O.jsx)(Ii,{children:e.title})]}),Object(O.jsxs)(Ni,{_css53:[{display:"flex",flexDirection:"column","@media (min-width: 768px)":{gap:"0.25rem"},"@media (min-width: 1280px)":{gap:"0.75rem"}},"@media (min-width: 2560px) { grid-gap: 1.5rem !important; }"],children:[e.steps.map((function(e,t){return Object(O.jsx)(b.a,{step:e,index:t})})),"Meta mensual automatica"!==e.description?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(ki,{primario:!0,onClick:function(){return x(e)},children:"Editar"}),!1===e.autogoal?Object(O.jsx)(Di,{green:!0,onClick:Object(c.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("qaz"!==prompt("Ingrese clave")){t.next=5;break}return t.next=3,Object(l.customFetch)("/goals/auto-goal",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:e.id,mode:!0})});case 3:return t.next=5,m.b.invalidateQueries(["metas"]);case 5:case"end":return t.stop()}}),t)}))),children:"Activar Ciclo"}):Object(O.jsx)(Ti,{yellow:!0,onClick:Object(c.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("qaz"!==prompt("Ingrese clave")){t.next=5;break}return t.next=3,Object(l.customFetch)("/goals/auto-goal",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:e.id})});case 3:return t.next=5,m.b.invalidateQueries(["metas"]);case 5:case"end":return t.stop()}}),t)}))),children:"Desactivar Ciclo"}),Object(O.jsx)(Ri,{cancel:!0,onClick:Object(c.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("qaz"!==prompt("Ingrese clave")){t.next=5;break}return t.next=3,Object(l.customFetch)("/goals/delete",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:e.id})});case 3:return t.next=5,m.b.invalidateQueries(["metas"]);case 5:case"end":return t.stop()}}),t)}))),children:"Eliminar"})]}):null]})]},e.id)}))]}):null,(null===u||void 0===u||null===(d=u.filter((function(e){return 1===e.shifts})))||void 0===d?void 0:d.length)>0?Object(O.jsxs)(Bi,{_css54:[{display:"flex",flexDirection:"column",textAlign:"center","@media (min-width: 768px)":{gap:"0.5rem",paddingLeft:"0.5rem",paddingRight:"0.5rem",paddingTop:"0.25rem",paddingBottom:"0.25rem"},"@media (min-width: 1280px)":{minWidth:"150px"}},"@media (min-width: 2560px) { grid-gap: 1.25rem !important; padding-bottom: 1rem !important; padding-top: 1rem !important; padding-right: 1.5rem !important; padding-left: 1.5rem !important; }"],children:[Object(O.jsx)(zi,{_css55:[{display:"flex",flexDirection:"column",borderWidth:"2px",borderRadius:"1rem",borderColor:"#17171c",textAlign:"center","@media (min-width: 768px)":{gap:"0.5rem",paddingLeft:"0.5rem",paddingRight:"0.5rem",paddingTop:"0.25rem",paddingBottom:"0.25rem"},"@media (min-width: 1280px)":{minWidth:"150px"}},"@media (min-width: 2560px) { grid-gap: 1.25rem !important; padding-bottom: 1rem !important; padding-top: 1rem !important; padding-right: 1.5rem !important; padding-left: 1.5rem !important; }"],children:Object(O.jsx)(Fi,{_css56:"@media (min-width: 2560px) { font-size: 1.5rem !important; }",children:"Noche"})}),null===u||void 0===u||null===(r=u.filter((function(e){return 1===e.shifts})))||void 0===r?void 0:r.sort((function(e,t){return e.title<t.title?-1:e.title>t.title?1:0})).map((function(e){return Object(O.jsxs)(Ai,{_css57:[{display:"flex",flexDirection:"column",borderWidth:"1px",borderRadius:"1rem",borderColor:"#17171c","@media (min-width: 768px)":{gap:"0.5rem",paddingLeft:"0.5rem",paddingRight:"0.5rem",paddingTop:"0.25rem",paddingBottom:"0.25rem"},"@media (min-width: 1280px)":{minWidth:"150px"}},"@media (min-width: 2560px) { grid-gap: 1.25rem !important; padding-bottom: 1rem !important; padding-top: 1rem !important; padding-right: 1.5rem !important; padding-left: 1.5rem !important; }"],children:[Object(O.jsxs)(Pi,{_css58:[{display:"flex",gap:"0.125rem",alignItems:"center",paddingLeft:"0.5rem",paddingRight:"0.5rem",paddingTop:"0.25rem",paddingBottom:"0.25rem"},"Meta mensual automatica"!==e.description?{"--tw-bg-opacity":"1",backgroundColor:"rgba(6, 95, 70, var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",borderRadius:"1rem"}:null],children:[Object(O.jsx)(Li,{_css59:[{width:"0.75rem",height:"auto","@media (min-width: 1024px)":{width:"0.9rem"}},"@media (min-width: 2560px) { width: 2rem !important; }","@media (min-height: 1000px) and (max-width: 767px) { width: 2rem !important; }"],children:"all"!==e.country?Object(O.jsx)(Wi,{alt:"Flag",src:"https://flagsapi.com/".concat(e.country,"/flat/64.png")}):Object(O.jsx)(Ei,{})}),Object(O.jsx)(Ji,{children:e.title})]}),Object(O.jsxs)(Qi,{_css60:[{display:"flex",flexDirection:"column","@media (min-width: 768px)":{gap:"0.25rem"},"@media (min-width: 1280px)":{gap:"0.75rem"}},"@media (min-width: 2560px) { grid-gap: 1.5rem !important; }"],children:[e.steps.map((function(e,t){return Object(O.jsx)(b.a,{step:e,index:t})})),"Meta mensual automatica"!==e.description?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(qi,{primario:!0,onClick:function(){return x(e)},children:"Editar"}),!1===e.autogoal?Object(O.jsx)(Gi,{green:!0,onClick:Object(c.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("qaz"!==prompt("Ingrese clave")){t.next=5;break}return t.next=3,Object(l.customFetch)("/goals/auto-goal",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:e.id,mode:!0})});case 3:return t.next=5,m.b.invalidateQueries(["metas"]);case 5:case"end":return t.stop()}}),t)}))),_css61:[{width:"100%",paddingTop:"0px",paddingBottom:"0px"},"@media (min-width: 2560px) { padding: 0.5rem !important; font-size: 1.5rem !important; }"],children:"Activar Ciclo"}):Object(O.jsx)(Ui,{yellow:!0,onClick:Object(c.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("qaz"!==prompt("Ingrese clave")){t.next=5;break}return t.next=3,Object(l.customFetch)("/goals/auto-goal",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:e.id})});case 3:return t.next=5,m.b.invalidateQueries(["metas"]);case 5:case"end":return t.stop()}}),t)}))),children:"Desactivar Ciclo"}),Object(O.jsx)(Xi,{cancel:!0,onClick:Object(c.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("qaz"!==prompt("Ingrese clave")){t.next=5;break}return t.next=3,Object(l.customFetch)("/goals/delete",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:e.id})});case 3:return t.next=5,m.b.invalidateQueries(["metas"]);case 5:case"end":return t.stop()}}),t)}))),children:"Eliminar"})]}):null]})]},e.id)}))]}):null,(null===u||void 0===u||null===(s=u.filter((function(e){return-1===e.shifts})))||void 0===s?void 0:s.length)>0?Object(O.jsx)(Yi,{_css62:[{display:"flex",flexDirection:"column",textAlign:"center","@media (min-width: 768px)":{gap:"0.5rem",paddingLeft:"0.5rem",paddingRight:"0.5rem",paddingTop:"0.25rem",paddingBottom:"0.25rem"},"@media (min-width: 1280px)":{minWidth:"150px"}},"@media (min-width: 2560px) { grid-gap: 1.25rem !important; padding-bottom: 1rem !important; padding-top: 1rem !important; padding-right: 1.5rem !important; padding-left: 1.5rem !important; }"],children:null===u||void 0===u||null===(p=u.filter((function(e){return-1===e.shifts})))||void 0===p?void 0:p.sort((function(e,t){return e.title<t.title?-1:e.title>t.title?1:0})).map((function(e){return Object(O.jsxs)(Hi,{_css63:[{display:"flex",flexDirection:"column",borderWidth:"1px",borderRadius:"1rem",borderColor:"#17171c","@media (min-width: 768px)":{gap:"0.5rem",paddingLeft:"0.5rem",paddingRight:"0.5rem",paddingTop:"0.25rem",paddingBottom:"0.25rem"},"@media (min-width: 1280px)":{minWidth:"150px"}},"@media (min-width: 2560px) { grid-gap: 1.25rem !important; padding-bottom: 1rem !important; padding-top: 1rem !important; padding-right: 1.5rem !important; padding-left: 1.5rem !important; }"],children:[Object(O.jsxs)(Vi,{_css64:[{display:"flex",gap:"0.125rem",alignItems:"center",paddingLeft:"0.5rem",paddingRight:"0.5rem",paddingTop:"0.25rem",paddingBottom:"0.25rem"},"Meta mensual automatica"!==e.description?{"--tw-bg-opacity":"1",backgroundColor:"rgba(6, 95, 70, var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",borderRadius:"1rem"}:null],children:[Object(O.jsx)($i,{_css65:[{width:"0.75rem",height:"auto","@media (min-width: 1024px)":{width:"0.9rem"}},"@media (min-width: 2560px) { width: 2rem !important; }","@media (min-height: 1000px) and (max-width: 767px) { width: 2rem !important; }"],children:"all"!==e.country?Object(O.jsx)(Ki,{alt:"Flag",src:"https://flagsapi.com/".concat(e.country,"/flat/64.png")}):Object(O.jsx)(Zi,{})}),Object(O.jsx)(en,{children:e.title})]}),Object(O.jsxs)(tn,{_css66:[{display:"flex",flexDirection:"column","@media (min-width: 768px)":{gap:"0.25rem"},"@media (min-width: 1280px)":{gap:"0.75rem"}},"@media (min-width: 2560px) { grid-gap: 1.5rem !important; }"],children:[e.steps.map((function(e,t){return Object(O.jsx)(b.a,{step:e,index:t})})),"Meta mensual automatica"!==e.description?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(nn,{primario:!0,onClick:function(){return x(e)},children:"Editar"}),!1===e.autogoal?Object(O.jsx)(an,{green:!0,onClick:Object(c.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("qaz"!==prompt("Ingrese clave")){t.next=5;break}return t.next=3,Object(l.customFetch)("/goals/auto-goal",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:e.id,mode:!0})});case 3:return t.next=5,m.b.invalidateQueries(["metas"]);case 5:case"end":return t.stop()}}),t)}))),children:"Activar Ciclo"}):Object(O.jsx)(dn,{yellow:!0,onClick:Object(c.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("qaz"!==prompt("Ingrese clave")){t.next=5;break}return t.next=3,Object(l.customFetch)("/goals/auto-goal",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:e.id})});case 3:return t.next=5,m.b.invalidateQueries(["metas"]);case 5:case"end":return t.stop()}}),t)}))),children:"Desactivar Ciclo"}),Object(O.jsx)(rn,{cancel:!0,onClick:Object(c.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("qaz"!==prompt("Ingrese clave")){t.next=5;break}return t.next=3,Object(l.customFetch)("/goals/delete",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:e.id})});case 3:return t.next=5,m.b.invalidateQueries(["metas"]);case 5:case"end":return t.stop()}}),t)}))),children:"Eliminar"})]}):null]})]},e.id)}))}):null]})]})};t.default=function(e){var t,i=e.setShowMetasModal,n=+y.a.get("agency_id"),a=Object(p.useState)(1===n?"2":""+n),r=Object(d.a)(a,2),o=r[0],c=r[1],u=Object(p.useState)("month"),h=Object(d.a)(u,2),b=h[0],x=h[1],j=m.b.getQueryData(["perfiles",(new Date).toISOString().slice(0,-14)]),f=Object(m.d)(["operadores-goals"],E),w=f.data,v=f.status,_=Object(m.d)(["metas",void 0,void 0,b,void 0,void 0,o,""],l.fetchMetas),M=_.data,C=_.status,S=Object(p.useState)(0),I=Object(d.a)(S,2),N=I[0],k=I[1],D=Object(p.useState)(!1),T=Object(d.a)(D,2),R=T[0],B=T[1],z=m.b.getQueryData(["agency"]),F=null===z||void 0===z?void 0:z.find((function(e){return e.id===+o})),A=null===z||void 0===z?void 0:z.find((function(e){return 1===e.id})),P=null===j||void 0===j?void 0:j.filter((function(e){return e.agency_id===+o})),L=null===w||void 0===w?void 0:w.filter((function(e){return e.agency_id===+o})),W=JSON.parse(null!==(t=null===F||void 0===F?void 0:F.percentlevel)&&void 0!==t?t:"{}"),ee=Object(p.useState)(-1),te=Object(d.a)(ee,2),ie=te[0],ne=te[1],ae=Object(p.useState)(-1),de=Object(d.a)(ae,2),re=de[0],oe=de[1],ce=Object(p.useState)(-1),se=Object(d.a)(ce,2),pe=se[0],me=se[1],ue=Object(p.useState)(-1),ge=Object(d.a)(ue,2),he=ge[0],be=ge[1],xe=Object(p.useState)(-1),je=Object(d.a)(xe,2),fe=je[0],we=je[1],ye=Object(p.useState)(-1),ve=Object(d.a)(ye,2),Oe=ve[0],_e=ve[1],Me=Object(p.useState)(-1),Ce=Object(d.a)(Me,2),Se=Ce[0],Ie=Ce[1];return Object(O.jsx)(s.a,{setShowModal:i,children:"loading"===C||"loading"===v||R?Object(O.jsx)(J,{children:Object(O.jsx)(g.a,{})}):Object(O.jsx)(Q,{_css:[{width:"80vw",height:"80vh"},"@media (min-width: 2560px) { min-width: 1200px !important; min-height: 800px !important; }"],children:Object(O.jsxs)(q,{children:[1===n?Object(O.jsx)(G,{children:Object(O.jsx)(U,{value:o,onChange:function(e){!function(e){c(e);var t=null===z||void 0===z?void 0:z.find((function(t){return t.id===+e}));ne(parseFloat(t.percentday)),oe(parseFloat(t.percentevening)),me(parseFloat(t.percentnight)),be(parseFloat(t.lastmonthsgoals)),we(parseFloat(t.percentrewards)),_e(t.averagepoints),Ie(parseFloat(t.percentnight)+parseFloat(t.percentevening)+parseFloat(t.percentday)),k(N+1)}(e.target.value)},children:z.filter((function(e){return!0===e.isSub})).map((function(e){return Object(O.jsx)("option",{value:e.id,children:e.name})}))})}):null,Object(O.jsx)(X,{children:Object(O.jsxs)(Y,{type:"single",value:b,onValueChange:function(e){e&&x(e)},children:[Object(O.jsx)(H,{value:"day",_css2:[{"--tw-bg-opacity":"1",backgroundColor:"rgba(31, 31, 38, var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",fontWeight:"700",borderTopLeftRadius:"1rem",borderBottomLeftRadius:"1rem",borderWidth:"1px",borderColor:"#4c4c3f",borderStyle:"solid","@media (min-width: 768px)":{paddingRight:"0.25rem",paddingLeft:"0.5rem",paddingTop:"0.25rem",paddingBottom:"0.25rem"},"@media (min-width: 1280px)":{paddingRight:"0.75rem",paddingLeft:"1rem",paddingTop:"0.5rem",paddingBottom:"0.5rem"}},"day"===b?{"--tw-bg-opacity":"1",backgroundColor:"rgba(76, 76, 63, var(--tw-bg-opacity))"}:null],children:"Diarias"}),Object(O.jsx)(V,{value:"month",_css3:[{"--tw-bg-opacity":"1",backgroundColor:"rgba(31, 31, 38, var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",fontWeight:"700",borderWidth:"1px",borderColor:"#4c4c3f",borderStyle:"solid","@media (min-width: 768px)":{paddingLeft:"0.25rem",paddingRight:"0.25rem",paddingTop:"0.25rem",paddingBottom:"0.25rem"},"@media (min-width: 1280px)":{paddingLeft:"0.75rem",paddingRight:"0.75rem",paddingTop:"0.5rem",paddingBottom:"0.5rem"}},"month"===b?{"--tw-bg-opacity":"1",backgroundColor:"rgba(76, 76, 63, var(--tw-bg-opacity))"}:null],children:"Mensuales"}),Object(O.jsx)($,{value:"main",_css4:[{"--tw-bg-opacity":"1",backgroundColor:"rgba(31, 31, 38, var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",fontWeight:"700",borderWidth:"1px",borderColor:"#4c4c3f",borderStyle:"solid","@media (min-width: 768px)":{paddingLeft:"0.25rem",paddingRight:"0.25rem",paddingTop:"0.25rem",paddingBottom:"0.25rem"},"@media (min-width: 1280px)":{paddingLeft:"0.75rem",paddingRight:"0.75rem",paddingTop:"0.5rem",paddingBottom:"0.5rem"}},"main"===b?{"--tw-bg-opacity":"1",backgroundColor:"rgba(76, 76, 63, var(--tw-bg-opacity))"}:null],children:"Perfiles"}),Object(O.jsx)(K,{value:"historial",_css5:[{"--tw-bg-opacity":"1",backgroundColor:"rgba(31, 31, 38, var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",fontWeight:"700",borderWidth:"1px",borderColor:"#4c4c3f",borderStyle:"solid","@media (min-width: 768px)":{paddingLeft:"0.25rem",paddingRight:"0.25rem",paddingTop:"0.25rem",paddingBottom:"0.25rem"},"@media (min-width: 1280px)":{paddingLeft:"0.75rem",paddingRight:"0.75rem",paddingTop:"0.5rem",paddingBottom:"0.5rem"}},"historial"===b?{"--tw-bg-opacity":"1",backgroundColor:"rgba(76, 76, 63, var(--tw-bg-opacity))"}:null],children:"Historial"}),Object(O.jsx)(Z,{value:"formula",_css6:[{"--tw-bg-opacity":"1",backgroundColor:"rgba(31, 31, 38, var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",fontWeight:"700",borderTopRightRadius:"1rem",borderBottomRightRadius:"1rem",borderWidth:"1px",borderColor:"#4c4c3f",borderStyle:"solid","@media (min-width: 768px)":{paddingLeft:"0.25rem",paddingRight:"0.5rem",paddingTop:"0.25rem",paddingBottom:"0.25rem"},"@media (min-width: 1280px)":{paddingLeft:"0.75rem",paddingRight:"1rem",paddingTop:"0.5rem",paddingBottom:"0.5rem"}},"formula"===b?{"--tw-bg-opacity":"1",backgroundColor:"rgba(76, 76, 63, var(--tw-bg-opacity))"}:null],children:"Formula"})]})}),"month"===b||"day"===b?Object(O.jsx)(Et,{perfiles:P,metas:M,timespan:b,setTimespan:x,selectAgency:o}):null,"main"===b?Object(O.jsx)(it,{metas:M,setIsLoading:B,perfiles:P,operadores:L,selectAgency:o}):null,"historial"===b?Object(O.jsx)(le,{operadores:L,agency:F,selectAgency:o}):null,"formula"===b?Object(O.jsx)(Xe,{dayPercentUse:ie,setDayPercentUse:ne,eveningPercentUse:re,setEveningPercentUse:oe,nightPercentUse:pe,setNightPercentUse:me,lastMonths:he,setLastMonths:be,rewardsPercent:fe,setRewardsPercent:we,percentUse:Se,setPercentUse:Ie,setIsLoading:B,ListpercentLevel:W,selectAgency:o,agency:F,mainAgency:A,limitFire:Oe,setLimitFire:_e}):null]})})})}},90:function(e,t,i){"use strict";var n=i(3),a=i(0),d=i(1),r=Object(n.d)("div").withConfig({displayName:"Modal___StyledDiv",componentId:"tjiuax-0"})({position:"fixed",zIndex:"50",top:"0px",right:"0px",bottom:"0px",left:"0px",overflowY:"auto"}),o=Object(n.d)("div").withConfig({displayName:"Modal___StyledDiv2",componentId:"tjiuax-1"})({display:"flex",alignItems:"flex-end",justifyContent:"center",minHeight:"100vh",paddingTop:"1rem",paddingLeft:"1rem",paddingRight:"1rem",paddingBottom:"5rem",textAlign:"center","@media (min-width: 640px)":{display:"block",padding:"0px"}}),c=Object(n.d)("div").withConfig({displayName:"Modal___StyledDiv3",componentId:"tjiuax-2"})({position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px","--tw-bg-opacity":"0.7",backgroundColor:"rgba(23, 23, 27, var(--tw-bg-opacity))",transitionProperty:"opacity",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"150ms"}),s=Object(n.d)("span").withConfig({displayName:"Modal___StyledSpan",componentId:"tjiuax-3"})({display:"none","@media (min-width: 640px)":{display:"inline-block",verticalAlign:"middle",height:"100vh"}}),l=Object(n.d)("div").withConfig({displayName:"Modal___StyledDiv4",componentId:"tjiuax-4"})(["",""],(function(e){return e._css}));t.a=function(e){var t=e.children,i=e.setShowModal,n=Object(a.useRef)(null);return Object(a.useEffect)((function(){var e=n.current,t=function(e){"Escape"===e.key&&i(!1)};return e.addEventListener("keydown",t),e.focus(),function(){e.removeEventListener("keydown",t)}}),[i]),Object(d.jsx)(r,{"aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:Object(d.jsxs)(o,{ref:n,tabIndex:-1,children:[Object(d.jsx)(c,{"aria-hidden":"true",onClick:function(){return i(!1)}}),Object(d.jsx)(s,{"aria-hidden":"true",children:"\u200b"}),Object(d.jsx)(l,{_css:[{"--tw-translate-x":"0","--tw-translate-y":"0","--tw-rotate":"0","--tw-skew-x":"0","--tw-skew-y":"0","--tw-scale-x":"1","--tw-scale-y":"1",transform:"translateX(var(--tw-translate-x)) translateY(var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))",display:"inline-block",verticalAlign:"bottom","--tw-bg-opacity":"1",backgroundColor:"rgba(31, 31, 38, var(--tw-bg-opacity))",textAlign:"left",overflow:"hidden","--tw-shadow":"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)",transitionProperty:"all",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"150ms","@media (min-width: 640px)":{marginTop:"2rem",marginBottom:"2rem",verticalAlign:"middle"},"@media (min-width: 768px)":{borderRadius:"0.75rem"},"@media (min-width: 1024px)":{borderRadius:"1rem"},"@media (min-width: 1536px)":{borderRadius:"1.3rem"}},"@media (min-width: 2560px) { border-radius: 2.5rem !important; }","@media (min-height: 1000px) and (max-width: 767px) { border-radius:2.5rem !important; }"],children:t})]})})}}}]);