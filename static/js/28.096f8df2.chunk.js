(this.webpackJsonpivan=this.webpackJsonpivan||[]).push([[28],{464:function(t,e,i){"use strict";i.r(e);var n,d=i(5),o=i(6),a=i(2),r=i.n(a),l=i(7),c=i(89),s=i(10),p=i(0),m=i.n(p),u=i(12),b=i(29),g=i(43),h=i(3),v=i(58),f=i(59),x=i(62),j=["title","titleId"];function w(){return(w=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t}).apply(this,arguments)}function y(t,e){if(null==t)return{};var i,n,d=function(t,e){if(null==t)return{};var i,n,d={},o=Object.keys(t);for(n=0;n<o.length;n++)i=o[n],e.indexOf(i)>=0||(d[i]=t[i]);return d}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)i=o[n],e.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(t,i)&&(d[i]=t[i])}return d}function _(t,e){var i=t.title,d=t.titleId,o=y(t,j);return p.createElement("svg",w({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",ref:e,"aria-labelledby":d},o),i?p.createElement("title",{id:d},i):null,n||(n=p.createElement("path",{d:"M0 224c0 17.7 14.3 32 32 32s32-14.3 32-32c0-53 43-96 96-96H320v32c0 12.9 7.8 24.6 19.8 29.6s25.7 2.2 34.9-6.9l64-64c12.5-12.5 12.5-32.8 0-45.3l-64-64c-9.2-9.2-22.9-11.9-34.9-6.9S320 19.1 320 32V64H160C71.6 64 0 135.6 0 224zm512 64c0-17.7-14.3-32-32-32s-32 14.3-32 32c0 53-43 96-96 96H192V352c0-12.9-7.8-24.6-19.8-29.6s-25.7-2.2-34.9 6.9l-64 64c-12.5 12.5-12.5 32.8 0 45.3l64 64c9.2 9.2 22.9 11.9 34.9 6.9s19.8-16.6 19.8-29.6V448H352c88.4 0 160-71.6 160-160z"})))}var C=p.forwardRef(_),O=(i.p,i(93)),I=i(8),k=i.n(I),S=i(1),M=function(){var t=Object(l.a)(r.a.mark((function t(e){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return",null);case 2:return t.next=4,Object(s.customFetch)("/clients/translate-text?text=".concat(e));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),N=h.d.input.withConfig({displayName:"ModalChat__Input",componentId:"sc-1fddwaj-0"})({appearance:"none",backgroundColor:"transparent",fontSize:"1rem",fontWeight:"500","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",marginLeft:"1rem",marginRight:"1rem",flex:"1 1 auto",borderBottomWidth:"2px",paddingLeft:"0.25rem",paddingRight:"0.25rem"}),D=Object(h.d)(N).withConfig({displayName:"ModalChat___StyledInput",componentId:"sc-1fddwaj-1"})({width:"90%",marginTop:"8px"}),R=h.d.span.withConfig({displayName:"ModalChat__Fecha",componentId:"sc-1fddwaj-2"})(["@media (min-width:2560px){font-size:0.625em !important;}",""],{"--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",fontSize:"0.3rem",letterSpacing:"0.08em",marginLeft:"1.5em",marginRight:"1.5em",fontWeight:"700","@media (min-width: 1024px)":{fontSize:"0.4rem"},"@media (min-width: 1280px)":{fontSize:"0.5rem"}}),B=h.d.button.withConfig({displayName:"ModalChat__Button",componentId:"sc-1fddwaj-3"})(["@media (min-width:2560px){padding:4px 8px !important;margin-bottom:12px !important;}@media (min-height:1000px) and (max-width:767px) and (min-width:651px){padding:4px 8px !important;margin-bottom:12px !important;}@media (min-width:401px) and (max-width:650px) and (min-height:1000px){padding:2px 4px !important;margin-bottom:8px !important;}@media (max-height:999px) and (min-width:651px) and (max-width:767px){padding:2px 4px !important;margin-bottom:8px !important;}@media (min-width:401px) and (max-width:650px) and (max-height:999px){padding:2px 4px !important;margin-bottom:4px !important;}@media (max-width:400px) and (max-height:999px){padding:1px 2px !important;margin-bottom:2px !important;}"," border:1px solid #4c4c3f;transition:background-color 0.15s linear;"],{"--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",padding:"1.5px 3px",borderRadius:"8px",marginBottom:"4px",":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgba(76, 76, 63, var(--tw-bg-opacity))"},"@media (min-width: 1024px)":{padding:"3px 6px",marginBottom:"6px"},"@media (min-width: 1280px)":{padding:"4px 8px",marginBottom:"10px"}}),F=function(){var t=Object(l.a)(r.a.mark((function t(e,i,n){var d;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d=1!==parseFloat(n)?"&agencyId=".concat(n):"",t.t0=s.renombrarPropiedadesAnidadas,t.next=4,Object(s.customFetch)("/clients/info-client-ficha?id=".concat(i).concat(d));case 4:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 6:case"end":return t.stop()}}),t)})));return function(e,i,n){return t.apply(this,arguments)}}(),T=Object(h.d)("div").withConfig({displayName:"ModalChat___StyledDiv",componentId:"sc-1fddwaj-4"})(["",""],(function(t){return t._css})),E=Object(h.d)("div").withConfig({displayName:"ModalChat___StyledDiv2",componentId:"sc-1fddwaj-5"})(["",""],(function(t){return t._css2})),z=Object(h.d)("div").withConfig({displayName:"ModalChat___StyledDiv3",componentId:"sc-1fddwaj-6"})(["",""],(function(t){return t._css3})),A=Object(h.d)("audio").withConfig({displayName:"ModalChat___StyledAudio",componentId:"sc-1fddwaj-7"})({width:"100%"}),W=Object(h.d)("div").withConfig({displayName:"ModalChat___StyledDiv4",componentId:"sc-1fddwaj-8"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(31, 31, 38, var(--tw-bg-opacity))",borderRadius:"1rem",padding:"0.5rem"}),L=Object(h.d)("div").withConfig({displayName:"ModalChat___StyledDiv5",componentId:"sc-1fddwaj-9"})(["",""],(function(t){return t._css4})),H=Object(h.d)("img").withConfig({displayName:"ModalChat___StyledImg",componentId:"sc-1fddwaj-10"})({height:"300px",width:"auto",borderRadius:"2rem",cursor:"pointer"}),P=Object(h.d)("div").withConfig({displayName:"ModalChat___StyledDiv6",componentId:"sc-1fddwaj-11"})(["",""],(function(t){return t._css5})),V=Object(h.d)("video").withConfig({displayName:"ModalChat___StyledVideo",componentId:"sc-1fddwaj-12"})({height:"300px",width:"auto",borderRadius:"2rem"}),Y=Object(h.d)("div").withConfig({displayName:"ModalChat___StyledDiv7",componentId:"sc-1fddwaj-13"})({display:"flex",alignItems:"center",justifyContent:"center",width:"100%"}),X=Object(h.d)(v.a).withConfig({displayName:"ModalChat___StyledEmailArrowLeftRedSvg",componentId:"sc-1fddwaj-14"})({width:"2rem",height:"2rem",marginTop:"0.25rem",marginBottom:"0.25rem"}),G=Object(h.d)(f.a).withConfig({displayName:"ModalChat___StyledEmailArrowRightGreenSvg",componentId:"sc-1fddwaj-15"})({width:"2rem",height:"2rem",marginTop:"0.25rem",marginBottom:"0.25rem"}),J=Object(h.d)("div").withConfig({displayName:"ModalChat___StyledDiv8",componentId:"sc-1fddwaj-16"})(["",""],(function(t){return t._css6})),Q=Object(h.d)("div").withConfig({displayName:"ModalChat___StyledDiv9",componentId:"sc-1fddwaj-17"})(["",""],(function(t){return t._css7})),q=Object(h.d)("div").withConfig({displayName:"ModalChat___StyledDiv10",componentId:"sc-1fddwaj-18"})({display:"flex",justifyContent:"flex-end"}),K=Object(h.d)("button").withConfig({displayName:"ModalChat___StyledButton",componentId:"sc-1fddwaj-19"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))",borderRadius:"1rem",fontWeight:"700",padding:"0.5rem",margin:"0.25rem"}),U=Object(h.d)("div").withConfig({displayName:"ModalChat___StyledDiv11",componentId:"sc-1fddwaj-20"})(["",""],(function(t){return t._css8})),Z=Object(h.d)("button").withConfig({displayName:"ModalChat___StyledButton2",componentId:"sc-1fddwaj-21"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))",borderRadius:"1rem",padding:"0.25rem"}),$=Object(h.d)("div").withConfig({displayName:"ModalChat___StyledDiv12",componentId:"sc-1fddwaj-22"})(["",""],(function(t){return t._css9})),tt=Object(h.d)("button").withConfig({displayName:"ModalChat___StyledButton3",componentId:"sc-1fddwaj-23"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))",borderRadius:"1rem",padding:"0.25rem"}),et=Object(h.d)("div").withConfig({displayName:"ModalChat___StyledDiv13",componentId:"sc-1fddwaj-24"})({display:"flex",flexShrink:"1",gap:"0.5rem"}),it=Object(h.d)("img").withConfig({displayName:"ModalChat___StyledImg2",componentId:"sc-1fddwaj-25"})({width:"75px",height:"75px",cursor:"pointer",borderRadius:"1rem"}),nt=Object(h.d)("div").withConfig({displayName:"ModalChat___StyledDiv14",componentId:"sc-1fddwaj-26"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(31, 31, 38, var(--tw-bg-opacity))",borderRadius:"2rem",padding:"0.5rem"}),dt=Object(h.d)("img").withConfig({displayName:"ModalChat___StyledImg3",componentId:"sc-1fddwaj-27"})({height:"300px",width:"auto",borderRadius:"2rem"}),ot=Object(h.d)("div").withConfig({displayName:"ModalChat___StyledDiv15",componentId:"sc-1fddwaj-28"})({width:"340px"}),at=Object(h.d)("div").withConfig({displayName:"ModalChat___StyledDiv16",componentId:"sc-1fddwaj-29"})({display:"flex",alignItems:"center",justifyContent:"center",width:"100%"}),rt=Object(h.d)(x.a).withConfig({displayName:"ModalChat___StyledGiftBagSvg",componentId:"sc-1fddwaj-30"})({width:"2rem",height:"2rem",marginTop:"0.25rem",marginBottom:"0.25rem"}),lt=Object(h.d)("div").withConfig({displayName:"ModalChat___StyledDiv17",componentId:"sc-1fddwaj-31"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(31, 31, 38, var(--tw-bg-opacity))",borderRadius:"2rem",display:"flex",alignItems:"center",justifyContent:"center",width:"100%"}),ct=Object(h.d)("img").withConfig({displayName:"ModalChat___StyledImg4",componentId:"sc-1fddwaj-32"})({height:"300px",width:"auto",borderRadius:"2rem"}),st=Object(h.d)("div").withConfig({displayName:"ModalChat___StyledDiv18",componentId:"sc-1fddwaj-33"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(31, 31, 38, var(--tw-bg-opacity))",borderRadius:"1rem",padding:"0.5rem"}),pt=Object(h.d)("div").withConfig({displayName:"ModalChat___StyledDiv19",componentId:"sc-1fddwaj-34"})(["",""],(function(t){return t._css10})),mt=Object(h.d)("button").withConfig({displayName:"ModalChat___StyledButton4",componentId:"sc-1fddwaj-35"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))",borderRadius:"1rem",padding:"0.25rem"}),ut=Object(h.d)("div").withConfig({displayName:"ModalChat___StyledDiv20",componentId:"sc-1fddwaj-36"})(["",""],(function(t){return t._css11})),bt=Object(h.d)("button").withConfig({displayName:"ModalChat___StyledButton5",componentId:"sc-1fddwaj-37"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))",borderRadius:"1rem",padding:"0.25rem"}),gt=function(t){var e,i,n,d,a,c,p,u,b,g,h,v,f,x,j,w,y,_,C=t.justify,O=t.data,I=t.keyNum,k=t.TranslateTextData,M=m.a.useState(!1),N=Object(o.a)(M,2),D=N[0],B=N[1],F=m.a.useState(!1),gt=Object(o.a)(F,2),ht=gt[0],vt=gt[1],ft=m.a.useState(!1),xt=Object(o.a)(ft,2),jt=xt[0],wt=xt[1],yt=new Date(null===O||void 0===O?void 0:O.timestamp),_t=yt.getHours(),Ct=yt.getDate();Ct=Ct<10?"0".concat(Ct):Ct;var Ot=yt.getMinutes();Ot=Ot<10?"0".concat(Ot):Ot;var It=Object(s.mesDelYear)(yt.getMonth()),kt=yt.getFullYear(),St=_t<12?"am":"pm",Mt=!1===D?null===O||void 0===O?void 0:O.text:null===O||void 0===O?void 0:O.text_translate;return Object(S.jsx)(T,{_css:[{display:"flex",marginTop:"0.25rem",marginBottom:"0.25rem",padding:"0.25rem",width:"100%"},"right"===C?{justifyContent:"flex-end"}:{justifyContent:"flex-start"}],children:Object(S.jsx)(E,{_css2:[{width:"50%",textAlign:"left",flexShrink:"1",display:"flex",flexDirection:"column"},"right"===C?{alignItems:"flex-end"}:{alignItems:"flex-start"}],children:Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)(R,{children:[Ct," de ",It," del ",kt," - ",_t<13?_t:_t-12,":",Ot," ",St]}),"Voice message"===(null===O||void 0===O||null===(e=O.text)||void 0===e?void 0:e.trim())?Object(S.jsx)(S.Fragment,{children:null===O||void 0===O||null===(i=O.medialink)||void 0===i?void 0:i.filter((function(t){return"audio"===(null===t||void 0===t?void 0:t.type)})).map((function(t){return Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(z,{_css3:[{width:"100%",borderWidth:"4px",borderRadius:"2rem"},!0===(null===O||void 0===O?void 0:O.read)?{"--tw-border-opacity":"1",borderColor:"rgba(16, 185, 129, var(--tw-border-opacity))"}:!1===(null===O||void 0===O?void 0:O.read)?{"--tw-border-opacity":"1",borderColor:"rgba(245, 158, 11, var(--tw-border-opacity))"}:{"--tw-border-opacity":"1",borderColor:"rgba(59, 130, 246, var(--tw-border-opacity))"}],children:Object(S.jsx)(A,{controls:!0,src:null===t||void 0===t?void 0:t.link})})})}))}):"Sent image"===(null===O||void 0===O||null===(n=O.text)||void 0===n?void 0:n.trim())?Object(S.jsx)(W,{children:null===O||void 0===O||null===(d=O.medialink)||void 0===d?void 0:d.filter((function(t){return"image"===t.type})).map((function(t){return Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(L,{_css4:[{borderWidth:"4px",borderRadius:"2rem"},!0===(null===O||void 0===O?void 0:O.read)?{"--tw-border-opacity":"1",borderColor:"rgba(16, 185, 129, var(--tw-border-opacity))"}:!1===(null===O||void 0===O?void 0:O.read)?{"--tw-border-opacity":"1",borderColor:"rgba(245, 158, 11, var(--tw-border-opacity))"}:{"--tw-border-opacity":"1",borderColor:"rgba(59, 130, 246, var(--tw-border-opacity))"}],children:Object(S.jsx)(H,{alt:"SendImage",src:null===t||void 0===t?void 0:t.link,onClick:function(t){return Object(s.toggleFullscreen)(t)},className:"canfullscreen"})})})}))}):"Sent you a video"===(null===O||void 0===O||null===(a=O.text)||void 0===a?void 0:a.trim())?Object(S.jsx)(P,{_css5:[{"--tw-bg-opacity":"1",backgroundColor:"rgba(31, 31, 38, var(--tw-bg-opacity))",borderRadius:"2rem",padding:"0.5rem",display:"flex",flexDirection:"column",borderWidth:"4px"},"right"===C?{alignItems:"flex-end"}:{alignItems:"flex-start"},!0===(null===O||void 0===O?void 0:O.read)?{"--tw-border-opacity":"1",borderColor:"rgba(16, 185, 129, var(--tw-border-opacity))"}:!1===(null===O||void 0===O?void 0:O.read)?{"--tw-border-opacity":"1",borderColor:"rgba(245, 158, 11, var(--tw-border-opacity))"}:{"--tw-border-opacity":"1",borderColor:"rgba(59, 130, 246, var(--tw-border-opacity))"}],children:null===O||void 0===O||null===(c=O.medialink)||void 0===c?void 0:c.filter((function(t){return"video"===t.type})).map((function(t){return Object(S.jsx)(S.Fragment,{children:Object(S.jsx)("div",{children:Object(S.jsx)(V,{controls:!0,children:Object(S.jsx)("source",{src:null===t||void 0===t?void 0:t.link,type:"video/mp4"})})})})}))}):"Sent letter"===(null===O||void 0===O||null===(p=O.text)||void 0===p?void 0:p.trim())?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(Y,{children:"left"===C?Object(S.jsx)(X,{}):Object(S.jsx)(G,{})}),Object(S.jsx)(J,{_css6:[{"--tw-bg-opacity":"1",backgroundColor:"rgba(31, 31, 38, var(--tw-bg-opacity))",borderRadius:"1rem",padding:"0.5rem",borderWidth:"4px"},!0===(null===O||void 0===O?void 0:O.read)?{"--tw-border-opacity":"1",borderColor:"rgba(16, 185, 129, var(--tw-border-opacity))"}:!1===(null===O||void 0===O?void 0:O.read)?{"--tw-border-opacity":"1",borderColor:"rgba(245, 158, 11, var(--tw-border-opacity))"}:{"--tw-border-opacity":"1",borderColor:"rgba(59, 130, 246, var(--tw-border-opacity))"}],children:Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(Q,{_css7:[!1===ht?{overflow:"hidden",height:"5rem",flexWrap:"wrap"}:null],children:!1===D?(null===O||void 0===O||null===(u=O.medialink)||void 0===u||null===(b=u.find((function(t){return"letter"===t.type})))||void 0===b||null===(g=b.link)||void 0===g?void 0:g.subject)+" "+(null===O||void 0===O||null===(h=O.medialink)||void 0===h||null===(v=h.find((function(t){return"letter"===t.type})))||void 0===v||null===(f=v.link)||void 0===f?void 0:f.text):null===O||void 0===O?void 0:O.text_translate}),!1===ht?Object(S.jsx)(q,{children:Object(S.jsx)(K,{onClick:function(){return vt(!0)},children:"Mostrar mas..."})}):null,jt?null:Object(S.jsx)(S.Fragment,{children:!1===D?Object(S.jsx)(U,{_css8:["right"===C?{textAlign:"right",justifyContent:"flex-start"}:{textAlign:"left",justifyContent:"flex-end"},"@media (min-width: 2560px) { font-size: 0.7rem !important; }",{fontSize:"0.4rem",fontWeight:"700",display:"flex"}],children:Object(S.jsx)(Z,{onClick:Object(l.a)(r.a.mark((function t(){var e,i,n,d,o,a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(wt(!0),""!==(null===O||void 0===O?void 0:O.text_translate)){t.next=6;break}return t.next=4,k(I,(null===O||void 0===O||null===(e=O.medialink)||void 0===e||null===(i=e.find((function(t){return"letter"===t.type})))||void 0===i||null===(n=i.link)||void 0===n?void 0:n.subject)+" "+(null===O||void 0===O||null===(d=O.medialink)||void 0===d||null===(o=d.find((function(t){return"letter"===t.type})))||void 0===o||null===(a=o.link)||void 0===a?void 0:a.text),B);case 4:t.next=7;break;case 6:B(!0);case 7:wt(!1);case 8:case"end":return t.stop()}}),t)}))),children:"Traducir"})}):Object(S.jsx)($,{_css9:["right"!==C?{textAlign:"right"}:{textAlign:"left"},{fontSize:"0.4rem",fontWeight:"700"}],children:Object(S.jsx)(tt,{onClick:function(){return B(!1)},children:"Original"})})}),Object(S.jsx)(et,{children:null===O||void 0===O||null===(x=O.medialink)||void 0===x?void 0:x.filter((function(t){return"image"===t.type})).map((function(t){return Object(S.jsx)(S.Fragment,{children:Object(S.jsx)("div",{children:Object(S.jsx)(it,{alt:"SendImage",src:null===t||void 0===t?void 0:t.link,onClick:function(t){return Object(s.toggleFullscreen)(t)},className:"canfullscreen"})})})}))})]})})]}):"Sent a sticker."===(null===O||void 0===O||null===(j=O.text)||void 0===j?void 0:j.trim())?Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(nt,{children:null===O||void 0===O||null===(w=O.medialink)||void 0===w?void 0:w.filter((function(t){return"image"===t.type})).map((function(t){return Object(S.jsx)(S.Fragment,{children:Object(S.jsx)("div",{children:Object(S.jsx)(dt,{alt:"SendImage",src:null===t||void 0===t?void 0:t.link})})})}))})}):"Sent you a gift"===(null===O||void 0===O||null===(y=O.text)||void 0===y?void 0:y.trim())?Object(S.jsxs)(ot,{children:[Object(S.jsx)(at,{children:Object(S.jsx)(rt,{})}),Object(S.jsx)(lt,{children:null===O||void 0===O||null===(_=O.medialink)||void 0===_?void 0:_.filter((function(t){return"image"===t.type})).map((function(t){return Object(S.jsx)(S.Fragment,{children:Object(S.jsx)("div",{children:Object(S.jsx)(ct,{alt:"SendImage",src:null===t||void 0===t?void 0:t.link})})})}))})]}):Object(S.jsx)(st,{children:Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("div",{children:Mt}),jt?null:Object(S.jsx)(S.Fragment,{children:!1===D?Object(S.jsx)(pt,{_css10:[{fontSize:"0.4rem",textAlign:"left",fontWeight:"700"},"@media (min-width: 2560px) { font-size: 0.7rem !important; }","right"!==C?{textAlign:"right"}:{textAlign:"left"}],children:Object(S.jsx)(mt,{onClick:Object(l.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(wt(!0),""!==(null===O||void 0===O?void 0:O.text_translate)){t.next=6;break}return t.next=4,k(I,null===O||void 0===O?void 0:O.text,B);case 4:t.next=7;break;case 6:B(!0);case 7:wt(!1);case 8:case"end":return t.stop()}}),t)}))),children:"Traducir"})}):Object(S.jsx)(ut,{_css11:[{fontSize:"0.4rem",fontWeight:"700"},"@media (min-width: 2560px) { font-size: 0.7rem !important; }","right"!==C?{textAlign:"right"}:{textAlign:"left"}],children:Object(S.jsx)(bt,{onClick:function(){return B(!1)},children:"Original"})})})]})})]})})},null===O||void 0===O?void 0:O.id)},ht=Object(h.d)("div").withConfig({displayName:"ModalChat___StyledDiv21",componentId:"sc-1fddwaj-38"})(["",""],(function(t){return t._css12})),vt=Object(h.d)("div").withConfig({displayName:"ModalChat___StyledDiv22",componentId:"sc-1fddwaj-39"})({fontWeight:"700",fontSize:"1rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",marginBottom:"0.5rem",width:"100%"}),ft=Object(h.d)("img").withConfig({displayName:"ModalChat___StyledImg5",componentId:"sc-1fddwaj-40"})({objectFit:"cover",borderRadius:"9999px",width:"50px",height:"50px"}),xt=Object(h.d)("div").withConfig({displayName:"ModalChat___StyledDiv23",componentId:"sc-1fddwaj-41"})({display:"flex",alignItems:"center",cursor:"pointer"}),jt=Object(h.d)("img").withConfig({displayName:"ModalChat___StyledImg6",componentId:"sc-1fddwaj-42"})(["",""],(function(t){return t._css13})),wt=Object(h.d)("div").withConfig({displayName:"ModalChat___StyledDiv24",componentId:"sc-1fddwaj-43"})({appearance:"none",backgroundColor:"transparent",fontSize:"1rem",fontWeight:"500","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",marginLeft:"1rem",marginRight:"1rem",flex:"1 1 auto",borderBottomWidth:"2px",paddingLeft:"0.25rem",paddingRight:"0.25rem",width:"100%"}),yt=Object(h.d)("div").withConfig({displayName:"ModalChat___StyledDiv25",componentId:"sc-1fddwaj-44"})(["",""],(function(t){return t._css14})),_t=Object(h.d)("button").withConfig({displayName:"ModalChat___StyledButton6",componentId:"sc-1fddwaj-45"})(["",""],(function(t){return t._css15})),Ct=Object(h.d)("label").withConfig({displayName:"ModalChat___StyledLabel",componentId:"sc-1fddwaj-46"})({display:"flex",alignItems:"center",justifyContent:"space-between",paddingLeft:"0.5rem",paddingRight:"0.5rem",gap:"0.5rem",borderBottomWidth:"2px","--tw-border-opacity":"1",borderColor:"rgba(31, 41, 55, var(--tw-border-opacity))",paddingTop:"0.5rem",paddingBottom:"0.5rem",cursor:"pointer"}),Ot=Object(h.d)("img").withConfig({displayName:"ModalChat___StyledImg7",componentId:"sc-1fddwaj-47"})(["",""],(function(t){return t._css16})),It=Object(h.d)("button").withConfig({displayName:"ModalChat___StyledButton7",componentId:"sc-1fddwaj-48"})(["",""],(function(t){return t._css17})),kt=Object(h.d)("label").withConfig({displayName:"ModalChat___StyledLabel2",componentId:"sc-1fddwaj-49"})({display:"flex",alignItems:"center",justifyContent:"space-between",paddingLeft:"0.5rem",paddingRight:"0.5rem",gap:"0.5rem",borderBottomWidth:"2px","--tw-border-opacity":"1",borderColor:"rgba(31, 41, 55, var(--tw-border-opacity))",paddingTop:"0.5rem",paddingBottom:"0.5rem",cursor:"pointer"}),St=Object(h.d)("img").withConfig({displayName:"ModalChat___StyledImg8",componentId:"sc-1fddwaj-50"})(["",""],(function(t){return t._css18})),Mt=Object(h.d)("div").withConfig({displayName:"ModalChat___StyledDiv26",componentId:"sc-1fddwaj-51"})({display:"flex",alignItems:"center"}),Nt=Object(h.d)("button").withConfig({displayName:"ModalChat___StyledButton8",componentId:"sc-1fddwaj-52"})(["",""],(function(t){return t._css19})),Dt=Object(h.d)(C).withConfig({displayName:"ModalChat___StyledRepeatSvg",componentId:"sc-1fddwaj-53"})(["",""],(function(t){return t._css20})),Rt=Object(h.d)("div").withConfig({displayName:"ModalChat___StyledDiv27",componentId:"sc-1fddwaj-54"})(["",""],(function(t){return t._css21})),Bt=Object(h.d)("div").withConfig({displayName:"ModalChat___StyledDiv28",componentId:"sc-1fddwaj-55"})({display:"flex",justifyContent:"center",marginTop:"0.25rem",marginBottom:"0.25rem",padding:"0.25rem",width:"100%"}),Ft=Object(h.d)("div").withConfig({displayName:"ModalChat___StyledDiv29",componentId:"sc-1fddwaj-56"})({width:"50%",textAlign:"center"}),Tt=Object(h.d)("button").withConfig({displayName:"ModalChat___StyledButton9",componentId:"sc-1fddwaj-57"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(76, 76, 63, var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",padding:"0.5rem",borderRadius:"1rem"});e.default=function(t){var e,i,n,a,p,v,f,x,j,w,y,_,C,I,N,R,T,E,z,A,W,L=t.clientid,H=t.setShowChat,P=t.ProfileChat,V=+k.a.get("agency_id"),Y=+k.a.get("id"),X=k.a.get("role"),G={send:"send"},J=Object(u.d)(["clientes",L,V],F).data,Q=u.b.getQueryData(["perfiles",(new Date).toISOString().slice(0,-14)]),q=m.a.useRef(),K=m.a.useState(!1),U=Object(o.a)(K,2),Z=U[0],$=U[1],tt=m.a.useState(!1),et=Object(o.a)(tt,2),it=et[0],nt=et[1],dt=m.a.useState(!0),ot=Object(o.a)(dt,2),at=ot[0],rt=ot[1],lt=m.a.useState(G),ct=Object(o.a)(lt,2),st=ct[0],pt=ct[1],mt=m.a.useState(0),ut=Object(o.a)(mt,2),bt=ut[0],Et=ut[1],zt=m.a.useState(""),At=Object(o.a)(zt,2),Wt=At[0],Lt=At[1],Ht=m.a.useState(!1),Pt=Object(o.a)(Ht,2),Vt=Pt[0],Yt=Pt[1],Xt=m.a.useState(P),Gt=Object(o.a)(Xt,2),Jt=Gt[0],Qt=Gt[1],qt=m.a.useState(1),Kt=Object(o.a)(qt,2),Ut=Kt[0],Zt=Kt[1],$t=function(){var t=Object(l.a)(r.a.mark((function t(e,i,n,o){var a,l,c,p;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&i&&n){t.next=2;break}return t.abrupt("return",null);case 2:return t.next=4,Object(s.customFetch)("/clients/client-chat?clientId=".concat(e,"&profileId=").concat(i,"&page=").concat(n));case 4:if(c=t.sent,0!==(null===(a=Object.keys(c))||void 0===a?void 0:a.length)){t.next=8;break}return o(!0),t.abrupt("return",pt([]));case 8:if(Et(null===(l=Object.keys(c))||void 0===l?void 0:l.length),!(n>1)){t.next=15;break}return p=Object(d.a)(Object(d.a)({},c),st),o(!0),t.abrupt("return",pt(p));case 15:return o(!0),pt(c),setTimeout((function(){var t,e,i,n=null!==(t=null===(e=document.getElementById("ChatClient"))||void 0===e?void 0:e.scrollHeight)&&void 0!==t?t:0;void 0!==document.getElementById("ChatClient")&&void 0!==(null===(i=document.getElementById("ChatClient"))||void 0===i?void 0:i.scrollTop)&&(document.getElementById("ChatClient").scrollTop=n)}),500),t.abrupt("return");case 19:case"end":return t.stop()}}),t)})));return function(e,i,n,d){return t.apply(this,arguments)}}(),te=function(){var t=Object(l.a)(r.a.mark((function t(e,i,n){var d,o;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e||i){t.next=2;break}return t.abrupt("return",null);case 2:return t.next=4,M(i);case 4:if(d=t.sent,o=st,0!==d.status){t.next=8;break}return t.abrupt("return",n(!1));case 8:return o[e].text_translate=d.text,o[e].lang=d.lang,n(!0),pt(o),t.abrupt("return");case 13:case"end":return t.stop()}}),t)})));return function(e,i,n){return t.apply(this,arguments)}}(),ee=m.a.useCallback((function(){$(!1)}),[$]),ie=function(t){Qt(t),Zt(1),Lt(""),pt(G),$(!1),nt(!1)};if((null===J||void 0===J||null===(e=J.perfiles)||void 0===e?void 0:e.length)>0&&(-1===+Jt||void 0===Jt)){var ne,de,oe=null===J||void 0===J||null===(ne=J.perfiles)||void 0===ne||null===(de=ne[0])||void 0===de?void 0:de.id;void 0!==oe&&Qt(oe)}if(!1===Vt)z=null===Q||void 0===Q?void 0:Q.find((function(t){return(null===t||void 0===t?void 0:t.id)===Jt}));else{var ae=null===Q||void 0===Q?void 0:Q.find((function(t){return(null===t||void 0===t?void 0:t.id)===Jt}));z=ae}(0===(null===J||void 0===J||null===(i=J.perfiles)||void 0===i?void 0:i.length)&&!1===it&&void 0===(null===(n=z)||void 0===n?void 0:n.amolatinaId)&&(pt([]),nt(!0)),Object.keys(st).filter((function(t){return"send"===t})).length>0&&!1===it&&void 0!==(null===J||void 0===J||null===(a=J.cliente)||void 0===a?void 0:a.amolatinaId)&&void 0!==(null===(p=z)||void 0===p?void 0:p.amolatinaId)&&-1!==Jt)&&$t(null===J||void 0===J||null===(A=J.cliente)||void 0===A?void 0:A.amolatinaId,null===(W=z)||void 0===W?void 0:W.amolatinaId,Ut,nt);return Object(s.useClickOutside)(q,ee),Object(S.jsx)(c.a,{setShowModal:H,children:Object(S.jsxs)(ht,{_css12:[{"--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",width:"70vw",height:"95vh","@media (min-width: 768px)":{padding:"0.5rem",gap:"0.375rem"},"@media (min-width: 1024px)":{padding:"1rem",gap:"0.75rem"}},"@media (min-width: 2560px) { padding: 1rem !important; grid-gap: 0.75rem !important; width: 1000px !important; }"],children:[Object(S.jsxs)(vt,{children:[Object(S.jsx)(ft,{alt:"Foto de ficha",src:null!==(v=null===J||void 0===J||null===(f=J.cliente)||void 0===f?void 0:f.foto)&&void 0!==v?v:O.a,onError:function(t){var e=t.currentTarget;e.onerror=null,e.src=O.a}}),Object(S.jsx)("span",{children:null===J||void 0===J||null===(x=J.cliente)||void 0===x?void 0:x.nombre}),Object(S.jsxs)(xt,{onClick:function(t){t.stopPropagation(),$(!0!==Z)},children:[Object(S.jsx)(jt,{alt:"Foto de ficha",src:null!==(j=null===(w=z)||void 0===w?void 0:w.foto)&&void 0!==j?j:O.a,onError:function(t){var e=t.currentTarget;e.onerror=null,e.src=O.a},_css13:[{objectFit:"cover",borderRadius:"9999px",width:"50px",height:"50px"},null===(null===(y=z)||void 0===y?void 0:y.token)?{"--tw-border-opacity":"1",borderColor:"rgba(220, 38, 38, var(--tw-border-opacity))",borderWidth:"4px"}:null]}),Object(S.jsx)(wt,{children:null!==(_=null===(C=z)||void 0===C?void 0:C.nombre)&&void 0!==_?_:"Sin Perfil"}),Object(S.jsxs)(yt,{ref:q,_css14:[{fontSize:"1rem",borderRadius:"1rem",display:"flex",alignItems:"center",flexDirection:"column",position:"fixed",top:"60px",padding:"0.5rem",width:"250px",maxHeight:"500px",overflowX:"hidden"},"background-color: rgba(31, 31, 38, var(--tw-bg-opacity)); z-index: 20; border: 1px solid #4c4c3f;",!1===Z?"display:none;":"display:block;",b.b],children:[Object(S.jsx)(D,{type:"text",placeholder:"Buscar",value:Wt,onChange:function(t){return Lt(t.target.value)}}),!1===Vt?Object(S.jsxs)(S.Fragment,{children:[null===J||void 0===J||null===(I=J.perfiles)||void 0===I?void 0:I.filter((function(t){var e,i;return null===(e=t.nombre)||void 0===e||null===(i=e.toLowerCase())||void 0===i?void 0:i.includes(null===Wt||void 0===Wt?void 0:Wt.toLowerCase())})).map((function(t){var e;return Object(S.jsx)(_t,{onClick:function(e){e.preventDefault(),ie(null===t||void 0===t?void 0:t.id),$(!1),Lt("")},_css15:[{width:"100%",":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgba(75, 85, 99, var(--tw-bg-opacity))"},borderRadius:"1rem"},(null===t||void 0===t?void 0:t.id)===(null===(e=z)||void 0===e?void 0:e.id)?{"--tw-bg-opacity":"1",backgroundColor:"rgba(75, 85, 99, var(--tw-bg-opacity))"}:null],children:Object(S.jsxs)(Ct,{children:[Object(S.jsx)(Ot,{src:null===t||void 0===t?void 0:t.foto,alt:"Foto de perfil",_css16:[{width:"50px",height:"50px",borderRadius:"9999px"},null===(null===t||void 0===t?void 0:t.token)?{"--tw-border-opacity":"1",borderColor:"rgba(220, 38, 38, var(--tw-border-opacity))",borderWidth:"4px"}:null]}),null===t||void 0===t?void 0:t.nombre]})},null===t||void 0===t?void 0:t.id)})),Object(S.jsx)(B,{onClick:function(t){t.stopPropagation(),Yt(!0)},children:"Elegir un perfil manualmente"})]}):null,!0===Vt?Object(S.jsxs)(S.Fragment,{children:[null===Q||void 0===Q||null===(N=Q.filter((function(t){return!t.hidden&&t.activo&&(1===V||V===t.agency_id)}),[V]))||void 0===N||null===(R=N.filter((function(t){return"admin"===X||"supervisor"===X||!(!t.operador||t.operador.id!==Y)}),[Y,X]))||void 0===R?void 0:R.filter((function(t){var e,i;return null===(e=t.nombre)||void 0===e||null===(i=e.toLowerCase())||void 0===i?void 0:i.includes(null===Wt||void 0===Wt?void 0:Wt.toLowerCase())})).map((function(t){var e;return Object(S.jsx)(It,{onClick:function(e){e.preventDefault(),ie(null===t||void 0===t?void 0:t.id),$(!1),Lt("")},_css17:[{width:"100%",":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgba(75, 85, 99, var(--tw-bg-opacity))"},borderRadius:"1rem"},(null===t||void 0===t?void 0:t.id)===(null===(e=z)||void 0===e?void 0:e.profile_id)?{"--tw-bg-opacity":"1",backgroundColor:"rgba(75, 85, 99, var(--tw-bg-opacity))"}:null],children:Object(S.jsxs)(kt,{children:[Object(S.jsx)(St,{src:null===t||void 0===t?void 0:t.foto,alt:"Foto de perfil",_css18:[{width:"50px",height:"50px",borderRadius:"9999px",objectFit:"cover"},null===(null===t||void 0===t?void 0:t.token)?{"--tw-border-opacity":"1",borderColor:"rgba(220, 38, 38, var(--tw-border-opacity))",borderWidth:"4px"}:null]}),null===t||void 0===t?void 0:t.nombre]})},null===t||void 0===t?void 0:t.id)})),Object(S.jsx)(B,{onClick:function(t){t.stopPropagation(),Yt(!1)},children:"Elegir un perfil asociado"})]}):null]})]}),Object(S.jsx)(Mt,{children:Object(S.jsx)(Nt,{title:"Recargar",onClick:function(){var t,e=null===(t=document.getElementById("ChatClient"))||void 0===t?void 0:t.scrollTop;nt(!1),rt(!1),setTimeout((function(){var t;rt(!0),nt(!0),void 0!==document.getElementById("ChatClient")&&void 0!==(null===(t=document.getElementById("ChatClient"))||void 0===t?void 0:t.scrollTop)&&(document.getElementById("ChatClient").scrollTop=e)}),1e3)},_css19:[{"@media (min-width: 768px)":{width:"0.75rem"},"@media (min-width: 1280px)":{width:"1.5rem"}},"@media (min-width: 2560px) { width: 2rem !important; }","@media (min-height: 1000px) and (max-width: 767px) { width: 2rem !important; }","@media (max-height: 999px) and (max-width: 767px) { width: 1rem !important; }"],children:Object(S.jsx)(Dt,{_css20:[{"@media (min-width: 768px)":{width:"0.75rem",height:"0.75rem"},"@media (min-width: 1280px)":{height:"1.5rem",width:"1.5rem"}},"@media (min-width: 2560px) { width: 2rem !important;  height: 2rem !important; }","@media (min-height: 1000px) and (max-width: 767px) { width: 2rem !important; height: 2rem !important; }","@media (max-height: 999px) and (max-width: 767px) { width: 1rem !important; height: 1rem !important; }"]})})})]}),Object(S.jsxs)(Rt,{id:"ChatClient",_css21:[{maxHeight:"90%","--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))",display:"flex",width:"100%",borderRadius:"1rem",padding:"0.75rem",flexDirection:"column",flexShrink:"1",overflowX:"hidden"},b.b,Object(h.c)(["&::-webkit-scrollbar-track{border-radius:10px;border:1px solid #4c4c3f;}&::-webkit-scrollbar-thumb{border-radius:10px;background-color:#4c4c3f;}"])],children:[!1===it?Object(S.jsx)(g.a,{}):null,Object(S.jsx)(Bt,{children:Object(S.jsx)(Ft,{children:50===bt?Object(S.jsx)(Tt,{onClick:Object(l.a)(r.a.mark((function t(){var e,i,n,d,o,a,l,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l=null!==(e=null===(i=document.getElementById("ChatClient"))||void 0===i?void 0:i.scrollHeight)&&void 0!==e?e:0,nt(!1),t.next=4,$t(null===J||void 0===J||null===(n=J.cliente)||void 0===n?void 0:n.amolatinaId,null===(d=z)||void 0===d?void 0:d.amolatinaId,Ut+1,nt);case 4:c=null===(o=document.getElementById("ChatClient"))||void 0===o?void 0:o.scrollHeight,void 0!==document.getElementById("ChatClient")&&void 0!==(null===(a=document.getElementById("ChatClient"))||void 0===a?void 0:a.scrollTop)&&(document.getElementById("ChatClient").scrollTop=c-l),Zt(Ut+1);case 7:case"end":return t.stop()}}),t)}))),children:"Ver mas Antiguos"}):null})}),at&&(null===(T=Object.keys(st))||void 0===T?void 0:T.length)>0?null===(E=Object.keys(st))||void 0===E?void 0:E.map((function(t){var e,i;return(null===(e=z)||void 0===e?void 0:e.amolatinaId)===+(null===(i=st[t])||void 0===i?void 0:i.sender)?Object(S.jsx)(gt,{justify:"right",data:st[t],keyNum:t,TranslateTextData:te}):Object(S.jsx)(gt,{justify:"left",data:st[t],keyNum:t,TranslateTextData:te})})):null]})]})})}},89:function(t,e,i){"use strict";var n=i(3),d=i(0),o=i(1),a=Object(n.d)("div").withConfig({displayName:"Modal___StyledDiv",componentId:"tjiuax-0"})({position:"fixed",zIndex:"50",top:"0px",right:"0px",bottom:"0px",left:"0px",overflowY:"auto"}),r=Object(n.d)("div").withConfig({displayName:"Modal___StyledDiv2",componentId:"tjiuax-1"})({display:"flex",alignItems:"flex-end",justifyContent:"center",minHeight:"100vh",paddingTop:"1rem",paddingLeft:"1rem",paddingRight:"1rem",paddingBottom:"5rem",textAlign:"center","@media (min-width: 640px)":{display:"block",padding:"0px"}}),l=Object(n.d)("div").withConfig({displayName:"Modal___StyledDiv3",componentId:"tjiuax-2"})({position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px","--tw-bg-opacity":"0.7",backgroundColor:"rgba(23, 23, 27, var(--tw-bg-opacity))",transitionProperty:"opacity",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"150ms"}),c=Object(n.d)("span").withConfig({displayName:"Modal___StyledSpan",componentId:"tjiuax-3"})({display:"none","@media (min-width: 640px)":{display:"inline-block",verticalAlign:"middle",height:"100vh"}}),s=Object(n.d)("div").withConfig({displayName:"Modal___StyledDiv4",componentId:"tjiuax-4"})(["",""],(function(t){return t._css}));e.a=function(t){var e=t.children,i=t.setShowModal,n=Object(d.useRef)(null);return Object(d.useEffect)((function(){var t=n.current,e=function(t){"Escape"===t.key&&i(!1)};return t.addEventListener("keydown",e),t.focus(),function(){t.removeEventListener("keydown",e)}}),[i]),Object(o.jsx)(a,{"aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:Object(o.jsxs)(r,{ref:n,tabIndex:-1,children:[Object(o.jsx)(l,{"aria-hidden":"true",onClick:function(){return i(!1)}}),Object(o.jsx)(c,{"aria-hidden":"true",children:"\u200b"}),Object(o.jsx)(s,{_css:[{"--tw-translate-x":"0","--tw-translate-y":"0","--tw-rotate":"0","--tw-skew-x":"0","--tw-skew-y":"0","--tw-scale-x":"1","--tw-scale-y":"1",transform:"translateX(var(--tw-translate-x)) translateY(var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))",display:"inline-block",verticalAlign:"bottom","--tw-bg-opacity":"1",backgroundColor:"rgba(31, 31, 38, var(--tw-bg-opacity))",textAlign:"left",overflow:"hidden","--tw-shadow":"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)",transitionProperty:"all",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"150ms","@media (min-width: 640px)":{marginTop:"2rem",marginBottom:"2rem",verticalAlign:"middle"},"@media (min-width: 768px)":{borderRadius:"0.75rem"},"@media (min-width: 1024px)":{borderRadius:"1rem"},"@media (min-width: 1536px)":{borderRadius:"1.3rem"}},"@media (min-width: 2560px) { border-radius: 2.5rem !important; }","@media (min-height: 1000px) and (max-width: 767px) { border-radius:2.5rem !important; }"],children:e})]})})}}}]);