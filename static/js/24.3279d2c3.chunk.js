(this.webpackJsonpivan=this.webpackJsonpivan||[]).push([[24],{185:function(e,t,i){"use strict";var n=i(3),a=i.n(n),r=i(7),d=i(1),o=i(10),c=i(0),s=i(131),l=i(2),p=Object(d.d)("div").withConfig({displayName:"EscalonMeta___StyledDiv",componentId:"ukibmr-0"})({position:"relative"}),m=Object(d.d)("div").withConfig({displayName:"EscalonMeta___StyledDiv2",componentId:"ukibmr-1"})(["",""],(function(e){return e._css})),u=Object(d.d)("div").withConfig({displayName:"EscalonMeta___StyledDiv3",componentId:"ukibmr-2"})(["",""],(function(e){return e._css2})),g=Object(d.d)("span").withConfig({displayName:"EscalonMeta___StyledSpan",componentId:"ukibmr-3"})(["",""],(function(e){return e._css3})),h=Object(d.d)("div").withConfig({displayName:"EscalonMeta___StyledDiv4",componentId:"ukibmr-4"})({display:"flex",alignItems:"center","@media (min-width: 768px)":{gap:"0.25rem"},"@media (min-width: 1024px)":{gap:"0.5rem"}}),b=Object(d.d)(s.a).withConfig({displayName:"EscalonMeta___StyledDiamondSvg",componentId:"ukibmr-5"})(["",""],(function(e){return e._css4})),j=Object(d.d)("div").withConfig({displayName:"EscalonMeta___StyledDiv5",componentId:"ukibmr-6"})({display:"flex",alignItems:"center","@media (min-width: 768px)":{gap:"0.25rem"},"@media (min-width: 1024px)":{gap:"0.5rem"}}),x=Object(d.d)(o.a).withConfig({displayName:"EscalonMeta___StyledActionIcon",componentId:"ukibmr-7"})(["",""],(function(e){return e._css5})),f=Object(d.d)("img").withConfig({displayName:"EscalonMeta___StyledImg",componentId:"ukibmr-8"})(["",""],(function(e){return e._css6})),v=Object(d.d)("input").withConfig({displayName:"EscalonMeta___StyledInput",componentId:"ukibmr-9"})({display:"none"}),y=Object(d.d)("button").withConfig({displayName:"EscalonMeta___StyledButton",componentId:"ukibmr-10"})(["",""],(function(e){return e._css7}));t.a=function(e){var t=e.step,i=e.index,n=e.editable,d=e.setStep,s=e.progreso,w=e.setDeleteStep,O=e.allData,_=Object(c.useRef)(null),M=Object(c.useCallback)((function(){var e=new FileReader;e.onload=function(e){var t=new Image;t.src=e.target.result;var n=e.target.result.split(":")[1].split(";")[0];t.onload=Object(r.a)(a.a.mark((function e(){var r,o,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=document.createElement("canvas"),200,200,o=t.width,c=t.height,o>c?o>200&&(c*=200/o,o=200):c>200&&(o*=200/c,c=200),r.width=o,r.height=c,r.getContext("2d").drawImage(t,0,0,o,c),d(i,"photo",r.toDataURL(n));case 11:case"end":return e.stop()}}),e)})))},_.current.files[0]&&e.readAsDataURL(_.current.files[0])}),[i,d]);return Object(l.jsxs)(p,{children:[s?Object(l.jsx)(m,{_css:[{position:"absolute",left:"0px",top:"0px",height:"100%",borderRadius:"1rem","--tw-bg-opacity":"0.2",backgroundColor:"rgba(16, 185, 129, var(--tw-bg-opacity))"},{width:s.percentage+"%"}]}):null,Object(l.jsxs)(u,{_css2:[{position:"relative",display:"flex",alignItems:"center",borderWidth:"1px",borderRadius:"1rem",justifyContent:"center",textAlign:"center","@media (min-width: 768px)":{padding:"0.125rem",gap:"0.125rem"},"@media (min-width: 1024px)":{padding:"0.25rem",gap:"0.5rem"}},"@media (min-width: 2560px) { padding: 0.75rem !important; grid-gap: 1rem !important; line-height: 2rem !important; font-size: 1.5rem !important; }","@media (min-height: 1000px) and (max-width: 767px) { padding: 0.75rem !important; grid-gap: 1rem !important; line-height: 2rem !important; font-size: 1.5rem !important; }"],children:[Object(l.jsx)(g,{_css3:[{"--tw-translate-x":"-50%","--tw-translate-y":"-50%","--tw-rotate":"0","--tw-skew-x":"0","--tw-skew-y":"0","--tw-scale-x":"1","--tw-scale-y":"1",transform:"translateX(var(--tw-translate-x)) translateY(var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))",position:"absolute",left:"0px",top:"0px","--tw-bg-opacity":"1",backgroundColor:"rgba(37, 99, 235, var(--tw-bg-opacity))",borderRadius:"9999px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center","@media (min-width: 768px)":{padding:"0.125rem",width:"0.75rem",height:"0.75rem"},"@media (min-width: 1024px)":{padding:"0.25rem",width:"1rem",height:"1rem"}},"@media (min-width: 2560px) { line-height: 1.75rem !important; font-size: 1.25rem !important; padding: 1rem !important; height: 2.5rem !important; width: 2.5rem !important; }","@media (min-height: 1000px) and (max-width: 767px) { line-height: 1.75rem !important; font-size: 1.25rem !important; padding: 1rem !important; height: 2.5rem !important; width: 2.5rem !important; }"],children:i+1}),void 0!==t.points?Object(l.jsxs)(h,{children:[Object(l.jsx)("span",{onClick:function(){if(n){var e=+prompt("Colocar los diamantes enteros ej. (100 = 10,00)");if(0===i)return d(i,"points",e);if(e>O[i-1].points)return d(i,"points",e)}},children:Object(o.S)(t.points/10,2,",","")}),Object(l.jsx)(b,{_css4:[{height:"auto","@media (min-width: 768px)":{width:"0.75rem"},"@media (min-width: 1024px)":{width:"1.2rem"}},"@media (min-width: 2560px) { width: 1.5rem !important; }","@media (min-height: 1000px) and (max-width: 767px) { width: 1.5rem !important; }"]})]}):Object(l.jsxs)(j,{children:[Object(l.jsx)("span",{onClick:function(){if(n){var e=+prompt();if(0===i)return d(i,"serviceamount",e);if(e>O[i-1].amount)return d(i,"serviceamount",e)}},children:t.amount}),Object(l.jsx)(x,{type:t.service,_css5:[{height:"auto","@media (min-width: 768px)":{width:"0.75rem"},"@media (min-width: 1024px)":{width:"1.25rem"}},"@media (min-width: 2560px) { width: 2rem !important; }","@media (min-height: 1000px) and (max-width: 767px) { width: 2rem !important; }"]})]}),Object(l.jsx)("span",{children:"="}),void 0!==t.prize?Object(l.jsxs)("span",{onClick:function(){n&&d(i,"prizeamount",+prompt())},children:["$",t.prize]}):void 0!==t.percentage?Object(l.jsxs)("span",{onClick:function(){n&&d(i,"percentage",+prompt())},children:[t.percentage,"%"]}):Object(l.jsx)(f,{src:t.photo,alt:"Regalo",onClick:function(){var e;n&&(null===(e=document.getElementById("goal-step-foto-"+i))||void 0===e||e.click())},_css6:[{borderRadius:"1rem","@media (min-width: 768px)":{maxWidth:"60px",maxHeight:"60px"},"@media (min-width: 1024px)":{maxWidth:"80px",maxHeight:"80px"},"@media (min-width: 1280px)":{maxWidth:"100px",maxHeight:"100px"},"@media (min-width: 1536px)":{maxWidth:"120px",maxHeight:"120px"}},"@media (min-width: 2560px) { border-radius: 2.5rem !important; max-width: 200px !important; max-height: 200px !important; }"]}),Object(l.jsx)(v,{type:"file",accept:"image/png, image/jpeg",ref:_,onChange:M,id:"goal-step-foto-"+i}),n&&O.length>1?Object(l.jsx)(y,{onClick:function(){return w(i)},_css7:[{borderRadius:"9999px","--tw-bg-opacity":"1",backgroundColor:"rgba(220, 38, 38, var(--tw-bg-opacity))",paddingLeft:"0.25rem",paddingRight:"0.21rem","@media (min-width: 768px)":{fontSize:"0.4rem"},"@media (min-width: 1024px)":{fontSize:"0.5rem"},"@media (min-width: 1280px)":{fontSize:"0.6rem"},"@media (min-width: 1536px)":{fontSize:"0.7rem"}},"@media (min-width: 2560px) { line-height: 1 !important; font-size: 0.75rem !important; }"],children:"x"}):null]})]})}},474:function(e,t,i){"use strict";i.r(t);var n,a=i(5),r=i(21),d=i(6),o=i(3),c=i.n(o),s=i(7),l=i(91),p=i(10),m=i(0),u=i(12),g=i(90),h=i(44),b=i(29),j=i(185),x=i(101),f=i(1),v=i(30),y=i(8),w=i.n(y),O=i(46),_=i(251),M=["title","titleId"];function C(){return(C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function S(e,t){if(null==e)return{};var i,n,a=function(e,t){if(null==e)return{};var i,n,a={},r=Object.keys(e);for(n=0;n<r.length;n++)i=r[n],t.indexOf(i)>=0||(a[i]=e[i]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)i=r[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(a[i]=e[i])}return a}function I(e,t){var i=e.title,a=e.titleId,r=S(e,M);return m.createElement("svg",C({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",className:"bi bi-copy",viewBox:"0 0 16 16",ref:t,"aria-labelledby":a},r),i?m.createElement("title",{id:a},i):null,n||(n=m.createElement("path",{fillRule:"evenodd",d:"M4 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2zm2-1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM2 5a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1v-1h1v1a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h1v1z"})))}var N,D=m.forwardRef(I),k=(i.p,["title","titleId"]);function T(){return(T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function R(e,t){if(null==e)return{};var i,n,a=function(e,t){if(null==e)return{};var i,n,a={},r=Object.keys(e);for(n=0;n<r.length;n++)i=r[n],t.indexOf(i)>=0||(a[i]=e[i]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)i=r[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(a[i]=e[i])}return a}function z(e,t){var i=e.title,n=e.titleId,a=R(e,k);return m.createElement("svg",T({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",className:"bi bi-repeat",viewBox:"0 0 16 16",ref:t,"aria-labelledby":n},a),i?m.createElement("title",{id:n},i):null,N||(N=m.createElement("path",{d:"M11 5.466V4H5a4 4 0 0 0-3.584 5.777.5.5 0 1 1-.896.446A5 5 0 0 1 5 3h6V1.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384l-2.36 1.966a.25.25 0 0 1-.41-.192m3.81.086a.5.5 0 0 1 .67.225A5 5 0 0 1 11 13H5v1.466a.25.25 0 0 1-.41.192l-2.36-1.966a.25.25 0 0 1 0-.384l2.36-1.966a.25.25 0 0 1 .41.192V12h6a4 4 0 0 0 3.585-5.777.5.5 0 0 1 .225-.67Z"})))}var A,P,B=m.forwardRef(z),L=(i.p,["title","titleId"]);function F(){return(F=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function E(e,t){if(null==e)return{};var i,n,a=function(e,t){if(null==e)return{};var i,n,a={},r=Object.keys(e);for(n=0;n<r.length;n++)i=r[n],t.indexOf(i)>=0||(a[i]=e[i]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)i=r[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(a[i]=e[i])}return a}function W(e,t){var i=e.title,n=e.titleId,a=E(e,L);return m.createElement("svg",F({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",className:"bi bi-trash",viewBox:"0 0 16 16",ref:t,"aria-labelledby":n},a),i?m.createElement("title",{id:n},i):null,A||(A=m.createElement("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5Zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5Zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6Z"})),P||(P=m.createElement("path",{d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1ZM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118ZM2.5 3h11V2h-11v1Z"})))}var J=m.forwardRef(W),Q=(i.p,i(2)),G=f.d.div.withConfig({displayName:"MetasModal__PicAndDecor",componentId:"sc-1c2luas-0"})({position:"relative",display:"flex"}),V=f.d.img.withConfig({displayName:"MetasModal__Foto",componentId:"sc-1c2luas-1"})({width:"4em",height:"4em",borderRadius:"9999px",objectFit:"cover"}),U=f.d.input.withConfig({displayName:"MetasModal__Input",componentId:"sc-1c2luas-2"})(["@media (min-width:2560px){font-size:2rem !important;}",""],{appearance:"none",backgroundColor:"transparent",fontSize:"1.25rem",fontWeight:"500","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))","--tw-border-opacity":"1",borderColor:"rgba(107, 114, 128, var(--tw-border-opacity))",flex:"1 1 auto",borderWidth:"2px",padding:"0.5rem",textAlign:"center",borderRadius:"1rem"}),H=Object(f.d)(U).withConfig({displayName:"MetasModal___StyledInput11",componentId:"sc-1c2luas-3"})({textAlign:"center",width:"100%"}),Y=Object(f.d)(U).withConfig({displayName:"MetasModal___StyledInput10",componentId:"sc-1c2luas-4"})({textAlign:"center"}),Z=Object(f.d)(U).withConfig({displayName:"MetasModal___StyledInput9",componentId:"sc-1c2luas-5"})({textAlign:"center"}),q=Object(f.d)(U).withConfig({displayName:"MetasModal___StyledInput8",componentId:"sc-1c2luas-6"})({textAlign:"center",width:"100%"}),X=Object(f.d)(U).withConfig({displayName:"MetasModal___StyledInput7",componentId:"sc-1c2luas-7"})({textAlign:"center",width:"100%"}),$=Object(f.d)(U).withConfig({displayName:"MetasModal___StyledInput6",componentId:"sc-1c2luas-8"})({textAlign:"center",width:"100%"}),K=Object(f.d)(U).withConfig({displayName:"MetasModal___StyledInput5",componentId:"sc-1c2luas-9"})({textAlign:"center",width:"100%"}),ee=Object(f.d)(U).withConfig({displayName:"MetasModal___StyledInput4",componentId:"sc-1c2luas-10"})({textAlign:"center"}),te=Object(f.d)(U).withConfig({displayName:"MetasModal___StyledInput3",componentId:"sc-1c2luas-11"})({textAlign:"center"}),ie={id:-1,entity:"",entityId:-1,condition:"",prize:"",steps:[],title:"",timestamp:"",description:"",active:!0,timespan:"",shifts:-1,country:"all"},ne=f.d.span.withConfig({displayName:"MetasModal__Id",componentId:"sc-1c2luas-12"})(["@media (min-width:2560px){font-size:0.75rem !important;}@media (min-height:1000px) and (min-width:651px) and (max-width:767px){font-size:0.975rem !important;}@media (min-height:1000px) and (min-width:451px) and (max-width:650px){font-size:0.75rem !important;}@media (min-width:651px) and (max-width:767px) and (max-height:999px){font-size:0.8rem !important;}@media (min-width:401px) and (max-width:650px) and (max-height:999px){font-size:0.7rem !important;}@media (max-width:400px) and (max-height:999px){font-size:0.4rem !important;}",""],{fontSize:"0.35rem","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",width:"8em",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",textAlign:"center","@media (min-width: 1024px)":{fontSize:"0.4rem"},"@media (min-width: 1280px)":{fontSize:"0.5rem"},"@media (min-width: 1536px)":{fontSize:"0.6rem"}}),ae=function(){var e=Object(s.a)(c.a.mark((function e(t,i,n,a,r,d,o){var s,l,m,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=null,l=null,"mensual"===i?(m=parseFloat(n)+1<10?"0"+(parseFloat(n)+1):parseFloat(n)+1>12?"01":parseFloat(n)+1,u=parseFloat(n)+1>12?a+1:a,s="&fromDate=".concat(a,"-").concat(n,"-01T00:00:00.000"),l="&toDate=".concat(u,"-").concat(m,"-01T00:00:00.000")):"fecha"===i&&(s="&fromDate=".concat(r),l="&toDate=".concat(d)),e.next=5,Object(p.u)("/goals/list-goals-winners?".concat(s).concat(l,"&agencyId=").concat(o));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,i,n,a,r,d,o){return e.apply(this,arguments)}}(),re=Object(f.d)("div").withConfig({displayName:"MetasModal___StyledDiv",componentId:"sc-1c2luas-13"})({width:"80vw",height:"95vh",position:"relative"}),de=Object(f.d)("div").withConfig({displayName:"MetasModal___StyledDiv2",componentId:"sc-1c2luas-14"})(["",""],(function(e){return e._css})),oe=Object(f.d)("div").withConfig({displayName:"MetasModal___StyledDiv3",componentId:"sc-1c2luas-15"})({"--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",display:"flex",flexDirection:"column",alignItems:"center",position:"relative",height:"100%","@media (min-width: 768px)":{padding:"0.25rem",gap:"0.25rem"},"@media (min-width: 1280px)":{padding:"1rem",gap:"1rem"}}),ce=Object(f.d)("div").withConfig({displayName:"MetasModal___StyledDiv4",componentId:"sc-1c2luas-16"})({display:"flex",justifyContent:"center"}),se=Object(f.d)("select").withConfig({displayName:"MetasModal___StyledSelect",componentId:"sc-1c2luas-17"})({width:"10rem","--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",borderRadius:"0.25rem",paddingLeft:"0.25rem",paddingRight:"0.25rem"}),le=Object(f.d)("div").withConfig({displayName:"MetasModal___StyledDiv5",componentId:"sc-1c2luas-18"})({display:"flex","@media (min-width: 768px)":{gap:"0.25rem"},"@media (min-width: 1280px)":{gap:"1rem"}}),pe=Object(f.d)(x.a).withConfig({displayName:"MetasModal___StyledToggleGroup",componentId:"sc-1c2luas-19"})({alignSelf:"center"}),me=Object(f.d)(x.b).withConfig({displayName:"MetasModal___StyledToggleGroupItem",componentId:"sc-1c2luas-20"})(["",""],(function(e){return e._css2})),ue=Object(f.d)(x.b).withConfig({displayName:"MetasModal___StyledToggleGroupItem2",componentId:"sc-1c2luas-21"})(["",""],(function(e){return e._css3})),ge=Object(f.d)(x.b).withConfig({displayName:"MetasModal___StyledToggleGroupItem3",componentId:"sc-1c2luas-22"})(["",""],(function(e){return e._css4})),he=Object(f.d)(x.b).withConfig({displayName:"MetasModal___StyledToggleGroupItem4",componentId:"sc-1c2luas-23"})(["",""],(function(e){return e._css5})),be=Object(f.d)(x.b).withConfig({displayName:"MetasModal___StyledToggleGroupItem5",componentId:"sc-1c2luas-24"})(["",""],(function(e){return e._css6})),je=Object(f.d)("div").withConfig({displayName:"MetasModal___StyledDiv6",componentId:"sc-1c2luas-25"})({display:"flex",flexDirection:"column",overflowX:"hidden",height:"100%",width:"100%",padding:"0.5rem",gap:"0.5rem"}),xe=Object(f.d)("div").withConfig({displayName:"MetasModal___StyledDiv7",componentId:"sc-1c2luas-26"})({display:"flex",justifyContent:"flex-start",gap:"0.5rem"}),fe=Object(f.d)("select").withConfig({displayName:"MetasModal___StyledSelect2",componentId:"sc-1c2luas-27"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",padding:"0.25rem",borderRadius:"0.25rem"}),ve=Object(f.d)("select").withConfig({displayName:"MetasModal___StyledSelect3",componentId:"sc-1c2luas-28"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",padding:"0.25rem",borderRadius:"0.25rem"}),ye=Object(f.d)("select").withConfig({displayName:"MetasModal___StyledSelect4",componentId:"sc-1c2luas-29"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",padding:"0.25rem",borderRadius:"0.25rem"}),we=Object(f.d)("input").withConfig({displayName:"MetasModal___StyledInput",componentId:"sc-1c2luas-30"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",padding:"0.25rem",borderRadius:"0.25rem"}),Oe=Object(f.d)("input").withConfig({displayName:"MetasModal___StyledInput2",componentId:"sc-1c2luas-31"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",padding:"0.25rem",borderRadius:"0.25rem"}),_e=Object(f.d)("button").withConfig({displayName:"MetasModal___StyledButton",componentId:"sc-1c2luas-32"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))",":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgba(56, 56, 69, var(--tw-bg-opacity))"},borderRadius:"1rem",fontWeight:"700",padding:"0.5rem",margin:"0.25rem"}),Me=Object(f.d)("button").withConfig({displayName:"MetasModal___StyledButton2",componentId:"sc-1c2luas-33"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))",":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgba(56, 56, 69, var(--tw-bg-opacity))"},borderRadius:"1rem",fontWeight:"700",padding:"0.5rem",margin:"0.25rem"}),Ce=Object(f.d)("div").withConfig({displayName:"MetasModal___StyledDiv8",componentId:"sc-1c2luas-34"})(["",""],(function(e){return e._css7})),Se=function(e){var t=e.operadores,i=e.agency,n=e.selectAgency,a=Object(m.useState)("mensual"),r=Object(d.a)(a,2),o=r[0],c=r[1],s=Object(m.useState)(Object(p.V)((new Date).getMonth()+1)),l=Object(d.a)(s,2),g=l[0],j=l[1],x=Object(m.useState)((new Date).getFullYear()),f=Object(d.a)(x,2),v=f[0],y=f[1],w=Object(m.useState)((new Date).getFullYear()+"-"+Object(p.V)((new Date).getMonth()+1)+"-01T00:00:00"),O=Object(d.a)(w,2),_=O[0],M=O[1],C=Object(m.useState)(!1),S=Object(d.a)(C,2),I=S[0],N=S[1],D=Object(m.useState)(0),k=Object(d.a)(D,2),T=k[0],R=k[1],z=new Date;z.setMonth(z.getMonth()+1,0);var A=Object(m.useState)(z.getFullYear()+"-"+Object(p.V)(z.getMonth()+1)+"-"+Object(p.V)(z.getDate())+"T00:00:00"),P=Object(d.a)(A,2),B=P[0],L=P[1],F=Object(u.d)(["logMetas",o,g,v,_,B,n,T],ae),E=F.data,W=F.status;return Object(Q.jsx)(je,{children:"loading"===W?Object(Q.jsx)(h.a,{}):Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsxs)(xe,{children:[Object(Q.jsxs)("label",{children:["Rango:"," ",Object(Q.jsxs)(fe,{onChange:function(e){return c(e.target.value)},value:o,children:[Object(Q.jsx)("option",{value:"mensual",children:"Mensual"}),Object(Q.jsx)("option",{value:"fecha",children:"Fecha"})]})]}),"mensual"===o?Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsxs)("label",{children:["Mes:"," ",Object(Q.jsxs)(ve,{onChange:function(e){return j(e.target.value)},value:g,children:[Object(Q.jsx)("option",{value:"01",children:"Enero"}),Object(Q.jsx)("option",{value:"02",children:"Febrero"}),Object(Q.jsx)("option",{value:"03",children:"Marzo"}),Object(Q.jsx)("option",{value:"04",children:"Abril"}),Object(Q.jsx)("option",{value:"05",children:"Mayo"}),Object(Q.jsx)("option",{value:"06",children:"Junio"}),Object(Q.jsx)("option",{value:"07",children:"Julio"}),Object(Q.jsx)("option",{value:"08",children:"Agosto"}),Object(Q.jsx)("option",{value:"09",children:"Septiembre"}),Object(Q.jsx)("option",{value:"10",children:"Octubre"}),Object(Q.jsx)("option",{value:"11",children:"Noviembre"}),Object(Q.jsx)("option",{value:"12",children:"Diciembre"})]})]}),Object(Q.jsxs)("label",{children:["A\xf1o:"," ",Object(Q.jsxs)(ye,{onChange:function(e){return y(e.target.value)},value:v,children:[Object(Q.jsx)("option",{value:"2020",children:"2020"}),Object(Q.jsx)("option",{value:"2021",children:"2021"}),Object(Q.jsx)("option",{value:"2022",children:"2022"}),Object(Q.jsx)("option",{value:"2023",children:"2023"}),Object(Q.jsx)("option",{value:"2024",children:"2024"}),Object(Q.jsx)("option",{value:"2025",children:"2025"}),Object(Q.jsx)("option",{value:"2026",children:"2026"})]})]})]}):null,"fecha"===o?Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsxs)("label",{children:["Desde:",Object(Q.jsx)(we,{type:"datetime-local",value:_,onChange:function(e){return M(e.target.value)}})]}),Object(Q.jsxs)("label",{children:["Hasta:",Object(Q.jsx)(Oe,{type:"datetime-local",value:B,onChange:function(e){return L(e.target.value)}})]})]}):null,Object(Q.jsx)(_e,{onClick:function(){N(!0),R(T+1)},children:"Expandir Todos"}),Object(Q.jsx)(Me,{onClick:function(){N(!1),R(T+1)},children:"Contraer Todos"})]}),Object(Q.jsx)(Ce,{_css7:[{display:"flex",flexDirection:"column",gap:"0.5rem",height:"100%"},b.b],children:E.map((function(e){return Object(Q.jsx)(Xe,{meta:e,operadores:t,expandDataAll:I,agency:i})}))})]})})},Ie=Object(f.d)("button").withConfig({displayName:"MetasModal___StyledButton3",componentId:"sc-1c2luas-35"})({display:"flex",flexDirection:"column",padding:"0.5rem",borderWidth:"2px","--tw-border-opacity":"1",borderColor:"rgba(107, 114, 128, var(--tw-border-opacity))",borderRadius:"20px",alignItems:"center","--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))",":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgba(56, 56, 69, var(--tw-bg-opacity))"}}),Ne=Object(f.d)("div").withConfig({displayName:"MetasModal___StyledDiv9",componentId:"sc-1c2luas-36"})({display:"flex",justifyContent:"space-between",gap:"0.5rem",alignItems:"center"}),De=Object(f.d)("div").withConfig({displayName:"MetasModal___StyledDiv10",componentId:"sc-1c2luas-37"})({width:"1rem",height:"1rem"}),ke=Object(f.d)("img").withConfig({displayName:"MetasModal___StyledImg",componentId:"sc-1c2luas-38"})({width:"100%",height:"100%"}),Te=Object(f.d)(O.a).withConfig({displayName:"MetasModal___StyledGlobeSvg",componentId:"sc-1c2luas-39"})({width:"100%",height:"100%"}),Re=Object(f.d)("div").withConfig({displayName:"MetasModal___StyledDiv11",componentId:"sc-1c2luas-40"})({fontSize:"1rem"}),ze=Object(f.d)("div").withConfig({displayName:"MetasModal___StyledDiv12",componentId:"sc-1c2luas-41"})({fontSize:"0.75rem"}),Ae=Object(f.d)("div").withConfig({displayName:"MetasModal___StyledDiv13",componentId:"sc-1c2luas-42"})({display:"flex",justifyContent:"space-between",gap:"0.5rem",width:"100%"}),Pe=Object(f.d)("div").withConfig({displayName:"MetasModal___StyledDiv14",componentId:"sc-1c2luas-43"})({width:"50%"}),Be=Object(f.d)("div").withConfig({displayName:"MetasModal___StyledDiv15",componentId:"sc-1c2luas-44"})(["",""],(function(e){return e._css8})),Le=Object(f.d)("div").withConfig({displayName:"MetasModal___StyledDiv16",componentId:"sc-1c2luas-45"})(["",""],(function(e){return e._css9})),Fe=Object(f.d)("div").withConfig({displayName:"MetasModal___StyledDiv17",componentId:"sc-1c2luas-46"})({textAlign:"center",display:"flex",justifyContent:"center",fontSize:"1rem",gap:"0.25rem",alignItems:"center"}),Ee=Object(f.d)("div").withConfig({displayName:"MetasModal___StyledDiv18",componentId:"sc-1c2luas-47"})(["",""],(function(e){return e._css10})),We=Object(f.d)("div").withConfig({displayName:"MetasModal___StyledDiv19",componentId:"sc-1c2luas-48"})({width:"50%",display:"flex",flexWrap:"wrap",alignItems:"center",gap:"0.5rem"}),Je=Object(f.d)("div").withConfig({displayName:"MetasModal___StyledDiv20",componentId:"sc-1c2luas-49"})({display:"flex",flexDirection:"column",alignItems:"center",borderWidth:"2px",gap:"0.5rem",borderRadius:"1rem",padding:"0.5rem"}),Qe=Object(f.d)("img").withConfig({displayName:"MetasModal___StyledImg2",componentId:"sc-1c2luas-50"})({width:"4em",height:"4em",borderRadius:"9999px",objectFit:"cover"}),Ge=Object(f.d)("div").withConfig({displayName:"MetasModal___StyledDiv21",componentId:"sc-1c2luas-51"})({fontSize:"0.35rem","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",width:"8em",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",textAlign:"center","@media (min-width: 1024px)":{fontSize:"0.4rem"},"@media (min-width: 1280px)":{fontSize:"0.5rem"},"@media (min-width: 1536px)":{fontSize:"0.6rem"}}),Ve=Object(f.d)("div").withConfig({displayName:"MetasModal___StyledDiv22",componentId:"sc-1c2luas-52"})({display:"flex",justifyContent:"center"}),Ue=Object(f.d)("span").withConfig({displayName:"MetasModal___StyledSpan",componentId:"sc-1c2luas-53"})({marginLeft:"0.25rem",marginRight:"0.25rem"}),He=Object(f.d)(p.a).withConfig({displayName:"MetasModal___StyledActionIcon",componentId:"sc-1c2luas-54"})(["",""],(function(e){return e._css11})),Ye=Object(f.d)("div").withConfig({displayName:"MetasModal___StyledDiv23",componentId:"sc-1c2luas-55"})({display:"flex",justifyContent:"center"}),Ze=Object(f.d)("span").withConfig({displayName:"MetasModal___StyledSpan2",componentId:"sc-1c2luas-56"})({marginLeft:"0.25rem",marginRight:"0.25rem"}),qe=Object(f.d)(p.a).withConfig({displayName:"MetasModal___StyledActionIcon2",componentId:"sc-1c2luas-57"})(["",""],(function(e){return e._css12})),Xe=function(e){var t,i=e.meta,n=e.operadores,a=e.expandDataAll,r=e.agencias,o=Object(m.useState)(a),l=Object(d.a)(o,2),g=l[0],h=l[1],x=JSON.parse(i.steps),f=i.users.slice(1,-1).split(",");return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(Ie,{onClick:function(){return h(!0!==g)},children:Object(Q.jsxs)(Ne,{children:[Object(Q.jsx)(De,{children:["all","null",null].includes(i.country)?Object(Q.jsx)(Te,{}):Object(Q.jsx)(ke,{alt:"Flag",src:"https://flagsapi.com/".concat(i.country,"/flat/64.png")})}),Object(Q.jsx)(Re,{children:1===i.shifts?"\ud83c\udf19":2===i.shifts?"\ud83c\udf25\ufe0f":0===i.shifts?"\u2600\ufe0f":""}),Object(Q.jsx)(ze,{children:i.title})]})},i.id),g?Object(Q.jsxs)(Ae,{children:[Object(Q.jsx)(Pe,{children:Object(Q.jsx)(Be,{_css8:[{display:"flex",flexDirection:"column",alignItems:"center","@media (min-width: 768px)":{gap:"0.75rem"},"@media (min-width: 1024px)":{gap:"1rem"},"@media (min-width: 1280px)":{gap:"1.25rem"},"@media (min-width: 1536px)":{gap:"1.5rem",maxHeight:"360px"}},b.b,"@media (min-width: 2560px) { grid-gap: 1.5rem !important; max-height:720px !important; }"],children:Object(Q.jsxs)(Le,{_css9:[{display:"flex",flexDirection:"column",borderWidth:"1px",borderRadius:"1rem",borderColor:"#17171c","@media (min-width: 768px)":{gap:"0.5rem",paddingLeft:"0.5rem",paddingRight:"0.5rem",paddingTop:"0.25rem",paddingBottom:"0.25rem"}},"@media (min-width: 2560px) { grid-gap: 1.25rem !important; padding-bottom: 1rem !important; padding-top: 1rem !important; padding-right: 1.5rem !important; padding-left: 1.5rem !important; }"],children:[Object(Q.jsxs)(Fe,{children:[Object(Q.jsx)(v.a,{blue:!0,title:"Recalcular Ganadores",onClick:function(){var e=Object(s.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t.currentTarget).disabled=!0,e.next=4,Object(p.u)("/goals/calculate-winners",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:i.id})});case 4:return e.next=6,u.b.invalidateQueries(["maxDetail",i.id]);case 6:return e.next=8,u.b.invalidateQueries(["logMetas"]);case 8:n.disabled=!1;case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:Object(Q.jsx)(B,{title:"Recalcular Ganadores"})}),"Detalle"]}),Object(Q.jsx)(Ee,{_css10:[{display:"flex",flexDirection:"column","@media (min-width: 768px)":{gap:"0.25rem"},"@media (min-width: 1280px)":{gap:"0.75rem"}},"@media (min-width: 2560px) { grid-gap: 1.5rem !important; }"],children:x.map((function(e,t){return Object(Q.jsx)(j.a,{step:e,index:t})}))})]})})}),Object(Q.jsx)(We,{children:null===f||void 0===f||null===(t=f.sort((function(e,t){var i=e.split("|");return+t.split("|")[2]-+i[2]})))||void 0===t?void 0:t.map((function(e){var t,a,d,o,c,s,l=e.split("|");1===+l[0]?o={nombre:null===r||void 0===r||null===(c=r.find((function(e){return 1===e.id})))||void 0===c?void 0:c.name,foto:null===r||void 0===r||null===(s=r.find((function(e){return 1===e.id})))||void 0===s?void 0:s.photo}:o=null===n||void 0===n?void 0:n.find((function(e){return e.id===+l[0]}));var m=x[+l[1]];return Object(Q.jsxs)(Je,{children:[Object(Q.jsx)("div",{children:Object(Q.jsx)(Qe,{src:null===(t=o)||void 0===t?void 0:t.foto,alt:"..."})}),Object(Q.jsx)(Ge,{title:null===(a=o)||void 0===a?void 0:a.nombre,children:null===(d=o)||void 0===d?void 0:d.nombre}),Object(Q.jsxs)(Ve,{children:["money"===i.prize?"".concat(null===m||void 0===m?void 0:m.prize,"$"):null," ","points"===i.condition?"".concat(Object(p.S)((null===m||void 0===m?void 0:m.points)/10,2,",","."),"\ud83d\udc8e"):null,"service"===i.condition?Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(Ue,{children:null===m||void 0===m?void 0:m.amount})," ",Object(Q.jsx)(He,{type:null===m||void 0===m?void 0:m.service,_css11:[{width:"0.75rem",height:"auto"},"@media (min-width: 2560px) { width: 2rem !important; }","@media (min-height: 1000px) and (max-width: 767px) { width: 2rem !important; }"]})]}):null]}),Object(Q.jsxs)(Ye,{children:["points"===i.condition?"".concat(Object(p.S)(l[2]/10,2,",","."),"\ud83d\udc8e"):null,"service"===i.condition?Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(Ze,{children:l[2]})," ",Object(Q.jsx)(qe,{type:null===m||void 0===m?void 0:m.service,_css12:[{width:"0.75rem",height:"auto"},"@media (min-width: 2560px) { width: 2rem !important; }","@media (min-height: 1000px) and (max-width: 767px) { width: 2rem !important; }"]})]}):null]})]})}))})]}):null]})},$e=Object(f.d)("div").withConfig({displayName:"MetasModal___StyledDiv24",componentId:"sc-1c2luas-58"})({display:"flex",justifyContent:"center",gap:"1rem"}),Ke=Object(f.d)("div").withConfig({displayName:"MetasModal___StyledDiv25",componentId:"sc-1c2luas-59"})({display:"flex",flexDirection:"column",gap:"1rem",borderWidth:"2px","--tw-border-opacity":"1",borderColor:"rgba(156, 163, 175, var(--tw-border-opacity))",padding:"1.25rem",borderRadius:"1rem"}),et=Object(f.d)("div").withConfig({displayName:"MetasModal___StyledDiv26",componentId:"sc-1c2luas-60"})({textAlign:"center"}),tt=Object(f.d)("div").withConfig({displayName:"MetasModal___StyledDiv27",componentId:"sc-1c2luas-61"})({textAlign:"center"}),it=Object(f.d)("div").withConfig({displayName:"MetasModal___StyledDiv28",componentId:"sc-1c2luas-62"})({textAlign:"center"}),nt=Object(f.d)("div").withConfig({displayName:"MetasModal___StyledDiv29",componentId:"sc-1c2luas-63"})({textAlign:"center"}),at=Object(f.d)("div").withConfig({displayName:"MetasModal___StyledDiv30",componentId:"sc-1c2luas-64"})({textAlign:"center"}),rt=Object(f.d)("div").withConfig({displayName:"MetasModal___StyledDiv31",componentId:"sc-1c2luas-65"})({textAlign:"center"}),dt=Object(f.d)("div").withConfig({displayName:"MetasModal___StyledDiv32",componentId:"sc-1c2luas-66"})({display:"flex",width:"100%",justifyContent:"center"}),ot=Object(f.d)(v.b).withConfig({displayName:"MetasModal___StyledButton4",componentId:"sc-1c2luas-67"})({width:"100%"}),ct=Object(f.d)("div").withConfig({displayName:"MetasModal___StyledDiv33",componentId:"sc-1c2luas-68"})({display:"flex",flexDirection:"column",gap:"1rem",borderWidth:"2px","--tw-border-opacity":"1",borderColor:"rgba(156, 163, 175, var(--tw-border-opacity))",padding:"1.25rem",borderRadius:"1rem"}),st=Object(f.d)("div").withConfig({displayName:"MetasModal___StyledDiv34",componentId:"sc-1c2luas-69"})({display:"flex",justifyContent:"center",alignItems:"center",gap:"0.5rem"}),lt=Object(f.d)("label").withConfig({displayName:"MetasModal___StyledLabel",componentId:"sc-1c2luas-70"})({display:"flex",flexDirection:"column",textAlign:"center"}),pt=Object(f.d)(v.b).withConfig({displayName:"MetasModal___StyledButton5",componentId:"sc-1c2luas-71"})({marginTop:"1rem"}),mt=Object(f.d)("div").withConfig({displayName:"MetasModal___StyledDiv35",componentId:"sc-1c2luas-72"})({position:"relative",display:"flex",justifyContent:"center",alignItems:"center",gap:"0.5rem"}),ut=Object(f.d)("label").withConfig({displayName:"MetasModal___StyledLabel2",componentId:"sc-1c2luas-73"})({display:"flex",flexDirection:"column",textAlign:"center"}),gt=Object(f.d)("span").withConfig({displayName:"MetasModal___StyledSpan3",componentId:"sc-1c2luas-74"})(["",""],(function(e){return e._css13})),ht=Object(f.d)("div").withConfig({displayName:"MetasModal___StyledDiv36",componentId:"sc-1c2luas-75"})({display:"flex",justifyContent:"center",alignItems:"center",gap:"0.5rem"}),bt=Object(f.d)("label").withConfig({displayName:"MetasModal___StyledLabel3",componentId:"sc-1c2luas-76"})({display:"flex",flexDirection:"column",textAlign:"center"}),jt=Object(f.d)(v.b).withConfig({displayName:"MetasModal___StyledButton6",componentId:"sc-1c2luas-77"})({marginTop:"1rem"}),xt=function(e){var t=e.dayPercentUse,i=e.setDayPercentUse,n=e.eveningPercentUse,a=e.setEveningPercentUse,r=e.nightPercentUse,d=e.setNightPercentUse,o=e.lastMonths,l=e.setLastMonths,g=e.rewardsPercent,h=e.setRewardsPercent,b=e.percentUse,j=e.setPercentUse,x=e.setIsLoading,f=e.ListpercentLevel,y=e.selectAgency,w=e.agency,O=e.limitFire,_=e.setLimitFire;-1===t&&i(parseFloat(w.percentday)),-1===n&&a(parseFloat(w.percentevening)),-1===r&&d(parseFloat(w.percentnight)),-1===o&&l(parseFloat(w.lastmonthsgoals)),-1===g&&h(parseFloat(w.percentrewards)),-1===O&&_(parseFloat(w.averagepoints)),-1===b&&j(parseFloat(w.percentnight)+parseFloat(w.percentevening)+parseFloat(w.percentday));var M=Object(m.useRef)(),C=function(e,o){var c=0,s=0,l=0;if("day"===o&&(c=e,l=n,s=r),"evening"===o&&(c=t,l=e,s=r),"night"===o&&(c=t,l=n,s=e),c+s+l<=100){if(j(c+s+l),"night"===o)return d(e);if("evening"===o)return a(e);if("day"===o)return i(e)}return c>0&&c+s+l>100&&("evening"===o||"night"===o)?(c-(c+s+l-100)>0?i(c-(c+s+l-100)):(i(0),"evening"===o&&(s-(0+s+l-100)<0?(d(0),a(100)):d(s-(0+s+l-100))),"night"===o&&(l-(0+s+l-100)<0?(a(0),d(100)):a(l-(0+s+l-100)))),"night"===o&&d(e>100?100:e),"evening"===o&&a(e>100?100:e),"day"===o&&i(e>100?100:e),j(100)):l>0&&c+s+l>100&&("day"===o||"night"===o)?(l-(c+s+l-100)>0?a(l-(c+s+l-100)):(a(0),"day"===o&&(s-(c+s+0-100)<0?(d(0),i(100)):d(s-(c+s+0-100))),"night"===o&&(c-(c+s+0-100)<0?(i(0),d(100)):i(c-(c+s+0-100)))),"night"===o&&d(e>100?100:e),"evening"===o&&a(e>100?100:e),"day"===o&&i(e>100?100:e),j(100)):s>0&&c+s+l>100&&("day"===o||"evening"===o)?(l-(c+s+l-100)>0?d(s-(c+s+l-100)):(d(0),"day"===o&&(c-(c+0+l-100)<0?(a(0),i(100)):a(c-(c+0+l-100))),"evening"===o&&(l-(c+0+l-100)<0?(i(0),a(100)):i(l-(c+0+l-100)))),"night"===o&&d(e>100?100:e),"evening"===o&&a(e>100?100:e),"day"===o&&i(e>100?100:e),j(100)):void 0};return Object(Q.jsxs)($e,{children:[Object(Q.jsxs)(Ke,{children:[Object(Q.jsxs)("div",{children:[Object(Q.jsx)(et,{children:"Cantidad de meses"}),Object(Q.jsx)(te,{type:"number",value:o,onChange:function(e){return l(e.target.value)}})]}),Object(Q.jsxs)("div",{children:[Object(Q.jsx)(tt,{children:"Porcentaje Total"}),Object(Q.jsx)("div",{children:Object(Q.jsx)(ee,{type:"text",value:Object(p.S)(b,2,",",".")+"%",disabled:!0})})]}),Object(Q.jsxs)("div",{children:[Object(Q.jsx)(it,{children:"Dia"}),Object(Q.jsx)("div",{children:Object(Q.jsx)(K,{type:"number",value:t,onChange:function(e){return C(Number(e.target.value),"day")},onClick:function(e){return e.target.select()},min:0,max:100})})]}),Object(Q.jsxs)("div",{children:[Object(Q.jsx)(nt,{children:"Tarde"}),Object(Q.jsx)("div",{children:Object(Q.jsx)($,{type:"number",value:n,onChange:function(e){return C(Number(e.target.value),"evening")},onClick:function(e){return e.target.select()},min:0,max:100})})]}),Object(Q.jsxs)("div",{children:[Object(Q.jsx)(at,{children:"Noche"}),Object(Q.jsx)("div",{children:Object(Q.jsx)(X,{type:"number",value:r,onChange:function(e){return C(Number(e.target.value),"night")},onClick:function(e){return e.target.select()},min:0,max:100})})]}),Object(Q.jsxs)("div",{children:[Object(Q.jsx)(rt,{children:"Porcentaje de Recompensa"}),Object(Q.jsx)("div",{children:Object(Q.jsx)(q,{type:"number",min:1,max:100,value:g,onChange:function(e){return h(e.target.value)}})})]}),Object(Q.jsx)(dt,{children:Object(Q.jsx)(ot,{primario:!0,onClick:Object(s.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("qaz"!==prompt("Ingrese clave")){e.next=7;break}return x(!0),e.next=4,Object(p.u)("/goals/put-config-goals",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({percentday:t,percentevening:n,percentnight:r,lastmonthsgoals:o,rewardsPercent:g,agency_id:y})});case 4:return e.next=6,u.b.invalidateQueries(["agency"]);case 6:x(!1);case 7:case"end":return e.stop()}}),e)}))),children:"Guardar"})})]}),Object(Q.jsxs)(ct,{children:[Object(Q.jsxs)(st,{children:[Object(Q.jsxs)(lt,{children:["Porcentaje por nivel",Object(Q.jsx)(Z,{type:"text",ref:M,defaultValue:0,onChange:function(e){return e.target.value<0?M.current.value=0:e.target.value>100?M.current.value=100:M.current.value=e.target.value}})]}),Object(Q.jsx)(pt,{primario:!0,onClick:Object(s.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(M.current.value>0)){e.next=8;break}if("qaz"!==prompt("Ingrese clave")){e.next=8;break}return x(!0),e.next=5,Object(p.u)("/goals/add-percentlevel",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({percentlevel:M.current.value,agency_id:y})});case 5:return e.next=7,u.b.invalidateQueries(["agency"]);case 7:x(!1);case 8:case"end":return e.stop()}}),e)}))),children:"Agregar"})]}),(null===f||void 0===f?void 0:f.length)>0?null===f||void 0===f?void 0:f.map((function(e){return Object(Q.jsxs)(mt,{children:[Object(Q.jsxs)(ut,{children:[Object(Q.jsx)(gt,{_css13:[{"--tw-translate-x":"-50%","--tw-translate-y":"-50%","--tw-rotate":"0","--tw-skew-x":"0","--tw-skew-y":"0","--tw-scale-x":"1","--tw-scale-y":"1",transform:"translateX(var(--tw-translate-x)) translateY(var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))",width:"2rem",height:"2rem",position:"absolute",left:"0.5rem",top:"0.5rem","--tw-bg-opacity":"1",backgroundColor:"rgba(37, 99, 235, var(--tw-bg-opacity))",borderRadius:"9999px",padding:"0.25rem",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center"},"@media (min-width: 2560px) { line-height: 1.75rem !important; font-size: 1.25rem !important; padding: 1rem !important; height: 2.5rem !important; width: 2.5rem !important; }","@media (min-height: 1000px) and (max-width: 767px) { line-height: 1.75rem !important; font-size: 1.25rem !important; padding: 1rem !important; height: 2.5rem !important; width: 2.5rem !important; }"],children:e.key}),Object(Q.jsx)(Y,{type:"text",value:Object(p.S)(e.value,2,",",".")+"%",disabled:!0})]}),Object(Q.jsx)(v.b,{cancel:!0,onClick:Object(s.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("qaz"!==prompt("Ingrese clave")){t.next=7;break}return x(!0),t.next=4,Object(p.u)("/goals/delete-percentlevel",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({percentlevelnum:e.key,agency_id:y})});case 4:return t.next=6,u.b.invalidateQueries(["agency"]);case 6:x(!1);case 7:case"end":return t.stop()}}),t)}))),children:"Borrar"})]},e.key)})):null,Object(Q.jsxs)(ht,{children:[Object(Q.jsxs)(bt,{children:["Promedio de \ud83d\udc8e para (\ud83d\udd25)",Object(Q.jsx)(H,{type:"number",min:1,max:100,value:O,onChange:function(e){return _(e.target.value)}})]}),Object(Q.jsx)(jt,{primario:!0,onClick:function(){var e=Object(s.a)(c.a.mark((function e(t){var i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=t.currentTarget).disabled=!0,e.next=4,Object(p.u)("/agency/config-agency",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({type:"average",averagepoints:O,agencyId:y})});case 4:return e.next=6,u.b.invalidateQueries(["agency"]);case 6:i.disabled=!1;case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:"Guardar"})]})]})]})},ft=Object(f.d)("div").withConfig({displayName:"MetasModal___StyledDiv37",componentId:"sc-1c2luas-78"})({display:"flex",flexDirection:"column",overflowX:"hidden",height:"100%",width:"100%",padding:"0.5rem",gap:"0.5rem"}),vt=Object(f.d)("div").withConfig({displayName:"MetasModal___StyledDiv38",componentId:"sc-1c2luas-79"})({width:"100%",display:"flex",justifyContent:"space-between"}),yt=Object(f.d)(v.b).withConfig({displayName:"MetasModal___StyledButton7",componentId:"sc-1c2luas-80"})({width:"100%",paddingLeft:"0.25rem",paddingRight:"0.25rem",paddingTop:"0.25rem",paddingBottom:"0.25rem"}),wt=Object(f.d)("div").withConfig({displayName:"MetasModal___StyledDiv39",componentId:"sc-1c2luas-81"})({display:"flex",flexDirection:"column",gap:"0.5rem"}),Ot=Object(f.d)(v.b).withConfig({displayName:"MetasModal___StyledButton8",componentId:"sc-1c2luas-82"})({width:"100%",paddingLeft:"0.25rem",paddingRight:"0.25rem",paddingTop:"0.25rem",paddingBottom:"0.25rem"}),_t=Object(f.d)("input").withConfig({displayName:"MetasModal___StyledInput12",componentId:"sc-1c2luas-83"})(["",""],(function(e){return e._css14})),Mt=Object(f.d)("input").withConfig({displayName:"MetasModal___StyledInput13",componentId:"sc-1c2luas-84"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",padding:"0.25rem",borderRadius:"0.25rem"}),Ct=Object(f.d)("div").withConfig({displayName:"MetasModal___StyledDiv40",componentId:"sc-1c2luas-85"})(["",""],(function(e){return e._css15})),St=function(e){var t,i,n=e.metas,a=e.setIsLoading,r=e.perfiles,o=e.operadores,l=e.selectAgency,g=Object(m.useState)(""),h=Object(d.a)(g,2),j=h[0],x=h[1],f=null===n||void 0===n?void 0:n.filter((function(e){return"profile"===e.entity&&"Meta mensual automatica"===e.description})),v=Object(m.useState)(Object(p.gb)().split("T")[0]),y=Object(d.a)(v,2),w=y[0],O=y[1];return Object(Q.jsxs)(ft,{children:[Object(Q.jsxs)(vt,{children:[Object(Q.jsxs)("div",{children:[(null===f||void 0===f?void 0:f.length)>0?Object(Q.jsx)(yt,{cancel:!0,onClick:Object(s.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("qaz"!==prompt("Ingrese clave")){e.next=9;break}return a(!0),e.next=4,Object(p.u)("/goals/disabled-goal-auto",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({profileId:"all",agency_id:l})});case 4:return e.next=6,u.b.invalidateQueries(["metas"]);case 6:return e.next=8,u.b.invalidateQueries(["perfiles"]);case 8:a(!1);case 9:case"end":return e.stop()}}),e)}))),children:"Desactivar todas las metas automaticas"}):null,0===(null===f||void 0===f?void 0:f.length)?Object(Q.jsxs)(wt,{children:[Object(Q.jsx)("div",{children:Object(Q.jsx)(Ot,{primario:!0,onClick:Object(s.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("qaz"!==prompt("Ingrese clave")){e.next=9;break}return a(!0),e.next=4,Object(p.u)("/goals/create-goal-auto",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({profileId:"all",date:w,name:"all",agency_id:l})});case 4:return e.next=6,u.b.invalidateQueries(["metas"]);case 6:return e.next=8,u.b.invalidateQueries(["perfiles",(new Date).getMonth()+1,(new Date).getFullYear()]);case 8:a(!1);case 9:case"end":return e.stop()}}),e)}))),children:"Generar todas las metas automaticas"})}),Object(Q.jsx)("div",{children:Object(Q.jsx)(_t,{type:"date",defaultValue:w,onChange:function(e){return O(e.target.value)},_css14:[{"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",borderRadius:"1rem",width:"100%","@media (min-width: 768px)":{padding:"0.25rem"}},"@media (min-width: 2560px) { padding: 0.5rem !important; }"]})})]}):null]}),Object(Q.jsx)("div",{children:Object(Q.jsx)(Mt,{placeholder:"Buscar",value:j,onChange:function(e){return x(e.target.value)}})})]}),Object(Q.jsx)(Ct,{_css15:[{display:"flex",flexDirection:"column",overflowX:"hidden",height:"100%",width:"100%",padding:"0.5rem",gap:"0.5rem"},b.b],children:null===r||void 0===r||null===(t=r.filter((function(e){return!1===e.hidden})))||void 0===t||null===(i=t.filter((function(e){return e.activo})))||void 0===i?void 0:i.filter((function(e){return e.nombre.toLowerCase().includes(j.toLowerCase())})).map((function(e){var t=null===n||void 0===n?void 0:n.filter((function(t){return t.entityId===e.id&&"profile"===t.entity}));return Object(Q.jsx)(Yt,{perfil:e,metaAsoc:t,setIsLoading:a,operadores:o,selectAgency:l})}))})]})},It=Object(f.d)("div").withConfig({displayName:"MetasModal___StyledDiv41",componentId:"sc-1c2luas-86"})({display:"flex",justifyContent:"space-between",padding:"0.5rem",borderWidth:"2px","--tw-border-opacity":"1",borderColor:"rgba(107, 114, 128, var(--tw-border-opacity))",borderRadius:"20px",alignItems:"center"}),Nt=Object(f.d)("div").withConfig({displayName:"MetasModal___StyledDiv42",componentId:"sc-1c2luas-87"})({display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem","@media (min-width: 1024px)":{gap:"0.75rem"}}),Dt=Object(f.d)("div").withConfig({displayName:"MetasModal___StyledDiv43",componentId:"sc-1c2luas-88"})({"--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",fontWeight:"700",fontSize:"0.5rem","@media (min-width: 1024px)":{fontSize:"0.95rem"}}),kt=Object(f.d)("div").withConfig({displayName:"MetasModal___StyledDiv44",componentId:"sc-1c2luas-89"})({display:"flex",justifyContent:"center",gap:"0.5rem","@media (min-width: 1024px)":{gap:"0.75rem"}}),Tt=Object(f.d)("div").withConfig({displayName:"MetasModal___StyledDiv45",componentId:"sc-1c2luas-90"})({display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem","@media (min-width: 1024px)":{gap:"0.75rem"}}),Rt=Object(f.d)("div").withConfig({displayName:"MetasModal___StyledDiv46",componentId:"sc-1c2luas-91"})({display:"flex",alignItems:"center"}),zt=Object(f.d)("select").withConfig({displayName:"MetasModal___StyledSelect5",componentId:"sc-1c2luas-92"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",padding:"0.375rem",width:"100%",borderRadius:"1rem 0 0 1rem"}),At=Object(f.d)("button").withConfig({displayName:"MetasModal___StyledButton9",componentId:"sc-1c2luas-93"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))",":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgba(56, 56, 69, var(--tw-bg-opacity))"},fontWeight:"700",paddingTop:"0.5rem",paddingBottom:"0.5rem",paddingLeft:"0.5rem",paddingRight:"0.5rem",borderRadius:"0 1rem 1rem 0"}),Pt=Object(f.d)("div").withConfig({displayName:"MetasModal___StyledDiv47",componentId:"sc-1c2luas-94"})({display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem","@media (min-width: 1024px)":{gap:"0.75rem"}}),Bt=Object(f.d)("div").withConfig({displayName:"MetasModal___StyledDiv48",componentId:"sc-1c2luas-95"})({display:"flex",alignItems:"center"}),Lt=Object(f.d)("select").withConfig({displayName:"MetasModal___StyledSelect6",componentId:"sc-1c2luas-96"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",padding:"0.375rem",width:"100%",borderRadius:"1rem 0 0 1rem"}),Ft=Object(f.d)("button").withConfig({displayName:"MetasModal___StyledButton10",componentId:"sc-1c2luas-97"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))",":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgba(56, 56, 69, var(--tw-bg-opacity))"},fontWeight:"700",paddingTop:"0.5rem",paddingBottom:"0.5rem",paddingLeft:"0.5rem",paddingRight:"0.5rem",borderRadius:"0 1rem 1rem 0"}),Et=Object(f.d)("div").withConfig({displayName:"MetasModal___StyledDiv49",componentId:"sc-1c2luas-98"})({display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem","@media (min-width: 1024px)":{gap:"0.75rem"}}),Wt=Object(f.d)("div").withConfig({displayName:"MetasModal___StyledDiv50",componentId:"sc-1c2luas-99"})({display:"flex",alignItems:"center"}),Jt=Object(f.d)("select").withConfig({displayName:"MetasModal___StyledSelect7",componentId:"sc-1c2luas-100"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",padding:"0.375rem",width:"100%",borderRadius:"1rem"}),Qt=Object(f.d)("div").withConfig({displayName:"MetasModal___StyledDiv51",componentId:"sc-1c2luas-101"})({display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem","@media (min-width: 1024px)":{gap:"0.75rem"}}),Gt=Object(f.d)("div").withConfig({displayName:"MetasModal___StyledDiv52",componentId:"sc-1c2luas-102"})({display:"flex",alignItems:"center"}),Vt=Object(f.d)("select").withConfig({displayName:"MetasModal___StyledSelect8",componentId:"sc-1c2luas-103"})({"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",padding:"0.375rem",width:"100%",borderRadius:"1rem"}),Ut=Object(f.d)("div").withConfig({displayName:"MetasModal___StyledDiv53",componentId:"sc-1c2luas-104"})({display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem"}),Ht=Object(f.d)("input").withConfig({displayName:"MetasModal___StyledInput14",componentId:"sc-1c2luas-105"})(["",""],(function(e){return e._css16})),Yt=function(e){var t,i,n,a,r,o,l=e.perfil,g=e.metaAsoc,h=e.setIsLoading,b=e.operadores,j=e.selectAgency,x=Object(m.useState)("-1"),f=Object(d.a)(x,2),y=f[0],w=f[1],O=Object(m.useState)("-1"),_=Object(d.a)(O,2),M=_[0],C=_[1],S=Object(m.useState)(null!==(t=null===l||void 0===l||null===(i=l.operador)||void 0===i?void 0:i.id)&&void 0!==t?t:0),I=Object(d.a)(S,2),N=I[0],D=I[1],k=Object(m.useState)(Object(p.gb)().split("T")[0]),T=Object(d.a)(k,2),R=T[0],z=T[1],A=(null===g||void 0===g?void 0:g.reduce((function(e,t){var i,n,a=t.steps;return null!==(i=e+parseFloat(null===a||void 0===a||null===(n=a[0])||void 0===n?void 0:n.points))&&void 0!==i?i:0}),0))/10;return Object(Q.jsxs)(It,{children:[Object(Q.jsxs)(Nt,{children:[Object(Q.jsx)(G,{children:Object(Q.jsx)(V,{src:null===l||void 0===l?void 0:l.foto})}),Object(Q.jsx)(ne,{title:null===l||void 0===l?void 0:l.nombre,children:null===l||void 0===l?void 0:l.nombre})]}),Object(Q.jsxs)(Dt,{children:[parseFloat(isNaN(A)?0:A).toFixed(2)," \ud83d\udc8e"]}),Object(Q.jsxs)(kt,{children:[Object(Q.jsxs)(Tt,{children:[Object(Q.jsx)("div",{children:"Operadores"}),Object(Q.jsxs)(Rt,{children:[Object(Q.jsxs)(zt,{value:y,onChange:function(e){return w(e.target.value)},children:[Object(Q.jsx)("option",{value:-1,children:"Seleccionar"}),null===b||void 0===b||null===(n=b.filter((function(e){return!1===e.hidden})))||void 0===n||null===(a=n.filter((function(e){var t;return 0===(null===l||void 0===l?void 0:l.operadoresAsignadosIds.length)||!(null===l||void 0===l||null===(t=l.operadoresAsignadosIds)||void 0===t?void 0:t.includes(e.id))})))||void 0===a?void 0:a.map((function(e){return Object(Q.jsx)("option",{value:e.id,children:e.nombre})}))]}),Object(Q.jsx)(At,{onClick:Object(s.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("-1"!==y){e.next=2;break}return e.abrupt("return");case 2:return h(!0),e.next=5,Object(p.u)("/profiles/assign-operator",{method:"POST",body:JSON.stringify({profileId:l.id,operatorId:+y}),headers:{"Content-Type":"application/json"}});case 5:return e.next=7,Object(p.Z)(l.id);case 7:return e.next=9,Object(p.Y)(+y);case 9:return e.next=11,u.b.invalidateQueries(["operadores-goals"]);case 11:h(!1);case 12:case"end":return e.stop()}}),e)}))),children:Object(Q.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-right",viewBox:"0 0 16 16",children:Object(Q.jsx)("path",{"fill-rule":"evenodd",d:"M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"})})})]})]}),Object(Q.jsxs)(Pt,{children:[Object(Q.jsx)("div",{children:"Asignados"}),Object(Q.jsxs)(Bt,{children:[Object(Q.jsxs)(Lt,{value:M,onChange:function(e){return C(e.target.value)},children:[Object(Q.jsx)("option",{value:-1,children:"Seleccionar"}),null===b||void 0===b||null===(r=b.filter((function(e){var t;return null===l||void 0===l||null===(t=l.operadoresAsignadosIds)||void 0===t?void 0:t.includes(e.id)})))||void 0===r?void 0:r.map((function(e){return Object(Q.jsx)("option",{value:e.id,children:e.nombre})}))]}),Object(Q.jsx)(Ft,{onClick:Object(s.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("-1"!==M){e.next=2;break}return e.abrupt("return");case 2:return h(!0),e.next=5,Object(p.u)("/profiles/remove-assigned-operator",{method:"POST",body:JSON.stringify({profileId:l.id,operatorId:+M}),headers:{"Content-Type":"application/json"}});case 5:return e.next=7,Object(p.Z)(l.id);case 7:return e.next=9,Object(p.Y)(+M);case 9:return e.next=11,u.b.invalidateQueries(["operadores-goals"]);case 11:h(!1);case 12:case"end":return e.stop()}}),e)}))),children:Object(Q.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-left",viewBox:"0 0 16 16",children:Object(Q.jsx)("path",{"fill-rule":"evenodd",d:"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"})})})]})]}),Object(Q.jsxs)(Et,{children:[Object(Q.jsx)("div",{children:"Tomado"}),Object(Q.jsx)(Wt,{children:Object(Q.jsxs)(Jt,{value:N,onChange:function(){var e=Object(s.a)(c.a.mark((function e(t){var i,n,a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h(!0),0!==+t.target.value){e.next=13;break}return e.next=4,Object(p.u)("/profiles/release",{headers:{"Content-Type":"application/json"},body:JSON.stringify({list_id:[l.id],operatorId:N,force:!0}),method:"POST"});case 4:if("success"!==(null===(i=e.sent)||void 0===i?void 0:i.status)){e.next=11;break}return D(+t.target.value),e.next=9,Object(p.Z)(+l.id);case 9:return e.next=11,Object(p.Y)(N);case 11:e.next=40;break;case 13:if(0===N||0===+t.target.value){e.next=31;break}return e.next=16,Object(p.u)("/profiles/release",{headers:{"Content-Type":"application/json"},body:JSON.stringify({list_id:[l.id],operatorId:N,force:!0}),method:"POST"});case 16:if("success"!==(null===(n=e.sent)||void 0===n?void 0:n.status)){e.next=29;break}return e.next=20,Object(p.u)("/profiles/select",{headers:{"Content-Type":"application/json"},body:JSON.stringify({list_id:[l.id],operatorId:+t.target.value,force:!0}),method:"POST"});case 20:if("success"!==(null===(a=e.sent)||void 0===a?void 0:a.status)){e.next=29;break}return D(+t.target.value),e.next=25,Object(p.Z)(+l.id);case 25:return e.next=27,Object(p.Y)(+t.target.value);case 27:return e.next=29,Object(p.Y)(N);case 29:e.next=40;break;case 31:return e.next=33,Object(p.u)("/profiles/select",{headers:{"Content-Type":"application/json"},body:JSON.stringify({list_id:[l.id],operatorId:+t.target.value,force:!0}),method:"POST"});case 33:if("success"!==(null===(r=e.sent)||void 0===r?void 0:r.status)){e.next=40;break}return D(+t.target.value),e.next=38,Object(p.Z)(+l.id);case 38:return e.next=40,Object(p.Y)(+t.target.value);case 40:return e.next=42,u.b.invalidateQueries(["operadores-goals"]);case 42:h(!1);case 43:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[Object(Q.jsx)("option",{value:0,children:"Sin Asignar"}),null===b||void 0===b||null===(o=b.filter((function(e){var t;return(null===l||void 0===l||null===(t=l.operadoresAsignadosIds)||void 0===t?void 0:t.includes(e.id))||+N===e.id})))||void 0===o?void 0:o.map((function(e){return Object(Q.jsx)("option",{value:e.id,children:e.nombre})}))]})})]})]}),Object(Q.jsxs)(Qt,{children:[Object(Q.jsx)("div",{children:"Metas Automaticas"}),Object(Q.jsx)(Gt,{children:Object(Q.jsxs)(Vt,{onChange:function(){var e=Object(s.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("qaz"!==prompt("Ingrese clave")){e.next=7;break}return h(!0),e.next=4,Object(p.u)("/goals/set-auto-goal",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({profileId:l.id,autoGoal:t.target.value})});case 4:return e.next=6,Object(p.Z)(+l.id);case 6:h(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[Object(Q.jsx)("option",{value:!1,selected:!1===(null===l||void 0===l?void 0:l.autoGoal)?"selected":null,children:"Desactivada"}),Object(Q.jsx)("option",{value:!0,selected:!0===(null===l||void 0===l?void 0:l.autoGoal)?"selected":null,children:"Activada"})]})})]}),g.length>0?Object(Q.jsx)("div",{children:Object(Q.jsx)(v.b,{cancel:!0,onClick:Object(s.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("qaz"!==prompt("Ingrese clave")){e.next=9;break}return h(!0),e.next=4,Object(p.u)("/goals/disabled-goal-auto",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({profileId:l.id,agency_id:j})});case 4:return e.next=6,u.b.invalidateQueries(["metas"]);case 6:return e.next=8,Object(p.Z)(+l.id);case 8:h(!1);case 9:case"end":return e.stop()}}),e)}))),children:"Desactivar Meta Actual"})}):null,0===g.length?Object(Q.jsxs)(Ut,{children:[Object(Q.jsx)("div",{children:Object(Q.jsx)(v.b,{primario:!0,onClick:Object(s.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("qaz"!==prompt("Ingrese clave")){e.next=9;break}return h(!0),e.next=4,Object(p.u)("/goals/create-goal-auto",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({profileId:l.id,date:R,name:l.nombre})});case 4:return e.next=6,Object(p.Z)(+l.id);case 6:return e.next=8,u.b.invalidateQueries(["metas"]);case 8:h(!1);case 9:case"end":return e.stop()}}),e)}))),children:"Generar Meta"})}),Object(Q.jsx)("div",{children:Object(Q.jsx)(Ht,{type:"date",defaultValue:R,onChange:function(e){return z(e.target.value)},_css16:[{"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",borderRadius:"1rem",width:"100%","@media (min-width: 768px)":{padding:"0.25rem"}},"@media (min-width: 2560px) { padding: 0.5rem !important; }"]})})]}):null]},l.amolatina_id)},Zt=Object(f.d)("div").withConfig({displayName:"MetasModal___StyledDiv54",componentId:"sc-1c2luas-106"})(["",""],(function(e){return e._css17})),qt=Object(f.d)("div").withConfig({displayName:"MetasModal___StyledDiv55",componentId:"sc-1c2luas-107"})(["",""],(function(e){return e._css18})),Xt=Object(f.d)("input").withConfig({displayName:"MetasModal___StyledInput15",componentId:"sc-1c2luas-108"})(["",""],(function(e){return e._css19})),$t=Object(f.d)("input").withConfig({displayName:"MetasModal___StyledInput16",componentId:"sc-1c2luas-109"})(["",""],(function(e){return e._css20})),Kt=Object(f.d)("select").withConfig({displayName:"MetasModal___StyledSelect9",componentId:"sc-1c2luas-110"})(["",""],(function(e){return e._css21})),ei=Object(f.d)("select").withConfig({displayName:"MetasModal___StyledSelect10",componentId:"sc-1c2luas-111"})(["",""],(function(e){return e._css22})),ti=Object(f.d)("select").withConfig({displayName:"MetasModal___StyledSelect11",componentId:"sc-1c2luas-112"})(["",""],(function(e){return e._css23})),ii=Object(f.d)("select").withConfig({displayName:"MetasModal___StyledSelect12",componentId:"sc-1c2luas-113"})(["",""],(function(e){return e._css24})),ni=Object(f.d)("select").withConfig({displayName:"MetasModal___StyledSelect13",componentId:"sc-1c2luas-114"})(["",""],(function(e){return e._css25})),ai=Object(f.d)("select").withConfig({displayName:"MetasModal___StyledSelect14",componentId:"sc-1c2luas-115"})(["",""],(function(e){return e._css26})),ri=Object(f.d)("select").withConfig({displayName:"MetasModal___StyledSelect15",componentId:"sc-1c2luas-116"})(["",""],(function(e){return e._css27})),di=Object(f.d)("select").withConfig({displayName:"MetasModal___StyledSelect16",componentId:"sc-1c2luas-117"})(["",""],(function(e){return e._css28})),oi=Object(f.d)(p.f).withConfig({displayName:"MetasModal___StyledDivRadio",componentId:"sc-1c2luas-118"})({display:"flex","@media (min-width: 768px)":{gap:"0.25rem"},"@media (min-width: 1024px)":{gap:"1rem"}}),ci=Object(f.d)("label").withConfig({displayName:"MetasModal___StyledLabel4",componentId:"sc-1c2luas-119"})({display:"flex",alignItems:"center","@media (min-width: 768px)":{gap:"0.125rem"},"@media (min-width: 1024px)":{gap:"0.25rem"}}),si=Object(f.d)("div").withConfig({displayName:"MetasModal___StyledDiv56",componentId:"sc-1c2luas-120"})(["",""],(function(e){return e._css29})),li=Object(f.d)("button").withConfig({displayName:"MetasModal___StyledButton11",componentId:"sc-1c2luas-121"})(["",""],(function(e){return e._css30})),pi=Object(f.d)("div").withConfig({displayName:"MetasModal___StyledDiv57",componentId:"sc-1c2luas-122"})({display:"flex",justifyContent:"center",gap:"0.5rem"}),mi=Object(f.d)(v.b).withConfig({displayName:"MetasModal___StyledButton12",componentId:"sc-1c2luas-123"})({display:"flex",alignItems:"center",justifyContent:"center","@media (min-width: 768px)":{padding:"0.375rem"},"@media (min-width: 1280px)":{padding:"0.75rem"}}),ui=Object(f.d)(v.b).withConfig({displayName:"MetasModal___StyledButton13",componentId:"sc-1c2luas-124"})({display:"flex",alignItems:"center",justifyContent:"center","@media (min-width: 768px)":{padding:"0.375rem"},"@media (min-width: 1280px)":{padding:"0.75rem"}}),gi=Object(f.d)(v.b).withConfig({displayName:"MetasModal___StyledButton14",componentId:"sc-1c2luas-125"})({display:"flex",alignItems:"center",justifyContent:"center","@media (min-width: 768px)":{padding:"0.375rem"},"@media (min-width: 1280px)":{padding:"0.75rem"}}),hi=Object(f.d)("div").withConfig({displayName:"MetasModal___StyledDiv58",componentId:"sc-1c2luas-126"})({height:"100%",display:"flex",justifyContent:"center"}),bi=function(e){var t,i,n,o=e.perfiles,l=e.metas,b=e.timespan,x=e.setTimespan,f=e.selectAgency,y=Object(m.useState)("agency"),w=Object(d.a)(y,2),O=w[0],_=w[1],M=Object(m.useState)(1),C=Object(d.a)(M,2),S=C[0],I=C[1],N=Object(m.useState)("points"),D=Object(d.a)(N,2),k=D[0],T=D[1],R=Object(m.useState)(-1),z=Object(d.a)(R,2),A=z[0],P=z[1],B=Object(m.useState)("money"),L=Object(d.a)(B,2),F=L[0],E=L[1],W=Object(m.useState)(""),J=Object(d.a)(W,2),G=J[0],V=J[1],U=Object(m.useState)(!1),H=Object(d.a)(U,2),Y=H[0],Z=H[1],q=Object(m.useState)("dialogs.messages:intervals"),X=Object(d.a)(q,2),$=X[0],K=X[1],ee=Object(m.useState)([{points:100,prize:100}]),te=Object(d.a)(ee,2),ne=te[0],ae=te[1],re=Object(m.useState)(!1),de=Object(d.a)(re,2),oe=de[0],ce=de[1],se=Object(m.useState)("Meta"),le=Object(d.a)(se,2),pe=le[0],me=le[1],ue=Object(m.useState)("all"),ge=Object(d.a)(ue,2),he=ge[0],be=ge[1],je=u.b.getQueryData(["supervisores"]),xe=Object(u.d)(["CountryCount","admin","operadores","all","all","all","all",f],p.B).data,fe=Object(m.useState)(ie),ve=Object(d.a)(fe,2),ye=ve[0],we=ve[1],Oe=function(e,t,i){if("prizeamount"===t?ne[e].prize=i:"points"===t?ne[e].points=i:"percentage"===t?ne[e].percentage=i:"serviceamount"===t?ne[e].amount=i:"photo"===t&&(ne[e].photo=i),"points"===t&&ne.length>e)for(var n=e;n<ne.length;n++)ne[n].points<i&&(ne[n].points=i+n);if("serviceamount"===t&&ne.length>e)for(var a=e;a<ne.length;a++)ne[a].amount<i&&(ne[a].amount=i+a);ae(Object(r.a)(ne))},_e=Object(m.useCallback)((function(){"points"===k&&"money"===F?ae([{points:100,prize:100}]):"points"===k&&"gift"===F?ae([{points:100,photo:g.a}]):"points"===k&&"percentage"===F?ae([{points:100,percentage:10}]):"service"===k&&"money"===F?ae([{service:$,amount:100,prize:100}]):"service"===k&&"gift"===F?ae([{service:$,amount:100,photo:g.a}]):"service"===k&&"percentage"===F&&ae([{service:$,amount:100,percentage:10}])}),[k,F,$]);Object(m.useEffect)((function(){-1===ye.id&&_e()}),[F,k,_e,ye]),Object(m.useEffect)((function(){"service"===k&&ae((function(e){return e.map((function(e){return Object(a.a)(Object(a.a)({},e),{},{service:$})}))}))}),[k,$]);var Me=null===l||void 0===l?void 0:l.filter((function(e){var t;return"agency"===e.entity&&!(null===(t=e.steps[0])||void 0===t?void 0:t.photo)})),Ce=null===l||void 0===l?void 0:l.filter((function(e){var t;return"profile"===e.entity&&!(null===(t=e.steps[0])||void 0===t?void 0:t.photo)})),Se=null===l||void 0===l?void 0:l.filter((function(e){var t;return"all"===e.entity&&!(null===(t=e.steps[0])||void 0===t?void 0:t.photo)})),Ie=null===l||void 0===l?void 0:l.filter((function(e){var t;return"supervisor"===e.entity&&!(null===(t=e.steps[0])||void 0===t?void 0:t.photo)})),Ne=null===l||void 0===l?void 0:l.filter((function(e){var t;return"supervisor-ent"===e.entity&&!(null===(t=e.steps[0])||void 0===t?void 0:t.photo)})),De=null===l||void 0===l?void 0:l.filter((function(e){var t;return null===(t=e.steps[0])||void 0===t?void 0:t.photo})),ke=function(e){if(we(e),-1===e.id)return _("agency"),x("month"),I(1),T("points"),P(-1),be("all"),E("money"),V(""),ae([{points:100,prize:100}]),K("dialogs.messages:intervals"),void me("Meta");_(e.entity),x(e.timespan),I(e.entityId),T(e.condition),P(e.shifts),be(e.country),E(e.prize),V(e.description),me(e.title),"service"===e.condition&&K(e.steps[0].service),ae(e.steps)},Te=function(e){if(-1===e.id)return _("agency"),x("month"),I(1),T("points"),P(-1),be("all"),E("money"),V(""),ae([{points:100,prize:100}]),K("dialogs.messages:intervals"),void me("Meta");_(e.entity),x(e.timespan),I(e.entityId),T(e.condition),P(e.shifts),be(e.country),E(e.prize),V(e.description),me(e.title),"service"===e.condition&&K(e.steps[0].service),ae(e.steps)},Re=function(e){var t=ne.filter((function(t){return t!==ne[e]}));return ae(t)};return Object(Q.jsxs)(Zt,{_css17:[{height:"100%","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",display:"flex",flexDirection:"column",alignItems:"center",position:"relative","@media (min-width: 768px)":{gap:"0.25rem",padding:"0.25rem"},"@media (min-width: 1024px)":{gap:"0.5rem",padding:"0.5rem"}},"@media (min-width: 2560px) { padding: 1rem !important; grid-gap: 1rem !important; }"],children:[Object(Q.jsxs)(qt,{_css18:[{display:"flex","@media (min-width: 768px)":{gap:"0.25rem"}},"@media (min-width: 2560px) { grid-gap: 1rem !important; }"],children:[Object(Q.jsxs)("label",{children:["Titulo"," ",Object(Q.jsx)(Xt,{value:pe,onChange:function(e){return me(e.target.value)},disabled:"profile"===O&&"Meta mensual automatica"===G?"disabled":null,_css19:[{"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",borderRadius:"1rem","@media (min-width: 768px)":{padding:"0.125rem",marginTop:"0.125rem"},"@media (min-width: 1024px)":{padding:"0.25rem",marginTop:"0.25rem"}},"@media (min-width: 2560px) { padding: 0.5rem !important; }"]})]}),Object(Q.jsxs)("label",{children:["Descripcion"," ",Object(Q.jsx)($t,{value:G,onChange:function(e){return V(e.target.value)},disabled:"profile"===O&&"Meta mensual automatica"===G?"disabled":null,_css20:[{"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",borderRadius:"1rem","@media (min-width: 768px)":{padding:"0.125rem",marginTop:"0.125rem"},"@media (min-width: 1024px)":{padding:"0.25rem",marginTop:"0.25rem"}},"@media (min-width: 2560px) { padding: 0.5rem !important; }"]})]}),Object(Q.jsxs)("label",{children:["Entidad"," ",Object(Q.jsxs)(Kt,{Z:!0,value:O,disabled:"profile"===O&&"Meta mensual automatica"===G?"disabled":null,onChange:function(e){var t,i;if(_(e.target.value),"profile"===e.target.value)I(null===o||void 0===o||null===(t=o.filter((function(e){return!1===e.hidden&&!0===e.activo}))[0])||void 0===t?void 0:t.id),me("Meta ".concat(null===o||void 0===o||null===(i=o.filter((function(e){return!1===e.hidden&&!0===e.activo}))[0])||void 0===i?void 0:i.nombre));else if("supervisor-ent"===e.target.value){var n=null===je||void 0===je?void 0:je.filter((function(e){return"supervisor"===e.role&&e.agency_id===+f}))[0];I(null===n||void 0===n?void 0:n.id),me("Meta "+(null===n||void 0===n?void 0:n.nombre)),P(-1),be("all")}},_css21:[{"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",borderRadius:"1rem","@media (min-width: 768px)":{padding:"0.125rem",marginTop:"0.125rem"},"@media (min-width: 1024px)":{padding:"0.25rem",marginTop:"0.25rem"}},"@media (min-width: 2560px) { padding: 0.5rem !important; }"],children:[Object(Q.jsx)("option",{value:"agency",children:"Toda la agencia"}),Object(Q.jsx)("option",{value:"profile",children:"Un perfil"}),Object(Q.jsx)("option",{value:"all",children:"Operador"}),Object(Q.jsx)("option",{value:"supervisor",children:"Global Supervisores"}),Object(Q.jsx)("option",{value:"supervisor-ent",children:"Individual Supervisor"})]})]}),"profile"===O?Object(Q.jsxs)("label",{children:["Perfil"," ",Object(Q.jsx)(ei,{value:S,disabled:"profile"===O&&"Meta mensual automatica"===G?"disabled":null,onChange:function(e){var t,i;I(e.target.value),"profile"===O&&me("Meta "+(null===o||void 0===o||null===(t=o.filter((function(e){return!1===e.hidden&&!0===e.activo})))||void 0===t||null===(i=t.find((function(t){return t.id===+e.target.value})))||void 0===i?void 0:i.nombre))},_css22:[{"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",borderRadius:"1rem","@media (min-width: 768px)":{padding:"0.125rem",marginTop:"0.125rem"},"@media (min-width: 1024px)":{padding:"0.25rem",marginTop:"0.25rem"}},"@media (min-width: 2560px) { padding: 0.5rem !important; }"],children:null===o||void 0===o||null===(t=o.filter((function(e){return!1===e.hidden&&!0===e.activo})))||void 0===t?void 0:t.map((function(e){return Object(Q.jsx)("option",{value:e.id,children:e.nombre},e.id)}))})]}):null,"supervisor-ent"===O?Object(Q.jsxs)("label",{children:["Supervisor"," ",Object(Q.jsx)(ti,{value:S,onChange:function(e){var t;I(e.target.value),me("Meta "+(null===je||void 0===je||null===(t=je.find((function(t){return t.id===+e.target.value})))||void 0===t?void 0:t.nombre))},_css23:[{"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",borderRadius:"1rem","@media (min-width: 768px)":{padding:"0.125rem",marginTop:"0.125rem"},"@media (min-width: 1024px)":{padding:"0.25rem",marginTop:"0.25rem"}},"@media (min-width: 2560px) { padding: 0.5rem !important; }"],children:null===je||void 0===je||null===(i=je.filter((function(e){return"supervisor"===e.role&&e.agency_id===+f})))||void 0===i?void 0:i.map((function(e){return Object(Q.jsx)("option",{value:e.id,children:e.nombre},e.id)}))})]}):null,Object(Q.jsxs)("label",{children:["Premio"," ",Object(Q.jsxs)(ii,{value:F,onChange:function(e){E(e.target.value)},disabled:"profile"===O&&"Meta mensual automatica"===G?"disabled":null,_css24:[{"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",borderRadius:"1rem","@media (min-width: 768px)":{padding:"0.125rem",marginTop:"0.125rem"},"@media (min-width: 1024px)":{padding:"0.25rem",marginTop:"0.25rem"}},"@media (min-width: 2560px) { padding: 0.5rem !important; }"],children:[Object(Q.jsx)("option",{value:"money",children:"Dinero"}),Object(Q.jsx)("option",{value:"percentage",children:"Porcentaje"}),Object(Q.jsx)("option",{value:"gift",children:"Regalo"})]})]}),Object(Q.jsxs)("label",{children:["Condici\xf3n",Object(Q.jsxs)(ni,{value:k,onChange:function(e){"points"===e.target.value&&"money"===F?ae([{points:100,prize:100}]):"points"===e.target.value&&"gift"===F?ae([{points:100,photo:g.a}]):"points"===e.target.value&&"percentage"===F?ae([{points:100,percentage:10}]):"service"===e.target.value&&"money"===F?ae([{service:$,amount:100,prize:100}]):"service"===e.target.value&&"gift"===F?ae([{service:$,amount:100,photo:g.a}]):"service"===e.target.value&&"percentage"===F&&ae([{service:$,amount:100,percentage:10}]),T(e.target.value)},disabled:"profile"===O&&"Meta mensual automatica"===G?"disabled":null,_css25:[{"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",borderRadius:"1rem","@media (min-width: 768px)":{padding:"0.125rem",marginTop:"0.125rem"},"@media (min-width: 1024px)":{padding:"0.25rem",marginTop:"0.25rem"}},"@media (min-width: 2560px) { padding: 0.5rem !important; }"],children:[Object(Q.jsx)("option",{value:"points",children:"Diamantes"}),Object(Q.jsx)("option",{value:"service",children:"Servicio"})]})]}),Object(Q.jsxs)("label",{children:["Turnos",Object(Q.jsxs)(ai,{value:A,onChange:function(e){return P(e.target.value)},disabled:"profile"===O&&"Meta mensual automatica"===G||!0===Y||"supervisor-ent"===O?"disabled":null,_css26:[{"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",borderRadius:"1rem","@media (min-width: 768px)":{padding:"0.125rem",marginTop:"0.125rem"},"@media (min-width: 1024px)":{padding:"0.25rem",marginTop:"0.25rem"}},"@media (min-width: 2560px) { padding: 0.5rem !important; }"],children:[Object(Q.jsx)("option",{value:-1,children:"Todos"}),Object(Q.jsx)("option",{value:0,children:"Dia"}),Object(Q.jsx)("option",{value:2,children:"Tarde"}),Object(Q.jsx)("option",{value:1,children:"Noche"})]})]}),"service"===k?Object(Q.jsxs)("label",{children:["Servicio"," ",Object(Q.jsx)(ri,{disabled:"profile"===O&&"Meta mensual automatica"===G?"disabled":null,value:$,onChange:function(e){var t=[];return ne.forEach((function(i){"service"===k&&"money"===F?t.push({service:e.target.value,amount:i.amount,prize:i.prize}):"service"===k&&"gift"===F?t.push({service:e.target.value,amount:i.amount,photo:null===i||void 0===i?void 0:i.photo}):"service"===k&&"percentage"===F&&t.push({service:e.target.value,amount:i.amount,percentage:i.percentage})})),ae(t),K(e.target.value)},_css27:[{"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",borderRadius:"1rem","@media (min-width: 768px)":{padding:"0.125rem",marginTop:"0.125rem"},"@media (min-width: 1024px)":{padding:"0.25rem",marginTop:"0.25rem"}},"@media (min-width: 2560px) { padding: 0.5rem !important; }"],children:null===p.l||void 0===p.l?void 0:p.l.map((function(e){return"todos"===e.value?null:Object(Q.jsx)("option",{value:e.value,children:e.name},e.value)}))})]}):null,Object(Q.jsxs)("label",{children:["Paises"," ",Object(Q.jsxs)(di,{value:he,onChange:function(){var e=Object(s.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:be(t.target.value);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),disabled:"profile"===O&&"Meta mensual automatica"===G||"supervisor-ent"===O?"disabled":null,_css28:[{"--tw-text-opacity":"1",color:"rgba(0, 0, 0, var(--tw-text-opacity))",borderRadius:"1rem","@media (min-width: 768px)":{padding:"0.125rem",marginTop:"0.125rem"},"@media (min-width: 1024px)":{padding:"0.25rem",marginTop:"0.25rem"}},"@media (min-width: 2560px) { padding: 0.5rem !important; }"],children:[Object(Q.jsx)("option",{value:"all",children:"Sin pais asignado"}),null===p.W||void 0===p.W||null===(n=p.W.filter((function(e){return null===xe||void 0===xe?void 0:xe.includes(e.code)})))||void 0===n?void 0:n.map((function(e){return Object(Q.jsx)("option",{value:e.code,children:e.name_es})}))]})]}),Object(Q.jsx)(oi,{children:Object(Q.jsxs)(ci,{children:[Object(Q.jsx)("input",{type:"checkbox",checked:Y,onChange:function(e){Z(e.target.checked),!0===e.target.checked&&P(-1)},disabled:"profile"===O&&"Meta mensual automatica"===G?"disabled":null}),"Desactivar porcentajes"]})}),Object(Q.jsx)(v.b,{cancel:!0,onClick:function(){return _e()},children:"Limpiar"})]}),Object(Q.jsxs)(si,{_css29:[{display:"flex",paddingBottom:"0px","@media (min-width: 768px)":{gap:"0.25rem",padding:"0.25rem"},"@media (min-width: 1280px)":{gap:"0.5rem",padding:"0.5rem"}},"@media (min-width: 2560px) { padding: 1rem !important; grid-gap: 1.5rem !important; }"],children:[ne.map((function(e,t){return Object(Q.jsx)(Q.Fragment,{children:Object(Q.jsx)(j.a,{step:e,index:t,setStep:Oe,editable:!0,setDeleteStep:Re,allData:ne},Math.random())})})),Object(Q.jsx)(li,{onClick:function(){var e,t,i;"points"===k&&"money"===F?ae([].concat(Object(r.a)(ne),[{points:(null===(e=ne[ne.length-1])||void 0===e?void 0:e.points)+10,prize:100}])):"points"===k&&"gift"===F?ae([].concat(Object(r.a)(ne),[{points:(null===(t=ne[ne.length-1])||void 0===t?void 0:t.points)+10,photo:g.a}])):"points"===k&&"percentage"===F?ae([].concat(Object(r.a)(ne),[{points:(null===(i=ne[ne.length-1])||void 0===i?void 0:i.points)+10,percentage:10}])):"service"===k&&"money"===F?ae([].concat(Object(r.a)(ne),[{service:$,amount:ne[ne.length-1].amount+10,prize:100}])):"service"===k&&"gift"===F?ae([].concat(Object(r.a)(ne),[{service:$,amount:ne[ne.length-1].amount+10,photo:g.a}])):"service"===k&&"percentage"===F&&ae([].concat(Object(r.a)(ne),[{service:$,amount:ne[ne.length-1].amount+10,percentage:10}]))},_css30:[{alignSelf:"center",":focus":{outline:"2px solid transparent",outlineOffset:"2px"},"@media (min-width: 768px)":{fontSize:"0.6rem"},"@media (min-width: 1024px)":{fontSize:"0.7rem"},"@media (min-width: 1280px)":{fontSize:"1rem"},"@media (min-width: 1536px)":{fontSize:"1.25rem"}},"@media (min-width: 2560px) { line-height: 1 !important; font-size: 3.75rem !important; }"],children:"+"})]}),-1!==ye.id?Object(Q.jsxs)(pi,{children:[Object(Q.jsx)(mi,{cancel:!0,onClick:function(){return ke(ie)},children:"Cancelar"}),Object(Q.jsx)(ui,{primario:!0,onClick:Object(s.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ce(!0),e.next=3,Object(p.u)("/goals/edit",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({entity:O,entityId:"all"!==O?S:1,condition:k,prize:F,steps:ne,title:pe,description:G,shifts:A,country:he,checkAct:Y,id:ye.id})});case 3:return e.next=5,u.b.invalidateQueries(["metas"]);case 5:ke(ie),ce(!1);case 7:case"end":return e.stop()}}),e)}))),children:"Editar Meta"})]}):Object(Q.jsx)(gi,{primario:!0,onClick:Object(s.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ce(!0),e.next=3,Object(p.u)("/goals/create",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({entity:O,entityId:"all"!==O?S:1,condition:k,prize:F,steps:ne,title:pe,description:G,timespan:b,shifts:A,country:he,checkAct:Y,agency_id:f})});case 3:return e.next=5,u.b.invalidateQueries(["metas"]);case 5:_e(),ce(!1);case 7:case"end":return e.stop()}}),e)}))),children:"Crear Meta"}),Object(Q.jsxs)(hi,{children:[(null===Ce||void 0===Ce?void 0:Ce.length)?Object(Q.jsx)(Xi,{text:"Perfiles",metas:Ce,setDataEdit:ke,setDataDuplicate:Te}):null,(null===Se||void 0===Se?void 0:Se.length)?Object(Q.jsx)(Ri,{text:"Operadores",metas:Se,setDataEdit:ke,setDataDuplicate:Te}):null," ",(null===Ie||void 0===Ie?void 0:Ie.length)?Object(Q.jsx)(Ri,{text:"Supervisores",metas:Ie,setDataEdit:ke,setDataDuplicate:Te}):null,(null===Ne||void 0===Ne?void 0:Ne.length)?Object(Q.jsx)(Ri,{text:"Supervisores",metas:Ne,setDataEdit:ke,setDataDuplicate:Te}):null,(null===Me||void 0===Me?void 0:Me.length)?Object(Q.jsx)(Xi,{text:"Globales",metas:Me,setDataEdit:ke,setDataDuplicate:Te}):null,(null===De||void 0===De?void 0:De.length)?Object(Q.jsx)(Ri,{text:"Concursos",metas:De,setDataEdit:ke,setDataDuplicate:Te}):null]}),oe?Object(Q.jsx)(h.a,{}):null]})},ji=Object(f.d)("div").withConfig({displayName:"MetasModal___StyledDiv59",componentId:"sc-1c2luas-127"})(["",""],(function(e){return e._css31})),xi=Object(f.d)("span").withConfig({displayName:"MetasModal___StyledSpan4",componentId:"sc-1c2luas-128"})(["",""],(function(e){return e._css32})),fi=Object(f.d)("div").withConfig({displayName:"MetasModal___StyledDiv60",componentId:"sc-1c2luas-129"})(["",""],(function(e){return e._css33})),vi=Object(f.d)("div").withConfig({displayName:"MetasModal___StyledDiv61",componentId:"sc-1c2luas-130"})(["",""],(function(e){return e._css34})),yi=Object(f.d)("div").withConfig({displayName:"MetasModal___StyledDiv62",componentId:"sc-1c2luas-131"})(["",""],(function(e){return e._css35})),wi=Object(f.d)("div").withConfig({displayName:"MetasModal___StyledDiv63",componentId:"sc-1c2luas-132"})(["",""],(function(e){return e._css36})),Oi=Object(f.d)("img").withConfig({displayName:"MetasModal___StyledImg3",componentId:"sc-1c2luas-133"})({width:"100%",height:"100%"}),_i=Object(f.d)(O.a).withConfig({displayName:"MetasModal___StyledGlobeSvg2",componentId:"sc-1c2luas-134"})({width:"100%",height:"100%"}),Mi=Object(f.d)("span").withConfig({displayName:"MetasModal___StyledSpan5",componentId:"sc-1c2luas-135"})({overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"120px",paddingLeft:"0.25rem",paddingRight:"0.25rem"}),Ci=Object(f.d)("div").withConfig({displayName:"MetasModal___StyledDiv64",componentId:"sc-1c2luas-136"})(["",""],(function(e){return e._css37})),Si=Object(f.d)("div").withConfig({displayName:"MetasModal___StyledDiv65",componentId:"sc-1c2luas-137"})({display:"flex",gap:"0.5rem",justifyContent:"center"}),Ii=Object(f.d)(v.b).withConfig({displayName:"MetasModal___StyledButton15",componentId:"sc-1c2luas-138"})({display:"flex",justifyContent:"center",alignItems:"center",width:"2rem",height:"2rem",borderRadius:"1rem"}),Ni=Object(f.d)(v.b).withConfig({displayName:"MetasModal___StyledButton16",componentId:"sc-1c2luas-139"})({display:"flex",justifyContent:"center",alignItems:"center",width:"2rem",height:"2rem",borderRadius:"1rem"}),Di=Object(f.d)(v.b).withConfig({displayName:"MetasModal___StyledButton17",componentId:"sc-1c2luas-140"})({display:"flex",justifyContent:"center",alignItems:"center",width:"2rem",height:"2rem",borderRadius:"1rem"}),ki=Object(f.d)(v.b).withConfig({displayName:"MetasModal___StyledButton18",componentId:"sc-1c2luas-141"})({display:"flex",justifyContent:"center",alignItems:"center",width:"2rem",height:"2rem",borderRadius:"1rem"}),Ti=Object(f.d)(v.b).withConfig({displayName:"MetasModal___StyledButton19",componentId:"sc-1c2luas-142"})({display:"flex",justifyContent:"center",alignItems:"center",width:"2rem",height:"2rem",borderRadius:"1rem"}),Ri=function(e){var t,i=e.metas,n=e.text,a=e.setDataEdit,r=e.setDataDuplicate;return Object(Q.jsxs)(ji,{_css31:[{display:"flex",flexDirection:"column",alignItems:"center",height:"100%","@media (min-width: 768px)":{gap:"0.125rem"},"@media (min-width: 1280px)":{gap:"0.75rem"}},"@media (min-width: 2560px) { grid-gap: 1.5rem !important; }"],children:[Object(Q.jsx)(xi,{_css32:[{"@media (min-width: 768px)":{fontSize:"0.45rem"},"@media (min-width: 1024px)":{fontSize:"0.6rem"},"@media (min-width: 1280px)":{fontSize:"0.7rem"},"@media (min-width: 1536px)":{fontSize:"1rem"}},"@media (min-width: 2560px) { line-height: 2rem !important; font-size: 1.5rem !important; }"],children:n}),Object(Q.jsx)(fi,{_css33:[{display:"flex",flexDirection:"column",overflowX:"hidden","@media (min-width: 768px)":{gap:"0.25rem",height:"65%"},"@media (min-width: 1280px)":{gap:"1.25rem",height:"57%",minWidth:"150px"},"@media (min-width: 1536px)":{gap:"1.5rem",height:"65%"}},b.b,"@media (min-width: 2560px) { grid-gap: 1.5rem !important; height:70% !important; }"],children:null===i||void 0===i||null===(t=i.sort((function(e,t){var i=0===e.shifts?3:2===e.shifts?2:1,n=0===t.shifts?3:2===t.shifts?2:1;return e.country<t.country?i>n?-2:-1:e.country>t.country?i<n?2:1:i>n?-1:i<n?1:0})))||void 0===t?void 0:t.map((function(e){return Object(Q.jsxs)(vi,{_css34:[{display:"flex",flexDirection:"column",borderWidth:"1px",borderRadius:"1rem",borderColor:"#17171c","@media (min-width: 768px)":{paddingLeft:"0.5rem",paddingRight:"0.5rem",paddingTop:"0.25rem",paddingBottom:"0.25rem",gap:"0.25rem"},"@media (min-width: 1280px)":{gap:"0.5rem"}},"@media (min-width: 2560px) { grid-gap: 1.25rem !important; padding-bottom: 1rem !important; padding-top: 1rem !important; padding-right: 1.5rem !important; padding-left: 1.5rem !important; }"],children:[Object(Q.jsxs)(yi,{_css35:[{display:"flex",gap:"0.125rem",alignItems:"center",paddingLeft:"0.5rem",paddingRight:"0.5rem",paddingTop:"0.25rem",paddingBottom:"0.25rem"},"Meta mensual automatica"!==e.description?{"--tw-bg-opacity":"1",backgroundColor:"rgba(6, 95, 70, var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",borderRadius:"1rem"}:null],children:[Object(Q.jsx)(wi,{_css36:[{width:"0.75rem",height:"auto","@media (min-width: 1024px)":{width:"0.9rem"}},"@media (min-width: 2560px) { width: 2rem !important; }","@media (min-height: 1000px) and (max-width: 767px) { width: 2rem !important; }"],children:["all","null",null].includes(e.country)?Object(Q.jsx)(_i,{}):Object(Q.jsx)(Oi,{alt:"Flag",src:"https://flagsapi.com/".concat(e.country,"/flat/64.png")})}),Object(Q.jsxs)(Mi,{children:[1===e.shifts?"\ud83c\udf19":2===e.shifts?"\ud83c\udf25\ufe0f":0===e.shifts?"\u2600\ufe0f":""," ",e.title]})]}),Object(Q.jsxs)(Ci,{_css37:[{display:"flex",flexDirection:"column","@media (min-width: 768px)":{gap:"0.25rem"},"@media (min-width: 1280px)":{gap:"0.75rem"}},"@media (min-width: 2560px) { grid-gap: 1.5rem !important; }"],children:[e.steps.map((function(e,t){return Object(Q.jsx)(j.a,{step:e,index:t})})),Object(Q.jsxs)(Si,{children:[Object(Q.jsx)(Ii,{primario:!0,onClick:function(){return a(e)},children:Object(Q.jsx)(_.a,{})}),Object(Q.jsx)(Ni,{info:!0,onClick:function(){return r(e)},children:Object(Q.jsx)(D,{})}),"Meta mensual automatica"!==e.description?Object(Q.jsxs)(Q.Fragment,{children:[!1===e.autogoal?Object(Q.jsx)(Di,{green:!0,onClick:Object(s.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("qaz"!==prompt("Ingrese clave")){t.next=5;break}return t.next=3,Object(p.u)("/goals/auto-goal",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:e.id,mode:!0})});case 3:return t.next=5,u.b.invalidateQueries(["metas"]);case 5:case"end":return t.stop()}}),t)}))),children:Object(Q.jsx)(B,{})}):Object(Q.jsx)(ki,{yellow:!0,onClick:Object(s.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("qaz"!==prompt("Ingrese clave")){t.next=5;break}return t.next=3,Object(p.u)("/goals/auto-goal",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:e.id})});case 3:return t.next=5,u.b.invalidateQueries(["metas"]);case 5:case"end":return t.stop()}}),t)}))),children:Object(Q.jsx)(B,{})}),Object(Q.jsx)(Ti,{cancel:!0,onClick:Object(s.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("qaz"!==prompt("Ingrese clave")){t.next=5;break}return t.next=3,Object(p.u)("/goals/delete",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:e.id})});case 3:return t.next=5,u.b.invalidateQueries(["metas"]);case 5:case"end":return t.stop()}}),t)}))),children:Object(Q.jsx)(J,{})})]}):null]})]})]},e.id)}))})]})},zi=Object(f.d)("div").withConfig({displayName:"MetasModal___StyledDiv66",componentId:"sc-1c2luas-143"})(["",""],(function(e){return e._css38})),Ai=Object(f.d)("span").withConfig({displayName:"MetasModal___StyledSpan6",componentId:"sc-1c2luas-144"})(["",""],(function(e){return e._css39})),Pi=Object(f.d)("select").withConfig({displayName:"MetasModal___StyledSelect17",componentId:"sc-1c2luas-145"})(["",""],(function(e){return e._css40})),Bi=Object(f.d)("div").withConfig({displayName:"MetasModal___StyledDiv67",componentId:"sc-1c2luas-146"})(["",""],(function(e){return e._css41})),Li=Object(f.d)("div").withConfig({displayName:"MetasModal___StyledDiv68",componentId:"sc-1c2luas-147"})(["",""],(function(e){return e._css42})),Fi=Object(f.d)("div").withConfig({displayName:"MetasModal___StyledDiv69",componentId:"sc-1c2luas-148"})(["",""],(function(e){return e._css43})),Ei=Object(f.d)("div").withConfig({displayName:"MetasModal___StyledDiv70",componentId:"sc-1c2luas-149"})(["",""],(function(e){return e._css44})),Wi=Object(f.d)("div").withConfig({displayName:"MetasModal___StyledDiv71",componentId:"sc-1c2luas-150"})(["",""],(function(e){return e._css45})),Ji=Object(f.d)("img").withConfig({displayName:"MetasModal___StyledImg4",componentId:"sc-1c2luas-151"})({width:"100%",height:"100%"}),Qi=Object(f.d)(O.a).withConfig({displayName:"MetasModal___StyledGlobeSvg3",componentId:"sc-1c2luas-152"})({width:"100%",height:"100%"}),Gi=Object(f.d)("span").withConfig({displayName:"MetasModal___StyledSpan7",componentId:"sc-1c2luas-153"})({overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"120px",paddingLeft:"0.25rem",paddingRight:"0.25rem"}),Vi=Object(f.d)("div").withConfig({displayName:"MetasModal___StyledDiv72",componentId:"sc-1c2luas-154"})(["",""],(function(e){return e._css46})),Ui=Object(f.d)("div").withConfig({displayName:"MetasModal___StyledDiv73",componentId:"sc-1c2luas-155"})({display:"flex",gap:"0.5rem",justifyContent:"center"}),Hi=Object(f.d)(v.b).withConfig({displayName:"MetasModal___StyledButton20",componentId:"sc-1c2luas-156"})({display:"flex",justifyContent:"center",alignItems:"center",width:"2rem",height:"2rem",borderRadius:"1rem"}),Yi=Object(f.d)(v.b).withConfig({displayName:"MetasModal___StyledButton21",componentId:"sc-1c2luas-157"})({display:"flex",justifyContent:"center",alignItems:"center",width:"2rem",height:"2rem",borderRadius:"1rem"}),Zi=Object(f.d)(v.b).withConfig({displayName:"MetasModal___StyledButton22",componentId:"sc-1c2luas-158"})({display:"flex",justifyContent:"center",alignItems:"center",width:"2rem",height:"2rem",borderRadius:"1rem"}),qi=Object(f.d)(v.b).withConfig({displayName:"MetasModal___StyledButton23",componentId:"sc-1c2luas-159"})({display:"flex",justifyContent:"center",alignItems:"center",width:"2rem",height:"2rem",borderRadius:"1rem"}),Xi=function(e){var t,i=e.metas,n=e.text,a=e.setDataEdit,r=Object(m.useState)(-1),o=Object(d.a)(r,2),l=o[0],g=o[1];return Object(Q.jsxs)(zi,{_css38:[{display:"flex",flexDirection:"column",alignItems:"center",height:"100%","@media (min-width: 768px)":{gap:"0.125rem"},"@media (min-width: 1280px)":{gap:"0.75rem"}},"@media (min-width: 2560px) { grid-gap: 1.5rem !important; }"],children:[Object(Q.jsx)(Ai,{_css39:[{"@media (min-width: 768px)":{fontSize:"0.45rem"},"@media (min-width: 1024px)":{fontSize:"0.6rem"},"@media (min-width: 1280px)":{fontSize:"0.7rem"},"@media (min-width: 1536px)":{fontSize:"1rem"}},"@media (min-width: 2560px) { line-height: 2rem !important; font-size: 1.5rem !important; }"],children:n}),Object(Q.jsxs)(Pi,{value:l,onChange:function(e){return g(e.target.value)},_css40:[{display:"flex",flexDirection:"column",borderWidth:"2px",borderRadius:"1rem",borderColor:"#17171c",fontSize:"1rem","--tw-bg-opacity":"1",backgroundColor:"rgba(23, 23, 28, var(--tw-bg-opacity))",textAlign:"center","@media (min-width: 768px)":{gap:"0.5rem",paddingLeft:"0.5rem",paddingRight:"0.5rem",paddingTop:"0.25rem",paddingBottom:"0.25rem"},"@media (min-width: 1280px)":{minWidth:"150px"}},"@media (min-width: 2560px) { grid-gap: 1.25rem !important; padding-bottom: 1rem !important; padding-top: 1rem !important; padding-right: 1.5rem !important; padding-left: 1.5rem !important; }"],children:[Object(Q.jsx)("option",{value:-1,children:"Sin Asignar"}),Object(Q.jsx)("option",{value:0,children:"Dia"}),Object(Q.jsx)("option",{value:2,children:"Tarde"}),Object(Q.jsx)("option",{value:1,children:"Noche"})]}),Object(Q.jsx)(Bi,{_css41:[{display:"flex",overflowX:"hidden","@media (min-width: 768px)":{gap:"0.25rem",height:"65%"},"@media (min-width: 1280px)":{gap:"1.25rem",height:"57%",minWidth:"150px"},"@media (min-width: 1536px)":{gap:"1.5rem",height:"65%"}},b.b,"@media (min-width: 2560px) { grid-gap: 1.5rem !important; height:70% !important; }"],children:Object(Q.jsx)(Li,{_css42:[{display:"flex",flexDirection:"column",textAlign:"center","@media (min-width: 768px)":{gap:"0.5rem",paddingLeft:"0.5rem",paddingRight:"0.5rem",paddingTop:"0.25rem",paddingBottom:"0.25rem"},"@media (min-width: 1280px)":{minWidth:"150px"}},"@media (min-width: 2560px) { grid-gap: 1.25rem !important; padding-bottom: 1rem !important; padding-top: 1rem !important; padding-right: 1.5rem !important; padding-left: 1.5rem !important; }"],children:null===i||void 0===i||null===(t=i.filter((function(e){return e.shifts===+l})))||void 0===t?void 0:t.sort((function(e,t){return e.title<t.title?-1:e.title>t.title?1:0})).map((function(e){return Object(Q.jsxs)(Fi,{_css43:[{display:"flex",flexDirection:"column",borderWidth:"1px",borderRadius:"1rem",borderColor:"#17171c","@media (min-width: 768px)":{gap:"0.5rem",paddingLeft:"0.5rem",paddingRight:"0.5rem",paddingTop:"0.25rem",paddingBottom:"0.25rem"},"@media (min-width: 1280px)":{minWidth:"150px"}},"@media (min-width: 2560px) { grid-gap: 1.25rem !important; padding-bottom: 1rem !important; padding-top: 1rem !important; padding-right: 1.5rem !important; padding-left: 1.5rem !important; }"],children:[Object(Q.jsxs)(Ei,{_css44:[{display:"flex",gap:"0.125rem",alignItems:"center",paddingLeft:"0.5rem",paddingRight:"0.5rem",paddingTop:"0.25rem",paddingBottom:"0.25rem"},"Meta mensual automatica"!==e.description?{"--tw-bg-opacity":"1",backgroundColor:"rgba(6, 95, 70, var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",borderRadius:"1rem"}:null],children:[Object(Q.jsx)(Wi,{_css45:[{width:"0.75rem",height:"auto","@media (min-width: 1024px)":{width:"0.9rem"}},"@media (min-width: 2560px) { width: 2rem !important; }","@media (min-height: 1000px) and (max-width: 767px) { width: 2rem !important; }"],children:["all","null",null].includes(e.country)?Object(Q.jsx)(Qi,{}):Object(Q.jsx)(Ji,{alt:"Flag",src:"https://flagsapi.com/".concat(e.country,"/flat/64.png")})}),Object(Q.jsxs)(Gi,{children:[1===e.shifts?"\ud83c\udf19":2===e.shifts?"\ud83c\udf25\ufe0f":0===e.shifts?"\u2600\ufe0f":""," ",e.title]})]}),Object(Q.jsxs)(Vi,{_css46:[{display:"flex",flexDirection:"column","@media (min-width: 768px)":{gap:"0.25rem"},"@media (min-width: 1280px)":{gap:"0.75rem"}},"@media (min-width: 2560px) { grid-gap: 1.5rem !important; }"],children:[e.steps.map((function(e,t){return Object(Q.jsx)(j.a,{step:e,index:t})})),Object(Q.jsxs)(Ui,{children:[Object(Q.jsx)(Hi,{primario:!0,onClick:function(){return a(e)},children:Object(Q.jsx)(_.a,{})}),"Meta mensual automatica"!==e.description?Object(Q.jsxs)(Q.Fragment,{children:[!1===e.autogoal?Object(Q.jsx)(Yi,{green:!0,onClick:Object(s.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("qaz"!==prompt("Ingrese clave")){t.next=5;break}return t.next=3,Object(p.u)("/goals/auto-goal",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:e.id,mode:!0})});case 3:return t.next=5,u.b.invalidateQueries(["metas"]);case 5:case"end":return t.stop()}}),t)}))),children:Object(Q.jsx)(B,{})}):Object(Q.jsx)(Zi,{yellow:!0,onClick:Object(s.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("qaz"!==prompt("Ingrese clave")){t.next=5;break}return t.next=3,Object(p.u)("/goals/auto-goal",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:e.id})});case 3:return t.next=5,u.b.invalidateQueries(["metas"]);case 5:case"end":return t.stop()}}),t)}))),children:Object(Q.jsx)(B,{})}),Object(Q.jsx)(qi,{cancel:!0,onClick:Object(s.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("qaz"!==prompt("Ingrese clave")){t.next=5;break}return t.next=3,Object(p.u)("/goals/delete",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:e.id})});case 3:return t.next=5,u.b.invalidateQueries(["metas"]);case 5:case"end":return t.stop()}}),t)}))),children:Object(Q.jsx)(J,{})})]}):null]})]})]},e.id)}))})})]})};t.default=function(e){var t,i=e.setShowMetasModal,n=+w.a.get("agency_id"),a=w.a.get("role"),r=Object(m.useState)(1===n&&"admin"===a?"2":""+n),o=Object(d.a)(r,2),c=o[0],s=o[1],g=Object(m.useState)("month"),b=Object(d.a)(g,2),j=b[0],x=b[1],f=u.b.getQueryData(["perfiles"]),v=u.b.getQueryData(["operadores"]),y=Object(u.d)(["metas",void 0,void 0,j,void 0,void 0,c,""],p.G),O=y.data,_=y.status,M=Object(m.useState)(!1),C=Object(d.a)(M,2),S=C[0],I=C[1],N=u.b.getQueryData(["agency"]),D=null===N||void 0===N?void 0:N.find((function(e){return e.id===+c})),k=null===N||void 0===N?void 0:N.find((function(e){return 1===e.id})),T=null===f||void 0===f?void 0:f.filter((function(e){return e.agency_id===+c})),R=null===v||void 0===v?void 0:v.filter((function(e){return e.agency_id===+c})),z=JSON.parse(null!==(t=null===D||void 0===D?void 0:D.percentlevel)&&void 0!==t?t:"{}"),A=Object(m.useState)(-1),P=Object(d.a)(A,2),B=P[0],L=P[1],F=Object(m.useState)(-1),E=Object(d.a)(F,2),W=E[0],J=E[1],G=Object(m.useState)(-1),V=Object(d.a)(G,2),U=V[0],H=V[1],Y=Object(m.useState)(-1),Z=Object(d.a)(Y,2),q=Z[0],X=Z[1],$=Object(m.useState)(-1),K=Object(d.a)($,2),ee=K[0],te=K[1],ie=Object(m.useState)(-1),ne=Object(d.a)(ie,2),ae=ne[0],je=ne[1],xe=Object(m.useState)(-1),fe=Object(d.a)(xe,2),ve=fe[0],ye=fe[1];return Object(Q.jsx)(l.a,{setShowModal:i,children:"loading"===_||S?Object(Q.jsx)(re,{children:Object(Q.jsx)(h.a,{})}):Object(Q.jsx)(de,{_css:[{width:"80vw",height:"80vh"},"@media (min-width: 2560px) { min-width: 1200px !important; min-height: 800px !important; }"],children:Object(Q.jsxs)(oe,{children:[1===n&&"admin"===a?Object(Q.jsx)(ce,{children:Object(Q.jsx)(se,{value:c,onChange:function(e){!function(e){s(e);var t=null===N||void 0===N?void 0:N.find((function(t){return t.id===+e}));L(parseFloat(t.percentday)),J(parseFloat(t.percentevening)),H(parseFloat(t.percentnight)),X(parseFloat(t.lastmonthsgoals)),te(parseFloat(t.percentrewards)),je(t.averagepoints),ye(parseFloat(t.percentnight)+parseFloat(t.percentevening)+parseFloat(t.percentday))}(e.target.value)},children:N.filter((function(e){return!0===e.isSub})).map((function(e){return Object(Q.jsx)("option",{value:e.id,children:e.name})}))})}):null,Object(Q.jsx)(le,{children:Object(Q.jsxs)(pe,{type:"single",value:j,onValueChange:function(e){e&&x(e)},children:[Object(Q.jsx)(me,{value:"day",_css2:[{"--tw-bg-opacity":"1",backgroundColor:"rgba(31, 31, 38, var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",fontWeight:"700",borderTopLeftRadius:"1rem",borderBottomLeftRadius:"1rem",borderWidth:"1px",borderColor:"#4c4c3f",borderStyle:"solid","@media (min-width: 768px)":{paddingRight:"0.25rem",paddingLeft:"0.5rem",paddingTop:"0.25rem",paddingBottom:"0.25rem"},"@media (min-width: 1280px)":{paddingRight:"0.75rem",paddingLeft:"1rem",paddingTop:"0.5rem",paddingBottom:"0.5rem"}},"day"===j?{"--tw-bg-opacity":"1",backgroundColor:"rgba(76, 76, 63, var(--tw-bg-opacity))"}:null],children:"Diarias"}),Object(Q.jsx)(ue,{value:"month",_css3:[{"--tw-bg-opacity":"1",backgroundColor:"rgba(31, 31, 38, var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",fontWeight:"700",borderWidth:"1px",borderColor:"#4c4c3f",borderStyle:"solid","@media (min-width: 768px)":{paddingLeft:"0.25rem",paddingRight:"0.25rem",paddingTop:"0.25rem",paddingBottom:"0.25rem"},"@media (min-width: 1280px)":{paddingLeft:"0.75rem",paddingRight:"0.75rem",paddingTop:"0.5rem",paddingBottom:"0.5rem"}},"month"===j?{"--tw-bg-opacity":"1",backgroundColor:"rgba(76, 76, 63, var(--tw-bg-opacity))"}:null],children:"Mensuales"}),Object(Q.jsx)(ge,{value:"main",_css4:[{"--tw-bg-opacity":"1",backgroundColor:"rgba(31, 31, 38, var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",fontWeight:"700",borderWidth:"1px",borderColor:"#4c4c3f",borderStyle:"solid","@media (min-width: 768px)":{paddingLeft:"0.25rem",paddingRight:"0.25rem",paddingTop:"0.25rem",paddingBottom:"0.25rem"},"@media (min-width: 1280px)":{paddingLeft:"0.75rem",paddingRight:"0.75rem",paddingTop:"0.5rem",paddingBottom:"0.5rem"}},"main"===j?{"--tw-bg-opacity":"1",backgroundColor:"rgba(76, 76, 63, var(--tw-bg-opacity))"}:null],children:"Perfiles"}),Object(Q.jsx)(he,{value:"historial",_css5:[{"--tw-bg-opacity":"1",backgroundColor:"rgba(31, 31, 38, var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",fontWeight:"700",borderWidth:"1px",borderColor:"#4c4c3f",borderStyle:"solid","@media (min-width: 768px)":{paddingLeft:"0.25rem",paddingRight:"0.25rem",paddingTop:"0.25rem",paddingBottom:"0.25rem"},"@media (min-width: 1280px)":{paddingLeft:"0.75rem",paddingRight:"0.75rem",paddingTop:"0.5rem",paddingBottom:"0.5rem"}},"historial"===j?{"--tw-bg-opacity":"1",backgroundColor:"rgba(76, 76, 63, var(--tw-bg-opacity))"}:null],children:"Historial"}),Object(Q.jsx)(be,{value:"formula",_css6:[{"--tw-bg-opacity":"1",backgroundColor:"rgba(31, 31, 38, var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",fontWeight:"700",borderTopRightRadius:"1rem",borderBottomRightRadius:"1rem",borderWidth:"1px",borderColor:"#4c4c3f",borderStyle:"solid","@media (min-width: 768px)":{paddingLeft:"0.25rem",paddingRight:"0.5rem",paddingTop:"0.25rem",paddingBottom:"0.25rem"},"@media (min-width: 1280px)":{paddingLeft:"0.75rem",paddingRight:"1rem",paddingTop:"0.5rem",paddingBottom:"0.5rem"}},"formula"===j?{"--tw-bg-opacity":"1",backgroundColor:"rgba(76, 76, 63, var(--tw-bg-opacity))"}:null],children:"Formula"})]})}),"month"===j||"day"===j?Object(Q.jsx)(bi,{perfiles:T,metas:O,timespan:j,setTimespan:x,selectAgency:c}):null,"main"===j?Object(Q.jsx)(St,{metas:O,setIsLoading:I,perfiles:T,operadores:R,selectAgency:c}):null,"historial"===j?Object(Q.jsx)(Se,{operadores:R,agency:D,selectAgency:c}):null,"formula"===j?Object(Q.jsx)(xt,{dayPercentUse:B,setDayPercentUse:L,eveningPercentUse:W,setEveningPercentUse:J,nightPercentUse:U,setNightPercentUse:H,lastMonths:q,setLastMonths:X,rewardsPercent:ee,setRewardsPercent:te,percentUse:ve,setPercentUse:ye,setIsLoading:I,ListpercentLevel:z,selectAgency:c,agency:D,mainAgency:k,limitFire:ae,setLimitFire:je}):null]})})})}}}]);